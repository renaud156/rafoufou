<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Réserver votre stage - Tennis Impact</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Manrope:wght@400;500;600;700&display=swap"
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Poppins:wght@400;500;600;700&display=swap"
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Réserver votre stage - Tennis Impact Academy</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600;700&family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
    <style>
      :root {
        color-scheme: light;
        --page-bg: linear-gradient(160deg, #f7f1e9 0%, #ffffff 34%, #eef2f7 100%);
        --surface: rgba(255, 255, 255, 0.92);
        --surface-strong: rgba(255, 255, 255, 0.98);
        --border: rgba(25, 32, 45, 0.08);
        --text-strong: #1c2536;
        --text-muted: rgba(28, 37, 54, 0.66);
        --brand: #c7a049;
        --brand-strong: #a47c1e;
        --brand-soft: rgba(199, 160, 73, 0.14);
        --accent: #1d3354;
        --success: #2d9a6c;
        --danger: #c24747;
        --radius-lg: 28px;
        --radius-md: 20px;
        --radius-sm: 12px;
        --shadow-lg: 0 40px 90px rgba(15, 27, 53, 0.18);
        --shadow-md: 0 20px 45px rgba(15, 27, 53, 0.16);
        --shadow-sm: 0 10px 30px rgba(15, 27, 53, 0.12);
        scroll-padding-top: 120px;
      }

      *,
      *::before,
      *::after {
        box-sizing: border-box;
        --reservation-bg: radial-gradient(circle at 10% -20%, rgba(201, 155, 59, 0.22), transparent 55%),
          linear-gradient(145deg, #fefbf6 0%, #f5f7ff 38%, #ffffff 100%);
        --reservation-surface: rgba(255, 255, 255, 0.9);
        --reservation-card: rgba(255, 255, 255, 0.8);
        --reservation-border: rgba(28, 34, 52, 0.08);
        --reservation-contrast: #1b2333;
        --reservation-muted: rgba(27, 35, 51, 0.68);
        --reservation-highlight: #c99b3b;
        --reservation-highlight-strong: #b8861f;
        --reservation-error: #d94c5f;
        --reservation-radius-lg: 26px;
        --reservation-radius-md: 18px;
        --reservation-radius-sm: 12px;
        --reservation-shadow: 0 22px 60px rgba(23, 32, 53, 0.16);
        color-scheme: dark;
        --reservation-bg: radial-gradient(circle at top left, rgba(59, 93, 255, 0.2), transparent 55%),
          linear-gradient(160deg, #050912 0%, #050b1a 38%, #02040c 100%);
        --reservation-surface: rgba(14, 20, 39, 0.9);
        --reservation-card: rgba(12, 18, 34, 0.72);
        --reservation-border: rgba(255, 255, 255, 0.08);
        --reservation-contrast: #f6f7fb;
        --reservation-muted: rgba(228, 232, 245, 0.75);
        --reservation-highlight: #f4c76a;
        --reservation-highlight-strong: #eab646;
        --reservation-error: #f06272;
        --reservation-radius-lg: 26px;
        --reservation-radius-md: 18px;
        --reservation-radius-sm: 12px;
        --reservation-shadow: 0 30px 80px rgba(5, 8, 18, 0.55);
      }

      body.reservation-page {
        margin: 0;
        font-family: "Manrope", "Segoe UI", sans-serif;
        background: var(--page-bg);
        color: var(--text-strong);
        line-height: 1.6;
        min-height: 100vh;
        scroll-behavior: smooth;
        min-height: 100vh;
        font-family: "Poppins", "Segoe UI", sans-serif;
        background: var(--reservation-bg);
        color: var(--reservation-contrast);
        line-height: 1.6;
        scroll-behavior: smooth;
        scroll-padding-top: 110px;
      }

      *,
      *::before,
      *::after {
        box-sizing: border-box;
      }

      img {
        max-width: 100%;
        display: block;
      }

      a {
        color: inherit;
        text-decoration: none;
      }

      .page-shell {
        width: min(1180px, 92vw);
        margin: 0 auto;
      }

      header.booking-header {
        position: sticky;
        top: 0;
        z-index: 50;
        backdrop-filter: blur(18px);
        background: rgba(255, 255, 255, 0.9);
        border-bottom: 1px solid var(--border);
      }

      .booking-header__inner {
      .reservation-container {
        width: min(1140px, 92vw);
        margin: 0 auto;
      }

      header.reservation-header {
        position: fixed;
        inset: 0 0 auto 0;
        z-index: 40;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(18px);
        border-bottom: 1px solid var(--reservation-border);
        box-shadow: 0 12px 28px rgba(23, 32, 53, 0.08);
        color: var(--reservation-contrast);
        background: rgba(7, 12, 25, 0.92);
        backdrop-filter: blur(12px);
        border-bottom: 1px solid var(--reservation-border);
      }

      .reservation-header__inner {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 24px;
        padding: 18px 0;
      }

      .booking-logo {
        font-family: "Playfair Display", serif;
        text-transform: uppercase;
        letter-spacing: 0.22em;
        font-size: 1.15rem;
        color: var(--accent);
      }

      .booking-nav {
        padding: 20px 0;
      }

      .reservation-logo {
        font-family: "Playfair Display", serif;
        font-size: 1.5rem;
        letter-spacing: 0.12em;
        text-transform: uppercase;
        color: var(--reservation-contrast);
      }

      .reservation-nav {
        display: flex;
        align-items: center;
        gap: 18px;
      }

      .booking-nav__link {
        font-size: 0.9rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        padding: 10px 14px;
        border-radius: 999px;
        transition: background 0.3s ease, color 0.3s ease;
        color: var(--text-muted);
        font-weight: 600;
      }

      .booking-nav__link:hover,
      .booking-nav__link:focus {
        outline: none;
        background: var(--brand-soft);
        color: var(--brand-strong);
      }

      .booking-nav__toggle {
        display: none;
        background: rgba(255, 255, 255, 0.75);
        border: 1px solid var(--border);
        border-radius: 14px;
        padding: 10px 16px;
        font-weight: 600;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: var(--accent);
      }

      .cart-pill {
      .reservation-nav a {
        font-size: 0.95rem;
        letter-spacing: 0.06em;
        text-transform: uppercase;
        padding: 10px 12px;
        border-radius: 999px;
        transition: background 0.25s ease, color 0.25s ease;
        color: var(--reservation-muted);
        font-weight: 500;
      }

      .reservation-nav a:hover,
      .reservation-nav a:focus {
        outline: none;
        background: rgba(27, 35, 51, 0.08);
        background: rgba(255, 255, 255, 0.08);
        color: var(--reservation-highlight);
      }

      .reservation-nav__toggle {
        display: none;
        border: 1px solid var(--reservation-border);
        background: transparent;
        color: var(--reservation-contrast);
        padding: 10px 16px;
        border-radius: 999px;
        font-size: 0.95rem;
        letter-spacing: 0.08em;
      }

      .reservation-cart-pill {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        padding: 10px 18px;
        border-radius: 999px;
        border: 1px solid var(--border);
        background: var(--brand-soft);
        color: var(--accent);
        font-size: 0.85rem;
        font-weight: 600;
        letter-spacing: 0.1em;
        text-transform: uppercase;
        cursor: pointer;
        transition: transform 0.3s ease, background 0.3s ease, color 0.3s ease;
      }

      .cart-pill:hover,
      .cart-pill:focus {
        outline: none;
        transform: translateY(-1px);
        background: var(--brand);
        color: #fff;
      }

      .cart-pill__count {
        border: 1px solid var(--reservation-border);
        background: rgba(27, 35, 51, 0.05);
        color: var(--reservation-contrast);
        background: rgba(255, 255, 255, 0.06);
        color: inherit;
        font-size: 0.9rem;
        letter-spacing: 0.1em;
        text-transform: uppercase;
        cursor: pointer;
        transition: background 0.3s ease, transform 0.3s ease, color 0.3s ease;
        transition: background 0.3s ease, transform 0.3s ease;
      }

      .reservation-cart-pill:hover,
      .reservation-cart-pill:focus {
        outline: none;
        background: rgba(201, 155, 59, 0.16);
        color: var(--reservation-highlight-strong);
        background: rgba(255, 255, 255, 0.12);
        transform: translateY(-1px);
      }

      .reservation-cart-pill__count {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 26px;
        height: 26px;
        border-radius: 50%;
        background: #fff;
        color: var(--accent);
        font-weight: 700;
      }

      main {
        padding: 40px 0 120px;
      }

      .hero {
        position: relative;
        border-radius: var(--radius-lg);
        padding: clamp(32px, 6vw, 70px);
        background: radial-gradient(circle at 18% 20%, rgba(199, 160, 73, 0.24), transparent 55%),
          radial-gradient(circle at 82% 12%, rgba(29, 51, 84, 0.16), transparent 45%),
          linear-gradient(145deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.75) 100%);
        overflow: hidden;
        box-shadow: var(--shadow-lg);
        margin-bottom: clamp(48px, 8vw, 80px);
      }

      .hero::after {
        content: "";
        position: absolute;
        inset: 0;
        background: radial-gradient(circle at 80% 60%, rgba(199, 160, 73, 0.12), transparent 65%);
        pointer-events: none;
      }

      .hero__content {
        position: relative;
        max-width: 640px;
        z-index: 1;
      }

      .hero__eyebrow {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        padding: 6px 14px;
        border-radius: 999px;
        background: rgba(199, 160, 73, 0.18);
        color: var(--accent);
        font-size: 0.8rem;
        letter-spacing: 0.12em;
        text-transform: uppercase;
        font-weight: 700;
      }

      .hero__title {
        margin: 24px 0 18px;
        font-family: "Playfair Display", serif;
        font-size: clamp(2.5rem, 4vw, 3.6rem);
        line-height: 1.1;
        color: var(--accent);
      }

      .hero__subtitle {
        font-size: 1.05rem;
        color: var(--text-muted);
        margin-bottom: 28px;
      }

      .hero__actions {
        display: flex;
        flex-wrap: wrap;
        gap: 18px;
      }

      .btn-primary {
        display: inline-flex;
        align-items: center;
        gap: 12px;
        padding: 14px 28px;
        border-radius: 999px;
        border: none;
        background: linear-gradient(135deg, var(--brand) 0%, var(--brand-strong) 100%);
        color: #fff;
        font-weight: 700;
        letter-spacing: 0.1em;
        text-transform: uppercase;
        font-size: 0.92rem;
        cursor: pointer;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        box-shadow: 0 15px 40px rgba(164, 124, 30, 0.35);
        background: var(--reservation-highlight);
        color: #1a1406;
        font-weight: 600;
        font-size: 0.8rem;
      }

      main {
        padding-top: 120px;
      }

      .reservation-hero {
        padding: clamp(120px, 18vw, 180px) 0 120px;
        position: relative;
      body.reservation-page {
        --page-bg: radial-gradient(circle at top left, rgba(51, 82, 180, 0.22), transparent 55%),
          linear-gradient(160deg, #040a18 0%, #050e22 45%, #020613 100%);
        --page-contrast: #f6f8ff;
        --page-muted: rgba(236, 240, 255, 0.75);
        --page-card: rgba(9, 18, 42, 0.78);
        --page-border: rgba(255, 255, 255, 0.09);
        --page-gold: #f4c76a;
        --page-gold-strong: #f0b850;
        --page-radius-lg: 26px;
        --page-radius-md: 18px;
        --page-shadow: 0 24px 70px rgba(2, 6, 19, 0.45);
        margin: 0;
        min-height: 100vh;
        color: var(--page-contrast);
        background: var(--page-bg);
        font-family: "Poppins", "Segoe UI", sans-serif;
        line-height: 1.6;
        padding-top: 96px;
        scroll-padding-top: 120px;
      }

      body.modal-open {
        overflow: hidden;
      }

      body.reservation-page .navbar {
        background: linear-gradient(120deg, rgba(5, 12, 32, 0.95), rgba(6, 16, 40, 0.88));
        border-bottom: 1px solid var(--page-border);
      }

      main {
        display: flex;
        flex-direction: column;
        gap: 120px;
      :root {
        color-scheme: dark light;
      }

      body.reservation-page {
        --reservation-bg: radial-gradient(circle at 18% 12%, rgba(51, 94, 221, 0.18), transparent 55%),
          linear-gradient(145deg, #030714 0%, #030b21 55%, #020613 100%);
        --reservation-contrast: #f9fbff;
        --reservation-muted: rgba(245, 246, 255, 0.7);
        --reservation-soft: rgba(16, 30, 58, 0.75);
        --reservation-card: rgba(10, 18, 38, 0.85);
        --reservation-border: rgba(255, 255, 255, 0.08);
        --reservation-highlight: #f4c66c;
        --reservation-highlight-strong: #f2b744;
        --reservation-shadow: 0 28px 80px rgba(0, 11, 37, 0.55);
        --reservation-radius-xl: 32px;
        --reservation-radius-lg: 24px;
        --reservation-radius-md: 18px;
        --reservation-radius-sm: 12px;
        --reservation-transition: 0.32s cubic-bezier(0.34, 1, 0.68, 1);
        background: var(--reservation-bg);
        color: var(--reservation-contrast);
        font-family: "Poppins", "Segoe UI", sans-serif;
        margin: 0;
        line-height: 1.6;
      body.reservation-page {
        --reservation-night: #050916;
        --reservation-deep: #0b1630;
        --reservation-surface: rgba(14, 28, 52, 0.82);
        --reservation-gold: #f5c451;
        --reservation-gold-strong: #f0ad2c;
        --reservation-muted: rgba(223, 230, 255, 0.75);
        --reservation-contrast: #f7f8ff;
        --reservation-border: rgba(255, 255, 255, 0.12);
        --reservation-shadow: 0 32px 80px rgba(2, 10, 32, 0.45);
        --reservation-radius-lg: 28px;
        --reservation-radius-md: 20px;
        --reservation-radius-sm: 14px;
        margin: 0;
        font-family: "Poppins", "Segoe UI", sans-serif;
        background: radial-gradient(circle at 12% 18%, rgba(67, 95, 255, 0.16), transparent 55%),
          linear-gradient(160deg, var(--reservation-night) 0%, #020714 45%, #030a1b 100%);
        color: var(--reservation-contrast);
        line-height: 1.7;
        min-height: 100vh;
        scroll-padding-top: 120px;
      }

      body.reservation-page .navbar {
        background: linear-gradient(120deg, rgba(5, 12, 32, 0.9), rgba(10, 20, 45, 0.78));
        border-bottom: 1px solid var(--reservation-border);
      }

      body.reservation-page .navbar__inner {
        max-width: 1180px;
      }

      body.reservation-page main {
        margin-top: 96px;
      }

      .reservation-alert {
        margin: 120px auto 0;
        width: min(960px, 92vw);
        padding: 18px 24px;
        border-radius: var(--reservation-radius-md);
        border: 1px solid rgba(244, 198, 108, 0.45);
        background: rgba(244, 198, 108, 0.12);
        color: var(--reservation-highlight);
        text-align: center;
        font-size: 0.95rem;
        letter-spacing: 0.02em;
      }

      .reservation-alert a {
        color: inherit;
        font-weight: 600;
        text-decoration: underline;
      }

      .reservation-hero {
        position: relative;
        padding: clamp(120px, 20vh, 200px) 0 120px;
        background: radial-gradient(circle at 80% 18%, rgba(95, 122, 255, 0.2), transparent 60%),
          linear-gradient(150deg, rgba(6, 15, 38, 0.92), rgba(4, 10, 25, 0.6));
        padding: clamp(120px, 18vh, 220px) 0 120px;
        background: radial-gradient(circle at top right, rgba(99, 122, 255, 0.18), transparent 55%),
          linear-gradient(160deg, rgba(5, 15, 40, 0.92), rgba(6, 18, 46, 0.78));
      }

      .reservation-hero::after {
        content: "";
        position: absolute;
        inset: 0;
        pointer-events: none;
        background: radial-gradient(circle at 80% 10%, rgba(201, 155, 59, 0.18), transparent 58%);
        background: radial-gradient(circle at 80% 10%, rgba(244, 199, 106, 0.2), transparent 58%);
        background: radial-gradient(circle at 12% 20%, rgba(244, 198, 108, 0.22), transparent 62%);
        background: radial-gradient(circle at 12% 18%, rgba(244, 198, 108, 0.22), transparent 62%);
      }

      .reservation-hero__inner {
        position: relative;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: clamp(32px, 6vw, 72px);
        align-items: center;
        z-index: 1;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: clamp(32px, 6vw, 64px);
        align-items: center;
        width: min(1100px, 92vw);
        margin: 0 auto;
        max-width: 1180px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 56px;
        align-items: center;
        padding: 0 3vw;
      }

      .reservation-hero__eyebrow {
        display: inline-flex;
        align-items: center;
        gap: 12px;
        font-size: 0.8rem;
        text-transform: uppercase;
        letter-spacing: 0.3em;
        font-size: 0.85rem;
        letter-spacing: 0.34em;
        text-transform: uppercase;
        color: var(--page-gold);
        margin-bottom: 16px;
        color: var(--reservation-highlight);
        margin-bottom: 18px;
      }

      .reservation-hero__eyebrow::before {
        content: "";
        width: 42px;
        width: 44px;
        width: 40px;
        height: 1px;
        background: currentColor;
      }

      .reservation-hero__title {
        font-family: "Playfair Display", serif;
        font-size: clamp(2.5rem, 4.5vw, 4rem);
        line-height: 1.1;
        font-size: clamp(2.6rem, 4vw, 4.1rem);
        line-height: 1.12;
        font-size: clamp(2.6rem, 4vw, 4rem);
        line-height: 1.15;
        margin: 0 0 24px;
      }

      .reservation-hero__title span {
        color: var(--reservation-highlight);
        color: var(--page-gold);
      }

      .reservation-hero__lead {
        margin: 0 0 32px;
        color: var(--reservation-muted);
        font-size: clamp(1rem, 1.3vw, 1.15rem);
      }

      .reservation-hero__card {
        background: var(--reservation-card);
        border: 1px solid var(--reservation-border);
        border-radius: var(--reservation-radius-lg);
        padding: clamp(28px, 5vw, 36px);
        box-shadow: var(--reservation-shadow);
        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.06);
        color: var(--page-muted);
        font-size: clamp(1rem, 1.3vw, 1.08rem);
        max-width: 520px;
      }

      .reservation-hero__card {
        padding: 32px;
        border-radius: var(--page-radius-lg);
        background: var(--page-card);
        border: 1px solid var(--page-border);
        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.08);
      }

      .reservation-hero__card h3 {
        margin-top: 0;
        margin-bottom: 12px;
        font-size: 1.35rem;
        font-size: 1.4rem;
      }

      .reservation-hero__card p {
        margin: 0 0 20px;
        color: var(--reservation-muted);
        font-size: 0.98rem;
      }

      .reservation-hero__list {
        list-style: none;
        padding: 0;
        margin: 0 0 24px;
        display: grid;
        gap: 12px;
      }

      .reservation-hero__list li {
        position: relative;
        padding-left: 22px;
        color: var(--reservation-muted);
        font-size: 0.95rem;
      }

      .reservation-hero__list li::before {
        content: "";
        position: absolute;
        left: 0;
        top: 11px;
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: var(--reservation-highlight);
      }

      .reservation-actions {
        color: var(--page-muted);
      }

      .reservation-hero__list {
        padding: 0;
        margin: 0 0 24px;
        list-style: none;
        display: grid;
        gap: 12px;
        color: var(--page-muted);
      }

      .reservation-hero__list li::before {
        content: "•";
        color: var(--page-gold);
        margin-right: 10px;
      }

      .reservation-hero__actions {
        display: flex;
        flex-wrap: wrap;
        gap: 16px;
      }

      .btn-primary,
      .btn-secondary,
      .btn-link {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        border-radius: 999px;
        padding: 12px 26px;
        font-weight: 600;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        font-size: 0.92rem;
        cursor: pointer;
        border: none;
        transition: transform 0.25s ease, box-shadow 0.25s ease, background 0.25s ease;
      }

      .btn-primary {
        background: var(--reservation-highlight);
        color: #1b1405;
        box-shadow: 0 15px 30px rgba(201, 155, 59, 0.25);
        box-shadow: 0 15px 30px rgba(244, 199, 106, 0.25);
      .btn-gold,
      .btn-outline {
        cursor: pointer;
      }

      .btn-primary {
        border: none;
        border-radius: 999px;
        padding: 14px 28px;
        font-weight: 600;
        background: linear-gradient(135deg, var(--page-gold), var(--page-gold-strong));
        color: #1a1306;
        transition: transform 0.25s ease, box-shadow 0.25s ease;
      }

      .btn-primary:hover,
      .btn-primary:focus {
        outline: none;
        transform: translateY(-2px);
        box-shadow: 0 20px 55px rgba(164, 124, 30, 0.45);
      }

      .btn-ghost {
        display: inline-flex;
        align-items: center;
        gap: 12px;
        padding: 14px 28px;
        border-radius: 999px;
        border: 1px solid rgba(28, 37, 54, 0.18);
        background: rgba(255, 255, 255, 0.7);
        color: var(--accent);
        font-weight: 700;
        letter-spacing: 0.1em;
        text-transform: uppercase;
        font-size: 0.92rem;
        cursor: pointer;
        transition: background 0.3s ease, color 0.3s ease, transform 0.3s ease;
      }

      .btn-ghost:hover,
      .btn-ghost:focus {
        outline: none;
        background: var(--accent);
        color: #fff;
        transform: translateY(-2px);
      }

      section {
        margin-bottom: clamp(64px, 10vw, 110px);
      }

      .section-header {
        display: flex;
        flex-direction: column;
        gap: 14px;
        margin-bottom: 36px;
      }

      .section-eyebrow {
        font-size: 0.8rem;
        letter-spacing: 0.12em;
        text-transform: uppercase;
        font-weight: 700;
        color: var(--brand-strong);
      }

      .section-title {
        font-family: "Playfair Display", serif;
        font-size: clamp(1.8rem, 3vw, 2.6rem);
        color: var(--accent);
      }

      .section-description {
        max-width: 720px;
        color: var(--text-muted);
      }

      .booking-grid {
        display: grid;
        gap: clamp(24px, 4vw, 40px);
        grid-template-columns: minmax(0, 320px) minmax(0, 1fr);
        align-items: start;
      }

      .calendar-card {
        position: sticky;
        top: 120px;
        background: var(--surface);
        border-radius: var(--radius-lg);
        padding: clamp(24px, 4vw, 36px);
        box-shadow: var(--shadow-md);
        border: 1px solid var(--border);
      }

      .calendar-card h3 {
        margin: 0 0 20px;
        font-size: 1.1rem;
        letter-spacing: 0.16em;
        text-transform: uppercase;
        color: var(--accent);
      }

      .week-grid {
        display: grid;
        gap: 12px;
      }

      .week-button {
        display: flex;
        flex-direction: column;
        gap: 6px;
        padding: 16px 18px;
        border-radius: var(--radius-sm);
        border: 1px solid rgba(28, 37, 54, 0.12);
        background: rgba(255, 255, 255, 0.85);
        text-align: left;
        cursor: pointer;
        transition: border-color 0.3s ease, background 0.3s ease, transform 0.3s ease;
      }

      .week-button__title {
        font-weight: 700;
        color: var(--accent);
      }

      .week-button__subtitle {
        color: var(--text-muted);
        font-size: 0.9rem;
      }

      .week-button.is-active {
        border-color: var(--brand);
        background: linear-gradient(145deg, rgba(199, 160, 73, 0.25), rgba(255, 255, 255, 0.95));
        transform: translateY(-2px);
        box-shadow: var(--shadow-sm);
      }

      .catalogue {
        display: grid;
        gap: 28px;
      }

      .stage-card {
        display: flex;
        flex-direction: column;
        gap: 22px;
        padding: clamp(24px, 4vw, 36px);
        border-radius: var(--radius-lg);
        background: var(--surface-strong);
        box-shadow: var(--shadow-md);
        border: 1px solid var(--border);
        position: relative;
        overflow: hidden;
      }

      .stage-card::before {
        content: "";
        position: absolute;
        inset: 0;
        background: radial-gradient(circle at 12% 18%, rgba(199, 160, 73, 0.14), transparent 48%);
        pointer-events: none;
      }

      .stage-card__badge {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        padding: 6px 14px;
        border-radius: 999px;
        background: rgba(29, 51, 84, 0.1);
        color: var(--accent);
        font-size: 0.8rem;
        letter-spacing: 0.12em;
        text-transform: uppercase;
        font-weight: 700;
      }

      .stage-card__header {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .stage-card__title {
        margin: 0;
        font-family: "Playfair Display", serif;
        font-size: clamp(1.5rem, 2.6vw, 2.1rem);
        color: var(--accent);
      }

      .stage-card__meta {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        color: var(--text-muted);
        font-size: 0.92rem;
      }

      .stage-card__meta span {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 6px 12px;
        border-radius: 999px;
        background: rgba(199, 160, 73, 0.16);
        color: var(--accent);
        font-weight: 600;
      }

      .stage-card__description {
        color: var(--text-muted);
        margin: 0;
      }

      .stage-card__list {
        display: grid;
        gap: 10px;
        margin: 0;
        padding: 0;
        list-style: none;
        color: var(--text-muted);
      }

      .stage-card__list li {
        display: inline-flex;
        gap: 10px;
        align-items: flex-start;
      }

      .stage-card__list li::before {
        content: "✦";
        color: var(--brand-strong);
        font-size: 0.8rem;
        padding-top: 2px;
      }

      .stage-card__footer {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        justify-content: space-between;
        gap: 18px;
        position: relative;
        z-index: 1;
      }

      .stage-card__price {
        display: flex;
        flex-direction: column;
        gap: 6px;
        font-weight: 700;
        color: var(--accent);
        font-size: 1.2rem;
      }

      .stage-card__price span {
        font-size: 0.85rem;
        color: var(--text-muted);
        font-weight: 500;
      }

      .stage-card__controls {
        display: flex;
        flex-wrap: wrap;
        gap: 16px;
        align-items: center;
      }
      .participants-field {
        display: flex;
        flex-direction: column;
        gap: 6px;
        font-size: 0.85rem;
        color: var(--text-muted);
      }

      .participants-field input {
        width: 92px;
        border-radius: 14px;
        border: 1px solid rgba(28, 37, 54, 0.18);
        padding: 10px 12px;
        font: inherit;
        font-weight: 600;
        color: var(--accent);
      }

      .option-switch {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        padding: 10px 14px;
        border-radius: 999px;
        background: rgba(29, 51, 84, 0.06);
        border: 1px solid transparent;
        font-size: 0.85rem;
        color: var(--accent);
        font-weight: 600;
        cursor: pointer;
        transition: background 0.3s ease, border 0.3s ease;
      }

      .option-switch input {
        width: 18px;
        height: 18px;
      }

      .option-switch.is-active {
        background: rgba(199, 160, 73, 0.22);
        border-color: rgba(199, 160, 73, 0.45);
      }

      .empty-state {
        padding: 48px;
        border-radius: var(--radius-lg);
        background: rgba(255, 255, 255, 0.75);
        text-align: center;
        color: var(--text-muted);
        border: 1px dashed rgba(28, 37, 54, 0.12);
      }

      .info-grid {
        display: grid;
        gap: 22px;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      }

      .info-card {
        border-radius: var(--radius-md);
        padding: 26px;
        background: rgba(255, 255, 255, 0.82);
        box-shadow: var(--shadow-sm);
        border: 1px solid var(--border);
        display: flex;
        flex-direction: column;
        gap: 14px;
      }

      .info-card strong {
        font-family: "Playfair Display", serif;
        font-size: 1.2rem;
        color: var(--accent);
      }

      .info-card p {
        margin: 0;
        color: var(--text-muted);
      }

      .locations-grid {
        display: grid;
        gap: 24px;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      }

      .location-card {
        border-radius: var(--radius-lg);
        overflow: hidden;
        background: rgba(255, 255, 255, 0.88);
        box-shadow: var(--shadow-md);
        border: 1px solid var(--border);
        display: flex;
        flex-direction: column;
      }

      .location-card__media {
        aspect-ratio: 5 / 3;
        background: linear-gradient(135deg, rgba(29, 51, 84, 0.18), rgba(199, 160, 73, 0.26));
      }

      .location-card__body {
        padding: 24px;
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .location-card__title {
        margin: 0;
        font-family: "Playfair Display", serif;
        font-size: 1.3rem;
        color: var(--accent);
      }

      .location-card__tags {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        color: var(--brand-strong);
        font-size: 0.85rem;
        text-transform: uppercase;
        letter-spacing: 0.1em;
      }

      .location-card__tags span {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 6px 12px;
        border-radius: 999px;
        background: rgba(199, 160, 73, 0.16);
      }

      .faq {
        display: grid;
        gap: 18px;
      }

      .faq-item {
        border-radius: var(--radius-md);
        background: rgba(255, 255, 255, 0.85);
        border: 1px solid var(--border);
        padding: 22px 24px;
        box-shadow: var(--shadow-sm);
      }

      .faq-item strong {
        display: block;
        font-family: "Playfair Display", serif;
        color: var(--accent);
        font-size: 1.1rem;
        margin-bottom: 10px;
      }

      .floating-cart {
        position: fixed;
        right: 28px;
        bottom: 28px;
        z-index: 45;
      }

      .floating-cart button {
        border: none;
        padding: 16px 28px;
        border-radius: 999px;
        background: linear-gradient(135deg, var(--brand) 0%, var(--brand-strong) 100%);
        color: #fff;
        font-weight: 700;
        letter-spacing: 0.14em;
        text-transform: uppercase;
        cursor: pointer;
        box-shadow: 0 22px 45px rgba(164, 124, 30, 0.45);
        display: inline-flex;
        align-items: center;
        gap: 12px;
      }

      .floating-cart__count {
        width: 28px;
        height: 28px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.2);
        border: 1px solid rgba(255, 255, 255, 0.5);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
      }

      .cart-modal {
        position: fixed;
        inset: 0;
        z-index: 70;
        display: none;
        align-items: center;
        justify-content: center;
        padding: 24px;
      }

      .cart-modal.is-visible {
        display: flex;
      }

      .cart-modal__overlay {
        position: absolute;
        inset: 0;
        background: rgba(15, 22, 36, 0.45);
        backdrop-filter: blur(14px);
      }

      .cart-modal__dialog {
        position: relative;
        z-index: 1;
        width: min(720px, 95vw);
        max-height: min(90vh, 900px);
        overflow: hidden;
        border-radius: var(--radius-lg);
        background: rgba(255, 255, 255, 0.98);
        box-shadow: var(--shadow-lg);
        display: flex;
        flex-direction: column;
      }

      .cart-modal__header {
        padding: 28px clamp(24px, 4vw, 40px) 12px;
        border-bottom: 1px solid var(--border);
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 20px;
      }

      .cart-modal__title {
        margin: 0;
        font-family: "Playfair Display", serif;
        font-size: 1.8rem;
        color: var(--accent);
      }

      .cart-modal__close {
        border: none;
        background: rgba(29, 51, 84, 0.08);
        border-radius: 50%;
        width: 42px;
        height: 42px;
        display: grid;
        place-items: center;
        cursor: pointer;
        color: var(--accent);
      }

      .cart-modal__body {
        padding: 0 clamp(24px, 4vw, 40px);
        overflow-y: auto;
        display: grid;
        gap: 28px;
      }

      .cart-items {
        box-shadow: 0 20px 40px rgba(201, 155, 59, 0.3);
        box-shadow: 0 20px 40px rgba(244, 199, 106, 0.3);
      }

      .btn-secondary {
        background: transparent;
        color: var(--reservation-highlight);
        border: 1px solid rgba(201, 155, 59, 0.4);
        border: 1px solid rgba(244, 199, 106, 0.4);
        transform: translateY(-2px);
        box-shadow: 0 16px 40px rgba(244, 198, 108, 0.35);
      }

      .btn-secondary {
        border-radius: 999px;
        padding: 14px 26px;
        font-weight: 600;
        border: 1px solid var(--page-border);
        background: rgba(10, 20, 44, 0.6);
        color: var(--page-contrast);
        transition: border-color 0.25s ease, background 0.25s ease;
      }

      .btn-secondary:hover,
      .btn-secondary:focus {
        outline: none;
        background: rgba(201, 155, 59, 0.12);
      }

      .btn-link {
        background: rgba(27, 35, 51, 0.06);
        color: var(--reservation-highlight-strong);
        border: 1px solid rgba(201, 155, 59, 0.2);
        background: rgba(244, 199, 106, 0.12);
      }

      .btn-link {
        background: rgba(255, 255, 255, 0.08);
        color: var(--reservation-contrast);
      }

      .btn-link:hover,
      .btn-link:focus {
        outline: none;
        background: rgba(201, 155, 59, 0.16);
        background: rgba(255, 255, 255, 0.16);
      }

      section.reservation-section {
        padding: clamp(72px, 12vw, 120px) 0;
        scroll-margin-top: 120px;
        position: relative;
      }

      section.reservation-section:nth-of-type(even) {
        background: rgba(255, 255, 255, 0.66);
      }

      .section-heading {
        display: flex;
        flex-direction: column;
        gap: 12px;
        margin-bottom: clamp(32px, 6vw, 48px);
      }

      .section-heading span {
        font-size: 0.75rem;
        letter-spacing: 0.3em;
        text-transform: uppercase;
        color: var(--reservation-highlight);
      }

      .section-heading h2 {
        margin: 0;
        font-family: "Playfair Display", serif;
        font-size: clamp(2rem, 3.6vw, 2.8rem);
      }

      .section-heading p {
        max-width: 680px;
        color: var(--reservation-muted);
        margin: 0;
      }

      .calendar-panel {
        display: grid;
        grid-template-columns: 2fr 1fr;
        gap: clamp(24px, 6vw, 48px);
        border-color: var(--page-gold);
        background: rgba(16, 28, 58, 0.75);
      }

      .reservation-tabs {
        position: sticky;
        top: 96px;
        z-index: 50;
        background: linear-gradient(90deg, rgba(4, 10, 24, 0.94), rgba(6, 16, 38, 0.94));
        border-block: 1px solid rgba(255, 255, 255, 0.06);
        backdrop-filter: blur(12px);
      }

      .reservation-tabs__inner {
        width: min(1100px, 94vw);
        margin: 0 auto;
        display: flex;
        gap: 22px;
        padding: 16px 0;
        overflow-x: auto;
        scrollbar-width: none;
      }

      .reservation-tabs__inner::-webkit-scrollbar {
        display: none;
      }

      .reservation-tabs__inner a {
        position: relative;
        padding-bottom: 8px;
        font-size: 0.92rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: var(--page-muted);
        white-space: nowrap;
        transition: color 0.25s ease;
      }

      .reservation-tabs__inner a::after {
        content: "";
        position: absolute;
        inset: auto 0 0;
        height: 2px;
        transform: scaleX(0);
        transform-origin: left;
        background: var(--page-gold);
        transition: transform 0.25s ease;
      }

      .reservation-tabs__inner a:hover,
      .reservation-tabs__inner a:focus {
        color: var(--page-contrast);
      }

      .reservation-tabs__inner a.is-active::after {
        transform: scaleX(1);
      }

      .reservation-section {
        width: min(1100px, 92vw);
        margin: 0 auto;
        display: grid;
        gap: 48px;
      }

      .reservation-section__header {
        display: grid;
        gap: 18px;
      }

      .section-eyebrow {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        font-size: 0.8rem;
        letter-spacing: 0.32em;
        text-transform: uppercase;
        color: var(--page-gold);
      }

      .section-eyebrow::before {
        content: "";
        width: 36px;
        height: 1px;
        background: currentColor;
      }

      .reservation-section__header h2 {
        margin: 0;
        font-family: "Playfair Display", serif;
        font-size: clamp(2.1rem, 3vw, 3rem);
      }

      .reservation-section__header p {
        margin: 0;
        color: var(--page-muted);
        max-width: 680px;
      }

      .calendar-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
        gap: 18px;
      }

      .calendar-week {
        display: grid;
        gap: 6px;
        padding: 18px;
        border-radius: var(--reservation-radius-md);
        background: var(--reservation-card);
        border: 1px solid var(--reservation-border);
        text-align: left;
        cursor: pointer;
        transition: transform 0.25s ease, border-color 0.25s ease, box-shadow 0.25s ease;
        box-shadow: var(--reservation-shadow);
      }

      .calendar-week span {
        display: block;
        gap: 10px;
        border-radius: var(--page-radius-md);
        background: rgba(7, 16, 40, 0.7);
        border: 1px solid var(--page-border);
        padding: 18px 20px;
        text-align: left;
        color: inherit;
        cursor: pointer;
        transition: transform 0.25s ease, border-color 0.25s ease, background 0.25s ease;
      }

      .calendar-week__label {
        font-weight: 600;
        font-size: 1.05rem;
      }

      .calendar-week__locations {
        color: var(--reservation-muted);
        font-size: 0.9rem;
      }

      .calendar-week__status {
        font-size: 0.85rem;
        text-transform: uppercase;
        letter-spacing: 0.12em;
        color: rgba(201, 155, 59, 0.9);
      }

      .calendar-week.is-active {
        border-color: rgba(201, 155, 59, 0.55);
        box-shadow: 0 26px 54px rgba(201, 155, 59, 0.22);
        transform: translateY(-3px);
        color: rgba(244, 199, 106, 0.9);
      }

      .calendar-week.is-active {
        border-color: rgba(244, 199, 106, 0.5);
        box-shadow: 0 18px 44px rgba(12, 20, 34, 0.55);
        transform: translateY(-3px);
      .calendar-week__locations,
      .calendar-week__status {
        color: var(--page-muted);
        font-size: 0.9rem;
      }

      .calendar-week.is-active {
        border-color: var(--page-gold);
        background: rgba(13, 26, 56, 0.8);
        box-shadow: inset 0 0 0 1px rgba(244, 198, 108, 0.25);
      }

      .calendar-summary {
        display: grid;
        gap: 16px;
      }

      .calendar-summary__card {
        background: var(--reservation-card);
        border: 1px solid var(--reservation-border);
        padding: 20px;
        border-radius: var(--reservation-radius-md);
        box-shadow: var(--reservation-shadow);
        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.04);
      }

      .calendar-summary__card strong {
        display: block;
        font-weight: 600;
        margin-bottom: 8px;
      }

      .calendar-summary__list {
        list-style: none;
        padding: 0;
        margin: 0;
        display: grid;
        gap: 10px;
      }

      .calendar-summary__list li {
        color: var(--reservation-muted);
        font-size: 0.92rem;
      }

      .calendar-summary__empty {
        background: rgba(255, 255, 255, 0.92);
        border: 1px dashed rgba(201, 155, 59, 0.35);
        border-radius: var(--reservation-radius-md);
        padding: 20px;
        text-align: center;
        color: var(--reservation-muted);
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 24px;
      }

      .calendar-summary__card {
        padding: 28px;
        border-radius: var(--page-radius-md);
        background: rgba(9, 18, 42, 0.68);
        border: 1px solid var(--page-border);
        display: grid;
        gap: 12px;
      }

      .calendar-summary__list {
        margin: 0;
        padding-left: 18px;
        color: var(--page-muted);
        display: grid;
        gap: 8px;
      }

      .calendar-summary__empty {
        margin: 0;
        color: var(--page-muted);
      }

      .stage-grid {
        display: grid;
        gap: clamp(24px, 6vw, 36px);
      }

      .stage-card {
        background: var(--reservation-card);
        background: rgba(12, 18, 34, 0.82);
        border: 1px solid var(--reservation-border);
        border-radius: var(--reservation-radius-lg);
        padding: clamp(28px, 5vw, 38px);
        display: grid;
        gap: 18px;
        box-shadow: var(--reservation-shadow);
      }

      .stage-card.is-selected {
        border-color: rgba(201, 155, 59, 0.4);
        box-shadow: 0 32px 60px rgba(201, 155, 59, 0.22);
        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.04), var(--reservation-shadow);
        gap: 22px;
      }

      .stage-card {
        display: grid;
        gap: 18px;
        padding: 28px;
        border-radius: var(--page-radius-md);
        background: rgba(9, 18, 42, 0.72);
        border: 1px solid var(--page-border);
        box-shadow: var(--page-shadow);
      }

      .stage-card__header {
        display: flex;
        flex-direction: column;
        gap: 6px;
      }

      .stage-card__category {
        font-size: 0.7rem;
        text-transform: uppercase;
        letter-spacing: 0.32em;
        color: rgba(201, 155, 59, 0.8);
        color: rgba(244, 199, 106, 0.8);
        flex-wrap: wrap;
        gap: 14px;
        align-items: baseline;
      }

      .stage-card__category {
        padding: 4px 12px;
        border-radius: 999px;
        background: rgba(244, 198, 108, 0.14);
        color: var(--page-gold);
        font-size: 0.75rem;
        letter-spacing: 0.16em;
        text-transform: uppercase;
      }

      .stage-card__title {
        margin: 0;
        font-size: 1.5rem;
        font-family: "Playfair Display", serif;
        font-family: "Playfair Display", serif;
        font-size: clamp(1.5rem, 2.3vw, 2rem);
      }

      .stage-card__location {
        margin: 0;
        color: var(--reservation-muted);
        font-weight: 500;
        color: var(--page-muted);
      }

      .stage-card__description {
        margin: 0;
        color: var(--reservation-muted);
        color: var(--page-muted);
      }

      .stage-card__tags {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
      }

      .stage-card__tag {
        padding: 8px 16px;
        border-radius: 999px;
        border: 1px solid rgba(201, 155, 59, 0.35);
        color: var(--reservation-highlight-strong);
        font-size: 0.75rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        background: rgba(201, 155, 59, 0.08);
      }

      .stage-card__status {
        padding: 12px 16px;
        border-radius: var(--reservation-radius-sm);
        background: rgba(201, 155, 59, 0.12);
        color: var(--reservation-highlight-strong);
        font-size: 0.85rem;
        letter-spacing: 0.04em;
        border: 1px solid rgba(244, 199, 106, 0.35);
        color: var(--reservation-highlight);
        font-size: 0.75rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        padding: 6px 12px;
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: rgba(5, 12, 28, 0.6);
        font-size: 0.82rem;
        color: var(--page-muted);
      }

      .stage-card__footer {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: 18px;
      }

      .stage-card__price {
        font-size: 1.2rem;
        gap: 20px;
        align-items: center;
        justify-content: space-between;
      }

      .stage-card__price {
        font-size: 1.4rem;
        font-weight: 600;
      }

      .stage-card__weeks {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        color: var(--reservation-muted);
        font-size: 0.85rem;
      }

      .info-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: clamp(24px, 5vw, 36px);
      }

      .info-card {
        background: var(--reservation-card);
        border: 1px solid var(--reservation-border);
        border-radius: var(--reservation-radius-md);
        padding: clamp(24px, 4vw, 32px);
        display: grid;
        gap: 14px;
        box-shadow: var(--reservation-shadow);
      }

      .info-card h3 {
        margin: 0;
        font-size: 1.25rem;
        font-family: "Playfair Display", serif;
      }

      .info-card p {
        margin: 0;
        color: var(--reservation-muted);
        font-size: 0.95rem;
      }

      .info-card ul {
        list-style: none;
        padding: 0;
        margin: 0;
        display: grid;
        gap: 10px;
        color: var(--reservation-muted);
        font-size: 0.92rem;
      }

      .faq {
        display: grid;
        gap: 18px;
      }

      .cart-item {
        border-radius: var(--radius-md);
        border: 1px solid var(--border);
        padding: 18px 22px;
        background: rgba(255, 255, 255, 0.9);
        display: grid;
        gap: 12px;
      }

      .cart-item__top {
        display: flex;
        justify-content: space-between;
        gap: 12px;
        align-items: flex-start;
      }

      .cart-item__title {
        margin: 0;
        font-weight: 700;
        color: var(--accent);
      }

      .cart-item__meta {
        color: var(--text-muted);
        font-size: 0.9rem;
      }

      .cart-item__price {
        font-weight: 700;
        color: var(--accent);
      }

      .cart-item__actions {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
      }

      .cart-item__actions button {
        border-radius: 999px;
        border: 1px solid rgba(29, 51, 84, 0.18);
        padding: 8px 14px;
        font-size: 0.8rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        background: rgba(29, 51, 84, 0.04);
        color: var(--accent);
        cursor: pointer;
      }

      .cart-item__actions button.is-active {
        background: rgba(199, 160, 73, 0.18);
        border-color: rgba(199, 160, 73, 0.45);
        color: var(--brand-strong);
      }

      .cart-item__actions span {
        font-weight: 600;
        color: var(--accent);
      }

      .cart-summary {
        border-radius: var(--radius-md);
        border: 1px solid var(--border);
        padding: 22px 24px;
        background: rgba(199, 160, 73, 0.1);
        display: grid;
        gap: 10px;
      }

      .cart-summary__row {
        display: flex;
        justify-content: space-between;
        font-size: 0.9rem;
        color: var(--text-muted);
      }

      .cart-summary__total {
        font-size: 1.2rem;
        font-weight: 700;
        color: var(--accent);
      }

      .cart-form {
        border-radius: var(--radius-md);
        border: 1px solid var(--border);
        padding: 24px;
        background: rgba(255, 255, 255, 0.92);
        display: grid;
        gap: 18px;
      }

      .cart-form__row {
        display: grid;
        gap: 18px;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      }

      .cart-form label {
        display: grid;
        gap: 6px;
        font-size: 0.85rem;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        font-weight: 600;
        color: var(--text-muted);
      }

      .cart-form input,
      .cart-form textarea,
      .cart-form select {
        border-radius: 14px;
        border: 1px solid rgba(28, 37, 54, 0.18);
        background: rgba(255, 255, 255, 0.95);
        padding: 12px 14px;
        font: inherit;
        color: var(--accent);
      }

      .cart-form textarea {
        min-height: 120px;
        resize: vertical;
      }

      .toast-stack {
        position: fixed;
        top: 24px;
        right: 24px;
        z-index: 80;
        display: grid;
        gap: 12px;
      }

      .toast {
        padding: 16px 20px;
        border-radius: 14px;
        background: rgba(29, 51, 84, 0.92);
        color: #fff;
        font-weight: 600;
        letter-spacing: 0.05em;
        box-shadow: var(--shadow-md);
        animation: toastIn 0.4s ease;
      }

      .toast--success {
        background: linear-gradient(145deg, rgba(45, 154, 108, 0.95), rgba(29, 51, 84, 0.95));
      }

      .toast--info {
        background: linear-gradient(145deg, rgba(199, 160, 73, 0.95), rgba(29, 51, 84, 0.95));
      }

      @keyframes toastIn {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      noscript {
        display: block;
        margin: 24px 0;
        padding: 18px;
        border-radius: var(--radius-md);
        background: rgba(194, 71, 71, 0.12);
        color: var(--danger);
        font-weight: 600;
        text-align: center;
      }
      @media (max-width: 980px) {
        .booking-header__inner {
          flex-wrap: wrap;
        }

        .booking-nav {
          position: fixed;
          inset: 86px 18px auto;
          padding: 18px;
          border-radius: var(--radius-md);
          background: rgba(255, 255, 255, 0.96);
          box-shadow: var(--shadow-md);
          border: 1px solid var(--border);
          flex-direction: column;
          align-items: stretch;
          transform-origin: top right;
          transform: scale(0.95);
          opacity: 0;
          pointer-events: none;
          transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .booking-nav.is-open {
          opacity: 1;
          pointer-events: auto;
          transform: scale(1);
        }

        .booking-nav__toggle {
          display: inline-flex;
          align-items: center;
          gap: 10px;
        }

        .cart-pill {
          display: none;
        }

        .booking-grid {
          grid-template-columns: minmax(0, 1fr);
        }

        .calendar-card {
          position: static;
        }
      }

      @media (max-width: 760px) {
        header.booking-header {
          top: 0;
        }

        main {
          padding-top: 24px;
        }

        .hero__actions {
          flex-direction: column;
          align-items: stretch;
        }

        .stage-card {
          padding: 24px;
        }

        .stage-card__footer {
          flex-direction: column;
          align-items: stretch;
        }

        .stage-card__controls {
          width: 100%;
          justify-content: space-between;
        }

        .stage-card__controls button {
          flex: 1 1 auto;
        }

        .floating-cart {
          right: 16px;
          bottom: 16px;
        }

        .floating-cart button {
          padding: 14px 20px;
        }
      }

      @media (max-width: 520px) {
        .booking-header__inner {
          padding: 16px 0;
        }

        .hero {
          padding: 28px 22px;
        }

        .cart-modal__dialog {
          width: 100%;
        }

        .cart-modal__body {
          padding: 0 22px;
        }

        .cart-modal__header {
          padding: 20px 22px 8px;
        }

        .cart-form {
          padding: 20px;
        }
      }
    </style>
  </head>
  <body class="reservation-page">
    <header class="booking-header" data-header>
      <div class="page-shell booking-header__inner">
        <a href="index.html" class="booking-logo">Tennis Impact</a>
        <button class="booking-nav__toggle" type="button" data-nav-toggle>Menu</button>
        <nav class="booking-nav" data-nav>
          <a class="booking-nav__link" href="#reservation">Réserver</a>
          <a class="booking-nav__link" href="#methodologie">Méthodologie</a>
          <a class="booking-nav__link" href="#lieux">Lieux</a>
          <a class="booking-nav__link" href="#options">Options</a>
          <a class="booking-nav__link" href="#faq">FAQ</a>
          <button class="cart-pill" type="button" data-open-cart>
            <span>Voir le panier</span>
            <span class="cart-pill__count" data-cart-count>0</span>
          </button>
        </nav>
        <button class="cart-pill" type="button" data-open-cart>
          <span>Voir le panier</span>
          <span class="cart-pill__count" data-cart-count>0</span>
        </button>
      </div>
    </header>
    <main>
      <div class="page-shell">
        <section class="hero" id="reservation">
          <div class="hero__content">
            <span class="hero__eyebrow">Réservation premium</span>
            <h1 class="hero__title">Composez votre semaine de stage sur mesure</h1>
            <p class="hero__subtitle">
              Choisissez vos dates, votre lieu d’entraînement et vos options pour vivre une expérience Tennis Impact au cœur des
              meilleures infrastructures françaises.
            </p>
            <div class="hero__actions">
              <button class="btn-primary" type="button" data-scroll-to="#catalogue">Explorer les stages</button>
              <button class="btn-ghost" type="button" data-open-cart>Voir mon panier</button>
            </div>
          </div>
        </section>

        <section>
          <div class="section-header">
            <span class="section-eyebrow">Calendrier & sélection</span>
            <h2 class="section-title">Réservez la semaine idéale et laissez le panier intelligent vous guider</h2>
            <p class="section-description">
              Sélectionnez une semaine disponible dans le calendrier interactif. Les stages correspondants s’affichent
              automatiquement. Configurez le nombre de participants et vos options avant d’ajouter au panier.
            </p>
          </div>
          <div class="booking-grid">
            <aside class="calendar-card" aria-label="Sélection de la semaine">
              <h3>Semaines disponibles</h3>
              <div class="week-grid" data-week-grid></div>
            </aside>
            <div class="catalogue" id="catalogue" data-catalogue></div>
          </div>
        </section>

        <section id="methodologie">
          <div class="section-header">
            <span class="section-eyebrow">Méthodologie</span>
            <h2 class="section-title">Une progression encadrée par l’excellence sportive</h2>
            <p class="section-description">
              Chaque stage est construit autour d’objectifs précis : diagnostic vidéo, axes techniques individualisés et coaching
              mental. Les groupes limités à six joueurs garantissent un suivi privilégié et un rythme d’entraînement adapté à votre
              niveau.
            </p>
          </div>
          <div class="info-grid">
            <article class="info-card">
              <strong>Coaching expert</strong>
              <p>
                Bénéficiez d’un staff issu du haut niveau : préparateurs physiques, coachs spécialisés, analystes vidéo. Chaque
                séance est suivie d’un débrief premium.
              </p>
            </article>
            <article class="info-card">
              <strong>Programme sur-mesure</strong>
              <p>
                Avant votre arrivée, nous calibrons votre parcours selon votre profil : intensité, thématiques prioritaires et
                moments de récupération.
              </p>
            </article>
            <article class="info-card">
              <strong>Suivi après stage</strong>
              <p>
                Recevez un carnet digital personnalisé comprenant vos axes de travail, des vidéos commentées et une feuille de
                route pour prolonger les progrès.
              </p>
            </article>
          </div>
        </section>

        <section id="lieux">
          <div class="section-header">
            <span class="section-eyebrow">Destinations</span>
            <h2 class="section-title">Des sites d’exception sélectionnés pour leur exigence</h2>
            <p class="section-description">
              CREPS et domaines partenaires offrent surfaces variées, hébergements de standing et restauration sportive pour un
              séjour sans compromis.
            </p>
          </div>
          <div class="locations-grid">
            <article class="location-card">
              <div class="location-card__media"></div>
              <div class="location-card__body">
                <h3 class="location-card__title">CREPS de Poitiers</h3>
                <div class="location-card__tags">
                  <span>Indoor & Outdoor</span>
                  <span>Préparation physique</span>
                </div>
                <p>
                  Plateaux multi-surfaces, salle de musculation et espace de récupération pour conjuguer intensité et confort.
                </p>
              </div>
            </article>
            <article class="location-card">
              <div class="location-card__media"></div>
              <div class="location-card__body">
                <h3 class="location-card__title">CREPS de Toulouse</h3>
                <div class="location-card__tags">
                  <span>Atmosphère sud</span>
                  <span>Analyse vidéo</span>
                </div>
                <p>
                  Infrastructures rénovées, pistes d’athlétisme et courts en terre battue pour un stage rythmé par le soleil.
                </p>
              </div>
            </article>
            <article class="location-card">
              <div class="location-card__media"></div>
              <div class="location-card__body">
                <h3 class="location-card__title">CREPS d’Aix-en-Provence</h3>
                <div class="location-card__tags">
                  <span>Climat méditerranéen</span>
                  <span>Coaching élite</span>
                </div>
                <p>
                  Cadre verdoyant et hébergement premium pour alterner séances de performance et moments de récupération.
                </p>
              </div>
            </article>
            <article class="location-card">
              <div class="location-card__media"></div>
              <div class="location-card__body">
                <h3 class="location-card__title">Domaine des Landes Girondines</h3>
                <div class="location-card__tags">
                  <span>Immersion nature</span>
                  <span>Hébergement signature</span>
                </div>
                <p>
                  Complexe résidentiel haut de gamme au cœur des pins avec courts couverts et espaces bien-être privatifs.
                </p>
              </div>
            </article>
            <article class="location-card">
              <div class="location-card__media"></div>
              <div class="location-card__body">
                <h3 class="location-card__title">Cabourg</h3>
                <div class="location-card__tags">
                  <span>Air marin</span>
                  <span>Sessions plage</span>
                </div>
                <p>
                  Stage entre mer et courts en gazon synthétique : équilibre parfait entre technique et sensations océanes.
                </p>
              </div>
            </article>
          </div>
        </section>

        <section id="options">
          <div class="section-header">
            <span class="section-eyebrow">Options</span>
            <h2 class="section-title">Personnalisez l’expérience à chaque étape</h2>
            <p class="section-description">
              Hébergement, transport et accompagnement extra-sportif sont disponibles pour que votre séjour reste centré sur la
              progression.
            </p>
          </div>
          <div class="info-grid">
            <article class="info-card">
              <strong>Hébergement signature</strong>
              <p>
                Chambres twin ou suites premium au sein des sites partenaires. Encadrement 24/7, restauration sportive et espaces
                lounge.
              </p>
            </article>
            <article class="info-card">
              <strong>Transport orchestré</strong>
              <p>
                Navettes gare/aéroport, transferts quotidiens vers les courts et gestion des bagages par notre équipe logistique.
              </p>
            </article>
            <article class="info-card">
              <strong>Services additionnels</strong>
              <p>
                Séances individuelles vidéo, préparation mentale, cryothérapie et suivi nutritionnel sur demande.
              </p>
            </article>
          </div>
        </section>

        <section id="faq">
          <div class="section-header">
            <span class="section-eyebrow">FAQ</span>
            <h2 class="section-title">Questions fréquentes</h2>
            <p class="section-description">
              Retrouvez les réponses essentielles avant de valider votre dossier de réservation premium.
            </p>
          </div>
          <div class="faq">
            <article class="faq-item">
              <strong>Comment fonctionne le panier intelligent&nbsp;?</strong>
              <p>
                Chaque ajout reprend vos choix de semaine, d’options et le nombre de participants. Le total s’actualise
                automatiquement et reste disponible dans le menu ou via le bouton flottant.
              </p>
            </article>
            <article class="faq-item">
              <strong>Puis-je modifier ma sélection avant validation&nbsp;?</strong>
              <p>
                Oui, ouvrez le panier pour ajuster les participants, retirer un stage ou changer vos options. Un toast de
                confirmation vous indique chaque mise à jour.
              </p>
            </article>
            <article class="faq-item">
              <strong>Quand suis-je recontacté après l’envoi du formulaire&nbsp;?</strong>
              <p>
                Notre équipe vous revient sous 24h ouvrées avec le contrat et les détails logistiques pour finaliser votre
                réservation.
              </p>
            </article>
          </div>
        </section>
      </div>
    </main>
    <div class="floating-cart">
      <button type="button" data-open-cart>
        Mon panier
        <span class="floating-cart__count" data-cart-count>0</span>
      </button>
    </div>

    <div class="cart-modal" data-cart-modal aria-hidden="true">
      <div class="cart-modal__overlay" data-close-cart></div>
      <div class="cart-modal__dialog" role="dialog" aria-labelledby="cart-title" aria-modal="true">
        <header class="cart-modal__header">
          <h2 class="cart-modal__title" id="cart-title">Panier intelligent</h2>
          <button class="cart-modal__close" type="button" data-close-cart aria-label="Fermer le panier">✕</button>
        </header>
        <div class="cart-modal__body">
          <div class="cart-items" data-cart-items></div>
          <div class="cart-summary" data-cart-summary>
            <div class="cart-summary__row"><span>Total participants</span><span data-cart-participants>0</span></div>
            <div class="cart-summary__row"><span>Options</span><span data-cart-options>0 €</span></div>
            <div class="cart-summary__total">Total général&nbsp;: <span data-cart-total>0 €</span></div>
          </div>
          <form class="cart-form" data-cart-form>
            <div class="cart-form__row">
              <label>Nom
                <input type="text" name="lastName" placeholder="Dupont" required />
              </label>
              <label>Prénom
                <input type="text" name="firstName" placeholder="Alexandre" required />
              </label>
            </div>
            <div class="cart-form__row">
              <label>Email
                <input type="email" name="email" placeholder="vous@exemple.com" required />
              </label>
              <label>Téléphone
                <input type="tel" name="phone" placeholder="06 12 34 56 78" required />
              </label>
            </div>
            <label>Message
              <textarea name="message" placeholder="Précisez les attentes particulières ou le niveau des participants"></textarea>
            </label>
            <button class="btn-primary" type="submit">Envoyer ma demande</button>
          </form>
        </div>
      </div>
    </div>

    <div class="toast-stack" aria-live="polite" aria-atomic="true" data-toast-stack></div>

    <noscript>
      Activez JavaScript pour profiter du calendrier interactif, du panier intelligent et du formulaire premium.
    </noscript>
    <script>
      const weeks = [
        {
          id: "w27",
          label: "Semaine du 1er juillet",
          range: "1 → 7 juillet 2024",
          focus: "Préparation compétition",
        },
        {
          id: "w28",
          label: "Semaine du 8 juillet",
          range: "8 → 14 juillet 2024",
          focus: "Intensif performance",
        },
        {
          id: "w29",
          label: "Semaine du 15 juillet",
          range: "15 → 21 juillet 2024",
          focus: "Progression technique",
        },
        {
          id: "w30",
          label: "Semaine du 22 juillet",
          range: "22 → 28 juillet 2024",
          focus: "Pré-saison compétition",
        },
        {
          id: "w31",
          label: "Semaine du 29 juillet",
          range: "29 juillet → 4 août 2024",
          focus: "Élite & intensif",
        },
      ];

      const stageCatalog = [
        {
          id: "poitiers-performance",
          title: "Performance Jeunes",
          location: "CREPS de Poitiers",
          basePrice: 920,
          hebergementPrice: 260,
          transportPrice: 110,
          weeks: ["w27", "w28", "w29"],
          level: "Compétition",
          duration: "35h coaching",
          description: "Diagnostic vidéo quotidien, préparation physique intégrée et coaching tactique individuel.",
          highlights: [
            "Analyse biomécanique en début et fin de stage",
            "Accès salle de musculation et cryo",
            "Coaching mental en petit groupe",
          ],
        },
        {
          id: "toulouse-elite",
          title: "Intensif Sud Ouest",
          location: "CREPS de Toulouse",
          basePrice: 890,
          hebergementPrice: 250,
          transportPrice: 120,
          weeks: ["w28", "w29", "w30"],
          level: "Intensif",
          duration: "32h coaching",
          description: "Stage au soleil toulousain alternant terre battue et préparation athlétique ciblée.",
          highlights: [
            "Séances double coaching avec analyse vidéo",
            "Préparation physique sur piste et gymnase",
            "Restitution personnalisée en fin de stage",
          ],
        },
        {
          id: "aix-signature",
          title: "Signature Méditerranée",
          location: "CREPS d’Aix-en-Provence",
          basePrice: 980,
          hebergementPrice: 320,
          transportPrice: 150,
          weeks: ["w27", "w30", "w31"],
          level: "Élite",
          duration: "38h coaching",
          description: "Programme d’excellence avec séances sur dur et terre, récupération active et nutrition sur mesure.",
          highlights: [
            "Accès privatif aux espaces bien-être",
            "Suivi nutritionnel premium",
            "Coaching individuel quotidien",
          ],
        },
        {
          id: "landes-immersion",
          title: "Immersion Landes",
          location: "Domaine des Landes Girondines",
          basePrice: 940,
          hebergementPrice: 280,
          transportPrice: 140,
          weeks: ["w28", "w30", "w31"],
          level: "Immersion",
          duration: "34h coaching",
          description: "Stage résidentiel entouré de pins avec séances tactiques, plages horaires premium et ateliers bien-être.",
          highlights: [
            "Hébergement signature dans le domaine",
            "Séances de mobilité et yoga du sportif",
            "Coaching tactique en match dirigé",
          ],
        },
        {
          id: "cabourg-elite",
          title: "Élite Cabourg",
          location: "Cabourg",
          basePrice: 860,
          hebergementPrice: 230,
          transportPrice: 120,
          weeks: ["w27", "w29", "w31"],
          level: "Performance",
          duration: "30h coaching",
          description: "Semaine entre mer et courts synthétiques avec focus service/retour et routines mentales.",
          highlights: [
            "Sessions plage et récupération marine",
            "Ateliers service avec radar",
            "Matchs officiels coachés",
          ],
        },
      ];

      const weeksMap = new Map(weeks.map((week) => [week.id, week]));
      let activeWeekId = weeks[0].id;
      let cart = [];

      const weekGrid = document.querySelector("[data-week-grid]");
      const catalogue = document.querySelector("[data-catalogue]");
      const cartCountBadges = document.querySelectorAll("[data-cart-count]");
      const cartModal = document.querySelector("[data-cart-modal]");
      const cartItemsContainer = document.querySelector("[data-cart-items]");
      const cartSummary = document.querySelector("[data-cart-summary]");
      const cartParticipants = document.querySelector("[data-cart-participants]");
      const cartOptions = document.querySelector("[data-cart-options]");
      const cartTotal = document.querySelector("[data-cart-total]");
      const cartForm = document.querySelector("[data-cart-form]");
      const toastStack = document.querySelector("[data-toast-stack]");

      const navToggle = document.querySelector("[data-nav-toggle]");
      const nav = document.querySelector("[data-nav]");

      navToggle?.addEventListener("click", () => {
        nav?.classList.toggle("is-open");
      });

      nav?.querySelectorAll("a").forEach((link) =>
        link.addEventListener("click", () => {
          nav.classList.remove("is-open");
        })
      );

      document.querySelectorAll('[data-scroll-to]').forEach((button) => {
        button.addEventListener('click', (event) => {
          const target = button.getAttribute('data-scroll-to');
          if (!target) return;
          const section = document.querySelector(target);
          if (section) {
            event.preventDefault();
            section.scrollIntoView({ behavior: 'smooth', block: 'start' });
          }
        });
      });
      function renderWeekButtons() {
        weekGrid.innerHTML = "";
        weeks.forEach((week) => {
          const button = document.createElement("button");
          button.type = "button";
          button.className = `week-button${week.id === activeWeekId ? " is-active" : ""}`;
          button.dataset.weekId = week.id;
          button.innerHTML = `
            <span class="week-button__title">${week.label}</span>
            <span class="week-button__subtitle">${week.range}</span>
            <span class="week-button__subtitle">${week.focus}</span>
          `;
          button.addEventListener("click", () => {
            activeWeekId = week.id;
            renderWeekButtons();
            renderCatalogue();
            showToast(`Semaine sélectionnée : ${week.label}`, "info");
          });
          weekGrid.appendChild(button);
        });
      }

      function formatPrice(value) {
        return new Intl.NumberFormat("fr-FR", {
          style: "currency",
          currency: "EUR",
          maximumFractionDigits: 0,
        }).format(value);
      }

      function renderCatalogue() {
        catalogue.innerHTML = "";
        const availableStages = stageCatalog.filter((stage) => stage.weeks.includes(activeWeekId));

        if (!availableStages.length) {
          const empty = document.createElement("div");
          empty.className = "empty-state";
          empty.innerHTML = `Aucun stage n'est programmé pour cette semaine. Sélectionnez une autre date.`;
          catalogue.appendChild(empty);
          return;
        }

        availableStages.forEach((stage) => {
          const card = document.createElement("article");
          card.className = "stage-card";
          card.innerHTML = `
            <span class="stage-card__badge">${stage.location}</span>
            <div class="stage-card__header">
              <h3 class="stage-card__title">${stage.title}</h3>
              <div class="stage-card__meta">
                <span>${stage.level}</span>
                <span>${stage.duration}</span>
              </div>
              <p class="stage-card__description">${stage.description}</p>
            </div>
            <ul class="stage-card__list">
              ${stage.highlights.map((item) => `<li>${item}</li>`).join("")}
            </ul>
            <div class="stage-card__footer">
              <div class="stage-card__price">
                ${formatPrice(stage.basePrice)}
                <span>tarif par participant</span>
              </div>
              <div class="stage-card__controls">
                <label class="participants-field">
                  Participants
                  <input type="number" min="1" max="6" value="1" inputmode="numeric" />
                </label>
                <label class="option-switch" data-option="hebergement">
                  <input type="checkbox" />
                  Hébergement (+${formatPrice(stage.hebergementPrice)})
                </label>
                <label class="option-switch" data-option="transport">
                  <input type="checkbox" />
                  Transport (+${formatPrice(stage.transportPrice)})
                </label>
                <button class="btn-primary" type="button">Ajouter au panier</button>
              </div>
            </div>
          `;

          const addButton = card.querySelector("button");
          const participantsInput = card.querySelector("input[type='number']");
          const optionSwitches = card.querySelectorAll(".option-switch");

          optionSwitches.forEach((switchEl) => {
            const checkbox = switchEl.querySelector("input[type='checkbox']");
            checkbox.addEventListener("change", () => {
              switchEl.classList.toggle("is-active", checkbox.checked);
            });
          });

          addButton.addEventListener("click", () => {
            const participants = Math.max(1, parseInt(participantsInput.value, 10) || 1);
            const hebergement = card.querySelector('[data-option="hebergement"] input').checked;
            const transport = card.querySelector('[data-option="transport"] input').checked;
            addToCart(stage, {
              participants,
              hebergement,
              transport,
            });
          });

          catalogue.appendChild(card);
        });
      }

      function addToCart(stage, options) {
        const key = `${stage.id}|${activeWeekId}`;
        const existingItem = cart.find((item) => item.key === key);
        if (existingItem) {
          existingItem.participants += options.participants;
          existingItem.hebergement = existingItem.hebergement || options.hebergement;
          existingItem.transport = existingItem.transport || options.transport;
        } else {
          cart.push({
            key,
            stageId: stage.id,
            weekId: activeWeekId,
            participants: options.participants,
            hebergement: options.hebergement,
            transport: options.transport,
          });
        }
        renderCart();
        openCart();
        showToast(`${stage.title} ajouté au panier`, "success");
      .faq-item {
        background: var(--reservation-card);
        border: 1px solid var(--reservation-border);
        border-radius: var(--reservation-radius-md);
        padding: 20px 24px;
        box-shadow: var(--reservation-shadow);
      }

      .faq-item h3 {
        margin: 0 0 10px;
        font-size: 1.1rem;
        font-family: "Playfair Display", serif;
      }

      .faq-item p {
        margin: 0;
        color: var(--reservation-muted);
      }

      .reservation-footer {
        padding: 48px 0 64px;
        color: rgba(27, 35, 51, 0.6);
        color: rgba(255, 255, 255, 0.5);
        font-size: 0.85rem;
        text-align: center;
      }

      .reservation-footer a {
        color: var(--reservation-highlight-strong);
        color: rgba(255, 255, 255, 0.72);
        gap: 10px;
        color: var(--page-muted);
        font-size: 0.88rem;
      }

      .destinations-grid,
      .options-grid,
      .faq-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 24px;
      }

      .destination-card,
      .option-card,
      .faq-card {
        border-radius: var(--page-radius-md);
        border: 1px solid var(--page-border);
        background: rgba(8, 16, 38, 0.7);
        padding: 24px 26px;
        display: grid;
        gap: 12px;
      }

      .destination-card h3,
      .option-card h3,
      .faq-card h3 {
        margin: 0;
        font-size: 1.2rem;
      }

      .destination-card ul,
      .option-card ul {
        margin: 0;
        padding-left: 18px;
        color: var(--page-muted);
        display: grid;
        gap: 6px;
      }

      .faq-card details {
        background: rgba(5, 12, 30, 0.7);
        border-radius: var(--page-radius-md);
        border: 1px solid rgba(255, 255, 255, 0.06);
        padding: 18px 20px;
      }

      .faq-card summary {
        cursor: pointer;
        font-weight: 600;
        list-style: none;
      }

      .faq-card summary::marker,
      .faq-card summary::-webkit-details-marker {
        display: none;
      }

      .faq-card p {
        margin: 14px 0 0;
        color: var(--page-muted);
      }

      .reservation-toast {
        position: fixed;
        bottom: 24px;
        left: 50%;
        transform: translateX(-50%) translateY(120%);
        background: var(--reservation-card);
        border: 1px solid rgba(201, 155, 59, 0.45);
        background: rgba(14, 20, 39, 0.96);
        border: 1px solid rgba(244, 199, 106, 0.45);
        padding: 16px 22px;
        border-radius: 999px;
        font-size: 0.95rem;
        letter-spacing: 0.04em;
        color: var(--reservation-highlight-strong);
        font-weight: 600;
        color: var(--reservation-highlight);
        box-shadow: var(--reservation-shadow);
        transition: transform 0.35s ease;
        z-index: 60;
      }

      .reservation-toast.is-visible {
        transform: translateX(-50%) translateY(0);
      }

      .reservation-modal,
      .reservation-cart {
        position: fixed;
        inset: 0;
        inset: auto 50% 32px;
        transform: translateX(-50%);
        padding: 14px 24px;
        border-radius: 999px;
        background: rgba(6, 16, 38, 0.92);
        color: var(--page-contrast);
        border: 1px solid rgba(244, 198, 108, 0.45);
        box-shadow: 0 18px 48px rgba(0, 0, 0, 0.4);
        display: none;
        z-index: 999;
      }

      .reservation-toast.is-visible {
        display: inline-flex;
        align-items: center;
        gap: 12px;
      }

      .reservation-toast svg {
        width: 18px;
        height: 18px;
        color: var(--page-gold);
      }

      .reservation-modal {
        position: fixed;
        inset: 0;
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 80;
      }

      .reservation-modal.is-visible,
      .reservation-cart.is-visible {
        display: flex;
      }

      .reservation-modal__overlay,
      .reservation-cart__overlay {
        position: absolute;
        inset: 0;
        background: rgba(27, 35, 51, 0.2);
        backdrop-filter: blur(14px);
        background: rgba(4, 6, 12, 0.72);
        backdrop-filter: blur(10px);
      }

      .reservation-modal__dialog,
      .reservation-cart__dialog {
        position: relative;
        z-index: 1;
        width: min(540px, 92vw);
        max-height: 90vh;
        overflow: hidden;
        background: var(--reservation-surface);
        border-radius: var(--reservation-radius-lg);
        border: 1px solid var(--reservation-border);
        box-shadow: var(--reservation-shadow);
        display: grid;
      }

      .reservation-modal__content,
      .reservation-cart__content {
        padding: clamp(28px, 5vw, 36px);
        overflow-y: auto;
      }

      .reservation-modal__header,
      .reservation-cart__header {
        padding: 26px clamp(28px, 5vw, 36px) 0;
        display: grid;
        gap: 6px;
      }

      .reservation-modal__header h2,
      .reservation-cart__header h2 {
        margin: 0;
        font-family: "Playfair Display", serif;
        font-size: 1.6rem;
      }

      .reservation-modal__close,
      .reservation-cart__close {
        position: absolute;
        top: 18px;
        right: 18px;
        background: rgba(27, 35, 51, 0.08);
        background: rgba(255, 255, 255, 0.08);
        border: none;
        color: inherit;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        z-index: 900;
      }

      .reservation-modal.is-visible {
        display: flex;
      }

      .reservation-modal__overlay {
        position: absolute;
        inset: 0;
        background: rgba(3, 6, 16, 0.75);
        backdrop-filter: blur(6px);
      }

      .reservation-modal__dialog {
        position: relative;
        z-index: 1;
        width: min(520px, 90vw);
        max-height: 86vh;
        overflow: auto;
        padding: 36px;
        border-radius: var(--page-radius-lg);
        background: rgba(8, 16, 36, 0.95);
        border: 1px solid var(--page-border);
        box-shadow: var(--page-shadow);
        display: grid;
        gap: 20px;
      }

      .reservation-modal__close {
        position: absolute;
        inset: 18px 18px auto auto;
        border: none;
        background: transparent;
        color: var(--page-muted);
        font-size: 1.4rem;
        cursor: pointer;
      }

      .reservation-modal__meta {
        color: var(--reservation-muted);
        font-size: 0.9rem;
        margin: 0;
      .reservation-modal__dialog h3 {
        margin: 0;
        font-family: "Playfair Display", serif;
        font-size: 1.8rem;
      }

      .reservation-modal__dialog p {
        margin: 0;
        color: var(--page-muted);
      }

      .form-grid {
        display: grid;
        gap: 18px;
      }

      .form-group {
        display: grid;
        gap: 8px;
      }

      .form-group label {
        font-size: 0.85rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: rgba(201, 155, 59, 0.9);
        color: rgba(244, 199, 106, 0.9);
      }

      .form-group input,
      .form-group select,
      .form-group textarea {
        padding: 12px 14px;
        border-radius: var(--reservation-radius-sm);
        border: 1px solid rgba(28, 34, 52, 0.15);
        background: rgba(255, 255, 255, 0.95);
        color: var(--reservation-contrast);
        border: 1px solid rgba(244, 199, 106, 0.28);
        background: rgba(6, 10, 20, 0.9);
        color: inherit;
        font: inherit;
      }

      .form-group textarea {
        min-height: 120px;
        resize: vertical;
      }

      .form-switch {
      .form-control {
        display: grid;
        gap: 6px;
      }

      .form-control label {
        font-size: 0.9rem;
        color: var(--page-muted);
      }

      .form-control input,
      .form-control select {
        padding: 12px 14px;
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        background: rgba(4, 10, 24, 0.7);
        color: var(--page-contrast);
        font-size: 1rem;
      }

      .form-options {
        display: grid;
        gap: 10px;
      }

      .form-options label {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 14px;
        padding: 14px 16px;
        border-radius: var(--reservation-radius-sm);
        border: 1px solid rgba(28, 34, 52, 0.12);
        background: rgba(255, 255, 255, 0.9);
        border: 1px solid rgba(244, 199, 106, 0.24);
        background: rgba(8, 12, 24, 0.8);
      }

      .form-switch label {
        font-size: 0.9rem;
        color: var(--reservation-muted);
      }

      .form-switch input {
        width: 44px;
        height: 24px;
        border-radius: 999px;
        appearance: none;
        background: rgba(27, 35, 51, 0.2);
        background: rgba(255, 255, 255, 0.2);
        position: relative;
        cursor: pointer;
        transition: background 0.2s ease;
      }

      .form-switch input::after {
        content: "";
        position: absolute;
        top: 3px;
        left: 4px;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: #fff;
        transition: transform 0.2s ease;
      }

      .form-switch input:checked {
        background: var(--reservation-highlight);
      }

      .form-switch input:checked::after {
        transform: translateX(18px);
        background: #1a1406;
        padding: 12px 16px;
        border-radius: 12px;
        background: rgba(5, 12, 28, 0.7);
        border: 1px solid rgba(255, 255, 255, 0.12);
        cursor: pointer;
      }

      .form-options input {
        accent-color: var(--page-gold);
      }

      .form-total {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background: rgba(5, 12, 28, 0.7);
        border: 1px solid var(--page-border);
        border-radius: 14px;
        padding: 16px 20px;
        font-size: 1.1rem;
      }

      .cart-count {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        min-width: 22px;
        padding: 2px 6px;
        border-radius: 999px;
        background: rgba(244, 198, 108, 0.15);
        color: var(--page-gold);
        font-size: 0.82rem;
        font-weight: 600;
        margin-left: 8px;
      }

      .cart-list {
        display: grid;
        gap: 18px;
      }

      .cart-item {
        border: 1px solid rgba(28, 34, 52, 0.12);
        border: 1px solid rgba(244, 199, 106, 0.32);
        border-radius: var(--reservation-radius-sm);
        padding: 18px;
        display: grid;
        gap: 10px;
        background: rgba(255, 255, 255, 0.92);
        box-shadow: var(--reservation-shadow);
        background: rgba(6, 10, 20, 0.75);
      }

      .cart-item__top {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        justify-content: space-between;
      }

      .cart-item__title {
        gap: 16px;
      }

      .cart-item {
        padding: 18px 20px;
        border-radius: 16px;
        background: rgba(5, 12, 26, 0.78);
        border: 1px solid rgba(255, 255, 255, 0.08);
        display: grid;
        gap: 12px;
      }

      .cart-item__header {
        display: flex;
        justify-content: space-between;
        gap: 12px;
        align-items: center;
      }

      .cart-item__title {
        margin: 0;
        font-weight: 600;
      }

      .cart-item__meta {
        color: var(--reservation-muted);
        font-size: 0.9rem;
      }

      .cart-item__actions {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 12px;
      }

      .cart-item__remove {
        background: transparent;
        border: none;
        color: var(--reservation-error);
        color: rgba(240, 98, 114, 0.8);
        cursor: pointer;
        font-size: 0.85rem;
      }

      .cart-total {
        margin: 6px 0 0;
        font-size: 1.1rem;
        font-weight: 600;
        margin: 0;
        color: var(--page-muted);
        font-size: 0.88rem;
        display: grid;
        gap: 4px;
      }

      .cart-item button {
        align-self: flex-start;
        border: none;
        border-radius: 999px;
        padding: 8px 16px;
        background: rgba(244, 198, 108, 0.18);
        color: var(--page-gold);
        cursor: pointer;
      }

      .cart-empty {
        text-align: center;
        color: var(--reservation-muted);
        padding: 32px 16px;
        border: 1px dashed rgba(201, 155, 59, 0.35);
        border-radius: var(--reservation-radius-sm);
        background: rgba(255, 255, 255, 0.92);
        border: 1px dashed rgba(244, 199, 106, 0.35);
        border-radius: var(--reservation-radius-sm);
      }

      .cart-form {
        margin-top: 26px;
        display: grid;
        gap: 18px;
      }

      .cart-form__actions {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
      }

      noscript {
        display: block;
        margin: 120px auto 0;
        width: min(480px, 90vw);
        background: rgba(255, 255, 255, 0.92);
        color: var(--reservation-contrast);
        padding: 24px 28px;
        border-radius: var(--reservation-radius-md);
        border: 1px solid rgba(201, 155, 59, 0.35);
        text-align: center;
        box-shadow: var(--reservation-shadow);
        background: rgba(0, 0, 0, 0.65);
        color: var(--reservation-contrast);
        padding: 24px 28px;
        border-radius: var(--reservation-radius-md);
        border: 1px solid rgba(244, 199, 106, 0.35);
        text-align: center;
      }

      @media (max-width: 1024px) {
        .reservation-nav {
          position: fixed;
          inset: 76px 20px auto 20px;
          flex-direction: column;
          align-items: flex-start;
          padding: 22px;
          border-radius: var(--reservation-radius-md);
          background: rgba(255, 255, 255, 0.98);
          background: rgba(8, 12, 24, 0.94);
          border: 1px solid var(--reservation-border);
          box-shadow: var(--reservation-shadow);
          transform-origin: top right;
          transform: scale(0.95);
          opacity: 0;
          pointer-events: none;
          transition: opacity 0.25s ease, transform 0.25s ease;
        }

        .reservation-nav.is-open {
          opacity: 1;
          pointer-events: auto;
          transform: scale(1);
        }

        .reservation-nav a {
          width: 100%;
          padding: 12px 0;
        }

        .reservation-nav__toggle {
          display: inline-flex;
        }

        .reservation-header__inner {
          align-items: flex-start;
        }
      }

      @media (max-width: 820px) {
        .calendar-panel {
          grid-template-columns: 1fr;
        }

        .reservation-hero__inner {
          grid-template-columns: 1fr;
        }

        .stage-card__footer {
          justify-content: flex-start;
        }
      }

      @media (max-width: 640px) {
        .reservation-header__inner {
          flex-direction: column;
          align-items: flex-start;
        }

        .reservation-cart-pill {
          align-self: flex-end;
        }

        .reservation-hero {
          padding-bottom: 96px;
        }

        .stage-card {
          padding: 24px;
        }

        .reservation-modal__dialog,
        .reservation-cart__dialog {
          width: min(480px, 94vw);
        color: var(--page-muted);
        padding: 24px 0;
      }

      .cart-footer {
        display: grid;
        gap: 16px;
      }

      .cart-total {
        display: flex;
        justify-content: space-between;
        font-size: 1.05rem;
        background: rgba(5, 12, 28, 0.7);
        border: 1px solid var(--page-border);
        border-radius: 14px;
        padding: 16px 20px;
      }

      .reservation-alert {
        width: min(960px, 92vw);
        margin: 120px auto 0;
        padding: 18px 22px;
        border-radius: 16px;
        background: rgba(244, 198, 108, 0.12);
        border: 1px solid rgba(244, 198, 108, 0.35);
        color: var(--page-gold);
        text-align: center;
        font-size: 0.96rem;
      }

      .reservation-alert a {
        color: inherit;
        font-weight: 600;
        text-decoration: underline;
      }

      @media (max-width: 980px) {
        body.reservation-page {
          padding-top: 84px;
          scroll-padding-top: 108px;
        }

        .reservation-tabs {
          top: 84px;
        }
      }

      @media (max-width: 720px) {
        main {
          gap: 96px;
        }

        .reservation-hero__lead {
          max-width: none;
        }

        .reservation-hero__card {
          padding: 24px;
        }

        .calendar-grid {
          grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
        }

        .reservation-modal__dialog {
          padding: 28px;
        }
      }

      @media (max-width: 540px) {
        .reservation-hero {
          padding-block: 120px 96px;
        }

        .reservation-hero__actions {
          flex-direction: column;
          align-items: stretch;
        }

        .calendar-week {
          padding: 16px;
        }

        .reservation-tabs__inner {
          gap: 18px;
        }

        .stage-card {
          padding: 22px;
        }

        .stage-card__footer {
          flex-direction: column;
          align-items: flex-start;
        }

        .reservation-toast {
          inset: auto 16px 24px;
          transform: none;
        }

        .reservation-modal__dialog {
          width: min(460px, 92vw);
          padding: 24px;
        }

        .cart-item__header {
          flex-direction: column;
          align-items: flex-start;
        }
      }
    </style>
  </head>
  <body class="reservation-page">
    <noscript>
      Pour réserver votre stage, merci d'activer JavaScript. Toutes les informations restent disponibles ci-dessous et
      notre équipe reste joignable par téléphone pour finaliser votre inscription.
    </noscript>
    <header class="reservation-header">
      <div class="reservation-container reservation-header__inner">
        <a class="reservation-logo" href="index.html">Tennis Impact</a>
        <button class="reservation-nav__toggle" type="button" data-nav-toggle>Menu</button>
        <nav class="reservation-nav" data-nav>
          <a href="#calendrier">Calendrier</a>
          <a href="#stages">Stages</a>
          <a href="#methodologie">Méthodologie</a>
          <a href="#lieux">Lieux</a>
          <a href="#options">Options</a>
          <a href="#faq">FAQ</a>
          <a href="index.html#contact">Contact</a>
        </nav>
        <button class="reservation-cart-pill" type="button" data-cart-open>
          Voir le panier
          <span class="reservation-cart-pill__count" data-cart-count>0</span>
        </button>
      </div>
    </header>
    <main>
      <section class="reservation-hero" id="top">
        <div class="reservation-container reservation-hero__inner">
          <div>
            <span class="reservation-hero__eyebrow">Stage premium</span>
            <h1 class="reservation-hero__title">
              Réservez votre semaine de tennis <span>d'exception</span>
            </h1>
            <p class="reservation-hero__lead">
              Choisissez votre semaine, personnalisez vos options hébergement et transport puis validez votre panier en
              quelques clics. Nos équipes basées dans les CREPS partenaires vous accompagnent avant, pendant et après
              votre stage.
            </p>
            <div class="reservation-actions">
              <button class="btn-primary" type="button" data-scroll-to="#calendrier">Choisir une semaine</button>
              <button class="btn-secondary" type="button" data-cart-open>Voir le panier</button>
            </div>
          </div>
          <div class="reservation-hero__card">
            <h3>Ce qui vous attend</h3>
            <p>
              Un suivi personnalisé au sein des CREPS de Poitiers, Toulouse et Aix-en-Provence ainsi que sur nos sites
              partenaires du Domaine des Landes Girondines et de Cabourg.
            </p>
            <ul class="reservation-hero__list">
              <li>Encadrement certifié et suivi vidéo quotidien</li>
              <li>Hébergement premium et navettes en option</li>
              <li>Accès aux installations haut niveau FFT</li>
            </ul>
            <button class="btn-link" type="button" data-scroll-to="#methodologie">Découvrir notre méthode</button>
          </div>
        </div>
      </section>

      <section class="reservation-section" id="calendrier">
        <div class="reservation-container">
          <div class="section-heading">
            <span>Calendrier interactif</span>
            <h2>Réservez votre semaine idéale</h2>
            <p>
              Sélectionnez une semaine dans le calendrier pour filtrer les stages disponibles. Chaque stage peut être
              personnalisé avec ou sans hébergement et transport.
            </p>
          </div>
          <div class="calendar-panel">
            <div class="calendar-grid" id="calendarGrid" role="tablist" aria-label="Semaines disponibles"></div>
            <div class="calendar-summary" id="calendarSummary"></div>
          </div>
        </div>
      </section>

      <section class="reservation-section" id="stages">
        <div class="reservation-container">
          <div class="section-heading">
            <span>Stages par semaine</span>
            <h2>Une sélection premium pour tous les profils</h2>
            <p>
              Choisissez votre stage puis personnalisez vos options. Ajoutez-le au panier pour finaliser votre demande de
              réservation.
            </p>
          </div>
          <p id="stageHint" style="color: var(--reservation-muted); margin-bottom: 28px;">
            Sélectionnez d'abord une semaine dans le calendrier.
          </p>
          <div class="stage-grid" id="stageGrid" aria-live="polite"></div>
        </div>
      </section>

      <section class="reservation-section" id="methodologie">
        <div class="reservation-container">
          <div class="section-heading">
            <span>Méthodologie</span>
            <h2>Notre approche haute performance</h2>
            <p>
              Chaque stage est orchestré par nos coachs nationaux avec un suivi précis des volumes d'entraînement, des
              séances physiques et de la préparation mentale.
            </p>
          </div>
          <div class="info-grid">
            <article class="info-card">
              <h3>Analyse & objectifs</h3>
              <p>
                Entretien individuel dès l'arrivée, planification des objectifs sur la semaine et brief quotidien avec
                votre coach référent.
              </p>
              <ul>
                <li>Évaluation technique vidéo</li>
                <li>Plan tactique personnalisé</li>
                <li>Suivi charge d'entraînement</li>
              </ul>
            </article>
            <article class="info-card">
              <h3>Préparation globale</h3>
              <p>
                Sessions physiques ciblées (force, vitesse, mobilité) et ateliers de prévention des blessures pour
                optimiser votre progression.
              </p>
              <ul>
                <li>Préparation physique quotidienne</li>
                <li>Routines de récupération</li>
                <li>Préparation mentale intégrée</li>
              </ul>
            </article>
            <article class="info-card">
              <h3>Suivi post-stage</h3>
              <p>
                Restitution complète avec recommandations et plan d'entraînement personnalisé envoyé sous 72h après la
                semaine.
              </p>
              <ul>
                <li>Dossier vidéo et statistiques</li>
                <li>Axes prioritaires de travail</li>
                <li>Accès coach à distance</li>
              </ul>
            </article>
          </div>
        </div>
      </section>

      <section class="reservation-section" id="lieux">
        <div class="reservation-container">
          <div class="section-heading">
            <span>Lieux d'exception</span>
            <h2>Des infrastructures pensées pour la performance</h2>
            <p>
              Nous sélectionnons les meilleurs cadres d'entraînement pour offrir des conditions optimales : courts
              couverts, salles de préparation physique, espaces de récupération et hébergements haut de gamme.
            </p>
          </div>
          <div class="info-grid">
            <article class="info-card">
              <h3>CREPS de Poitiers</h3>
              <p>
                Centre d'entraînement fédéral avec courts indoor, terrain terre battue et hébergement intégré pour les
                stages intensifs.
              </p>
            </article>
            <article class="info-card">
              <h3>CREPS de Toulouse</h3>
              <p>
                Infrastructures FFT haut niveau, terrains couverts climatisés et salle de performance dédiée à la
                préparation physique.
              </p>
            </article>
            <article class="info-card">
              <h3>CREPS d'Aix-en-Provence</h3>
              <p>
                Référence terre battue avec staff technique spécialisé et accès privilégié aux installations olympiques.
              </p>
            </article>
            <article class="info-card">
              <h3>Domaine des Landes Girondines</h3>
              <p>
                Resort familial premium, programme mixte parents/enfants et activités plage & golf exclusives.
              </p>
            </article>
            <article class="info-card">
              <h3>Cabourg</h3>
              <p>
                Cadre bord de mer avec tournois nocturnes, préparation plage et accès thalasso partenaire.
              </p>
            </article>
          </div>
    <header class="navbar" id="top">
      <div class="navbar__inner container">
        <a class="brand" href="index.html#hero" aria-label="Retour à l'accueil">
          <img src="assets/logo/tennis-impact-logo.svg" alt="Logo Tennis Impact" />
          <span>Tennis Impact</span>
        </a>
        <button class="nav-toggle" aria-expanded="false" aria-controls="site-nav">
          <span></span>
          <span></span>
          <span></span>
        </button>
        <nav class="nav-links" id="site-nav">
          <a href="#calendrier">Calendrier</a>
          <a href="#stages">Stages</a>
          <a href="#lieux">Lieux</a>
          <a href="#methodologie">Méthodologie</a>
          <a href="#options">Options</a>
          <a href="#faq">FAQ</a>
          <a href="espace_coach.html">Espace Coach</a>
        </nav>
        <div class="nav-actions">
          <button class="btn btn-gold" type="button" data-cart-trigger>
            Voir le panier
            <span class="cart-count" data-cart-count>0</span>
          </button>
        </div>
      </div>
    </header>

    <noscript>
      <div class="reservation-alert">
        Pour afficher le calendrier interactif et finaliser votre réservation, activez JavaScript dans votre navigateur ou
        contactez-nous sur <a href="mailto:contact@tennisimpact.fr">contact@tennisimpact.fr</a>.
      </div>
    </noscript>

    <main>
      <section class="reservation-hero" id="hero">
        <div class="reservation-hero__inner">
          <div>
            <span class="reservation-hero__eyebrow">Réserver votre stage</span>
            <h1 class="reservation-hero__title">Un parcours <span>premium</span> pour réserver votre semaine idéale</h1>
            <p class="reservation-hero__lead">
              Sélectionnez votre semaine, choisissez votre lieu d’entraînement parmi nos sites d’exception et personnalisez vos
              options d’hébergement ou de transport avant d’envoyer votre demande en quelques clics.
            </p>
            <div class="reservation-hero__actions">
              <button class="btn-primary" type="button" data-scroll-target="#calendrier">Choisir ma semaine</button>
              <button class="btn-secondary" type="button" data-cart-trigger>Voir le panier</button>
            </div>
          </div>
          <aside class="reservation-hero__card" aria-label="Dossier de réservation">
            <h3>Votre dossier de réservation</h3>
            <p>Accédez à tous les éléments indispensables pour préparer votre stage Tennis Impact.</p>
            <ul class="reservation-hero__list">
              <li>Calendrier interactif avec disponibilité des semaines.</li>
              <li>Cartes de stages filtrées par lieu et niveau.</li>
              <li>Formulaire popup premium avec options au choix.</li>
              <li>Panier intelligent récapitulant vos sélections.</li>
            </ul>
            <button class="btn-primary" type="button" data-scroll-target="#stages">Explorer les stages</button>
          </aside>
        </div>
      </section>

      <nav class="reservation-tabs" aria-label="Navigation des sections">
        <div class="reservation-tabs__inner">
          <a href="#calendrier">Calendrier</a>
          <a href="#stages">Stages</a>
          <a href="#lieux">Lieux</a>
          <a href="#methodologie">Méthodologie</a>
          <a href="#options">Options</a>
          <a href="#faq">FAQ</a>
        </div>
      </nav>

      <section class="reservation-section" id="calendrier">
        <div class="reservation-section__header">
          <span class="section-eyebrow">Semaines 2024</span>
          <h2>Choisissez votre période idéale</h2>
          <p>
            Nos stages se déroulent du lundi au samedi. Les semaines disponibles ci-dessous affichent immédiatement les lieux
            proposés et le nombre de places restantes.
          </p>
        </div>
        <div class="calendar-grid" id="calendarGrid" role="group" aria-label="Semaines de réservation"></div>
        <div class="calendar-summary" id="calendarSummary"></div>
      </section>

      <section class="reservation-section" id="stages">
        <div class="reservation-section__header">
          <span class="section-eyebrow">Catalogue</span>
          <h2>Des stages pensés pour tous les objectifs</h2>
          <p id="stageHint">
            Sélectionnez d’abord une semaine dans le calendrier pour découvrir les stages ouverts à la réservation.
          </p>
        </div>
        <div class="stage-grid" id="stageGrid" aria-live="polite"></div>
      </section>

      <section class="reservation-section" id="lieux">
        <div class="reservation-section__header">
          <span class="section-eyebrow">Lieux d’exception</span>
          <h2>Une sélection premium de sites partenaires</h2>
          <p>
            Tous nos stages sont organisés dans des infrastructures haut de gamme pour garantir confort, intensité et moments
            mémorables sur et en dehors des courts.
          </p>
        </div>
        <div class="destinations-grid">
          <article class="destination-card">
            <h3>CREPS de Poitiers</h3>
            <p>Centre d’entraînement complet avec courts couverts, restauration sportive et hébergement sur site.</p>
            <ul>
              <li>10 courts extérieurs &amp; 6 couverts</li>
              <li>Salle vidéo &amp; espace récupération</li>
              <li>Chambres rénovées au sein du campus</li>
            </ul>
          </article>
          <article class="destination-card">
            <h3>CREPS de Toulouse</h3>
            <p>Atmosphère performance avec staff médical, suivi biomécanique et préparation mentale intégrée.</p>
            <ul>
              <li>Analyse vidéo 3D &amp; plan mental quotidien</li>
              <li>Piscine de récupération et sauna</li>
              <li>Restaurant diététique dédié aux sportifs</li>
            </ul>
          </article>
          <article class="destination-card">
            <h3>CREPS d’Aix-en-Provence</h3>
            <p>Immersion méditerranéenne avec focus terre battue et conditions climatiques idéales.</p>
            <ul>
              <li>Programme tactique sur terre battue</li>
              <li>Accès fitness &amp; cross-training</li>
              <li>Hôtel partenaire 4★ à proximité</li>
            </ul>
          </article>
          <article class="destination-card">
            <h3>Domaine des Landes Girondines</h3>
            <p>Résidences premium dans la pinède avec activités outdoor pour toute la famille.</p>
            <ul>
              <li>Coaching enfants &amp; parents</li>
              <li>Activités plage, golf et vélo</li>
              <li>Hébergements haut de gamme</li>
            </ul>
          </article>
          <article class="destination-card">
            <h3>Cabourg</h3>
            <p>Ambiance bord de mer avec tournois nocturnes et préparation physique sur la plage.</p>
            <ul>
              <li>Courts en dur et terre battue</li>
              <li>Centre thalasso partenaire</li>
              <li>Navette gare incluse</li>
            </ul>
          </article>
        </div>
      </section>

      <section class="reservation-section" id="methodologie">
        <div class="reservation-section__header">
          <span class="section-eyebrow">Méthodologie</span>
          <h2>Un déroulé précis du lundi au samedi</h2>
          <p>
            Chaque semaine est orchestrée par nos directeurs techniques Tennis Impact. Vous recevez en amont un carnet de route
            détaillant les thèmes quotidiens, les créneaux d’entraînement et les rendez-vous physiques.
          </p>
        </div>
        <div class="options-grid">
          <article class="option-card">
            <h3>Accueil &amp; diagnostic</h3>
            <ul>
              <li>Test d’évaluation lundi matin</li>
              <li>Analyse vidéo individuelle</li>
              <li>Définition des objectifs avec le coach</li>
            </ul>
          </article>
          <article class="option-card">
            <h3>Entraînement quotidien</h3>
            <ul>
              <li>2 séances tennis / jour</li>
              <li>Préparation physique ciblée</li>
              <li>Brief tactique et plan de match</li>
            </ul>
          </article>
          <article class="option-card">
            <h3>Restitution &amp; suivi</h3>
            <ul>
              <li>Bilan individuel remis samedi</li>
              <li>Plan d’entraînement personnalisé</li>
              <li>Conseils nutrition &amp; récupération</li>
            </ul>
          </article>
        </div>
      </section>

      <section class="reservation-section" id="options">
        <div class="reservation-container">
          <div class="section-heading">
            <span>Options & services</span>
            <h2>Composez votre expérience</h2>
            <p>
              Chaque panier peut inclure un hébergement premium en pension complète, des transferts sur-mesure et des
              séances additionnelles.
            </p>
          </div>
          <div class="info-grid">
            <article class="info-card">
              <h3>Hébergement premium</h3>
              <ul>
                <li>Résidences intégrées aux CREPS ou resort 4★</li>
                <li>Chambres twin ou individuelles selon disponibilité</li>
                <li>Pension complète et encadrement 24/7</li>
              </ul>
            </article>
            <article class="info-card">
              <h3>Transferts & transport</h3>
              <ul>
                <li>Navettes depuis gares et aéroports</li>
                <li>Transport quotidien vers les courts</li>
                <li>Assistance bagages et accueil personnalisé</li>
              </ul>
            </article>
            <article class="info-card">
              <h3>Expériences additionnelles</h3>
              <ul>
                <li>Séance individuelle vidéo 45 minutes</li>
                <li>Accès bien-être (sauna, cryothérapie)</li>
                <li>Coaching mental privé et suivi nutrition</li>
              </ul>
            </article>
          </div>
        <div class="reservation-section__header">
          <span class="section-eyebrow">Options</span>
          <h2>Personnalisez votre expérience</h2>
          <p>
            Ajoutez un hébergement haut de gamme ou notre service de transport depuis la gare la plus proche pour vivre votre
            semaine en toute sérénité.
          </p>
        </div>
        <div class="options-grid">
          <article class="option-card">
            <h3>Hébergement Premium</h3>
            <p>Chambres twin ou individuelles avec pension complète adaptée au rythme des joueurs.</p>
            <ul>
              <li>Sur site ou hôtel partenaire 4★</li>
              <li>Encadrement adulte 24/7</li>
              <li>Accès aux espaces bien-être</li>
            </ul>
          </article>
          <article class="option-card">
            <h3>Transport dédié</h3>
            <p>Prise en charge à la gare la plus proche et navettes quotidiennes vers les installations.</p>
            <ul>
              <li>Accueil le dimanche après-midi</li>
              <li>Retour le samedi midi</li>
              <li>Conducteurs Tennis Impact</li>
            </ul>
          </article>
          <article class="option-card">
            <h3>Suivi vidéo &amp; mental</h3>
            <p>Analyse vidéo, coaching mental quotidien et restitution détaillée en fin de semaine.</p>
            <ul>
              <li>Focus routines &amp; gestion du stress</li>
              <li>Clips vidéo et fiches personnalisées</li>
              <li>Session parents / joueurs dédiée</li>
            </ul>
          </article>
        </div>
      </section>

      <section class="reservation-section" id="faq">
        <div class="reservation-container">
          <div class="section-heading">
            <span>Questions fréquentes</span>
            <h2>Toutes les réponses avant de réserver</h2>
            <p>
              Notre équipe reste disponible par mail et téléphone pour toute précision supplémentaire sur les stages,
              options ou modalités de paiement.
            </p>
          </div>
          <div class="faq">
            <article class="faq-item">
              <h3>Comment finaliser ma réservation ?</h3>
              <p>
                Ajoutez vos stages au panier avec les options souhaitées puis validez le formulaire de demande. Un membre
                de notre équipe vous contacte sous 48h pour finaliser le paiement et confirmer l'inscription.
              </p>
            </article>
            <article class="faq-item">
              <h3>Peut-on réserver plusieurs semaines ?</h3>
              <p>
                Oui, sélectionnez chaque semaine dans le calendrier et ajoutez les stages associés à votre panier. Vous
                pouvez également dupliquer vos options pour faciliter l'inscription.
              </p>
            </article>
            <article class="faq-item">
              <h3>Les options sont-elles modifiables ?</h3>
              <p>
                Hébergement et transport sont ajustables jusqu'à 15 jours avant le début du stage. Nous vous accompagnons
                pour adapter votre expérience en fonction de vos contraintes.
              </p>
            </article>
          </div>
        <div class="reservation-section__header">
          <span class="section-eyebrow">FAQ</span>
          <h2>Tout savoir avant de valider</h2>
          <p>Ces réponses couvrent les questions les plus fréquentes. Notre équipe reste disponible pour tout complément.</p>
        </div>
        <div class="faq-grid">
          <article class="faq-card">
            <h3>Organisation</h3>
            <details>
              <summary>Comment se déroule une journée type ?</summary>
              <p>
                Échauffement collectif, séance tennis technique, déjeuner encadré, préparation physique, coaching tactique puis
                ateliers ou matchs en fin de journée. La soirée est dédiée à la récupération et aux briefings individuels.
              </p>
            </details>
            <details>
              <summary>Pouvons-nous combiner plusieurs semaines ?</summary>
              <p>
                Oui, il suffit d’ajouter chaque semaine au panier en choisissant les options souhaitées. Notre équipe vous
                confirmera la continuité de l’hébergement et du coaching entre les semaines retenues.
              </p>
            </details>
          </article>
          <article class="faq-card">
            <h3>Logistique</h3>
            <details>
              <summary>Les repas sont-ils inclus ?</summary>
              <p>
                L’option hébergement comprend la pension complète. Sans hébergement, le déjeuner encadré est disponible en
                supplément lors de la confirmation avec notre équipe.
              </p>
            </details>
            <details>
              <summary>Comment fonctionne le transport ?</summary>
              <p>
                Nos navettes récupèrent les joueurs le dimanche après-midi aux gares indiquées et les reconduisent le samedi
                midi. Les horaires exacts sont communiqués après validation de la réservation.
              </p>
            </details>
          </article>
          <article class="faq-card">
            <h3>Administration</h3>
            <details>
              <summary>Quand la réservation est-elle confirmée ?</summary>
              <p>
                Après l’envoi du panier, un membre de Tennis Impact vous contacte sous 48h pour finaliser l’inscription, valider
                les documents nécessaires et procéder au paiement sécurisé.
              </p>
            </details>
            <details>
              <summary>Proposez-vous des facilités de paiement ?</summary>
              <p>
                Oui, un échéancier en deux ou trois fois peut être mis en place sur demande lors de l’appel de confirmation.
              </p>
            </details>
          </article>
        </div>
      </section>
    </main>

    <footer class="reservation-footer">
      <div class="reservation-container">
        © Tennis Impact. Besoin d'aide ? <a href="mailto:contact@tennisimpact.fr">contact@tennisimpact.fr</a>
      </div>
    </footer>

    <div class="reservation-modal" data-booking-modal aria-hidden="true">
      <div class="reservation-modal__overlay" data-modal-close></div>
      <div class="reservation-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="bookingTitle">
        <button class="reservation-modal__close" type="button" data-modal-close aria-label="Fermer">×</button>
        <header class="reservation-modal__header">
          <span class="reservation-hero__eyebrow" style="margin-bottom: 0;">Ajouter au panier</span>
          <h2 id="bookingTitle">Stage sélectionné</h2>
          <p class="reservation-modal__meta" id="bookingLocation"></p>
        </header>
        <div class="reservation-modal__content">
          <form class="form-grid" data-booking-form>
            <input type="hidden" id="bookingStageId" />
            <div class="form-group">
              <label for="bookingWeek">Semaine</label>
              <select id="bookingWeek" required></select>
            </div>
            <div class="form-group">
              <label for="bookingParticipants">Participants</label>
              <input id="bookingParticipants" type="number" min="1" max="4" value="1" required />
            </div>
            <div class="form-switch">
              <label for="bookingLodging">Inclure l'hébergement premium</label>
              <input id="bookingLodging" type="checkbox" />
            </div>
            <div class="form-switch">
              <label for="bookingTransport">Inclure le transport dédié</label>
              <input id="bookingTransport" type="checkbox" />
            </div>
            <div class="form-group">
              <label for="bookingNotes">Précisions</label>
              <textarea id="bookingNotes" placeholder="Allergies, niveau de jeu, heures d'arrivée…"></textarea>
            </div>
            <button class="btn-primary" type="submit">Ajouter au panier</button>
          </form>
        </div>
      </div>
    </div>

    <div class="reservation-cart" data-cart-modal aria-hidden="true">
      <div class="reservation-cart__overlay" data-cart-close></div>
      <div class="reservation-cart__dialog" role="dialog" aria-modal="true" aria-labelledby="cartTitle">
        <button class="reservation-cart__close" type="button" data-cart-close aria-label="Fermer le panier">×</button>
        <header class="reservation-cart__header">
          <span class="reservation-hero__eyebrow" style="margin-bottom: 0;">Panier</span>
          <h2 id="cartTitle">Votre sélection</h2>
          <p class="reservation-modal__meta">
            Vérifiez vos semaines, options et participants avant d'envoyer votre demande de réservation.
          </p>
        </header>
        <div class="reservation-cart__content">
          <div class="cart-list" data-cart-list></div>
          <form class="cart-form" data-cart-form>
            <div class="form-group">
              <label for="cartName">Nom & prénom du référent</label>
              <input id="cartName" type="text" name="name" autocomplete="name" required />
            </div>
            <div class="form-group">
              <label for="cartEmail">E-mail</label>
              <input id="cartEmail" type="email" name="email" autocomplete="email" required />
            </div>
            <div class="form-group">
              <label for="cartPhone">Téléphone</label>
              <input id="cartPhone" type="tel" name="phone" autocomplete="tel" required />
            </div>
            <div class="form-group">
              <label for="cartMessage">Message complémentaire</label>
              <textarea id="cartMessage" name="message" placeholder="Besoin de réserver plusieurs chambres, précisions horaires…"></textarea>
            </div>
            <div class="cart-form__actions">
              <button class="btn-secondary" type="button" data-cart-close>Continuer mes réservations</button>
              <button class="btn-primary" type="submit">Envoyer ma demande</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div class="reservation-toast" role="status" aria-live="polite" id="reservationToast">Stage ajouté à votre panier.</div>

    <script>
      document.documentElement.classList.add('js');
      const weeks = [
        {
          id: '2024-07-08',
          label: '8 → 13 juillet',
          summary: 'CREPS Poitiers • CREPS Toulouse • Aix-en-Provence',
          spots: 12
        },
        {
          id: '2024-07-15',
          label: '15 → 20 juillet',
          summary: 'Poitiers • Domaine des Landes Girondines • Cabourg',
          spots: 10
        },
        {
          id: '2024-07-22',
          label: '22 → 27 juillet',
          summary: 'Poitiers • Toulouse • Aix-en-Provence',
          spots: 9
        },
        {
          id: '2024-07-29',
          label: '29 juillet → 3 août',
          summary: 'Toulouse • Landes Girondines • Cabourg',
          spots: 8
        },
        {
          id: '2024-08-05',
          label: '5 → 10 août',
          summary: 'Aix-en-Provence • Landes Girondines • Cabourg',
          spots: 6
        },
        {
          id: '2024-08-12',
          label: '12 → 17 août',
          summary: 'Poitiers • Cabourg',
          spots: 6
        }
      ];

      const stageCatalog = [
        {
          id: 'performance-poitiers',
          category: 'Performance',
          title: 'Stage Performance Intensif',
          location: 'CREPS de Poitiers',
          description:
            "Volume d’entraînement élevé, coaching tactique personnalisé et suivi vidéo quotidien pour progresser rapidement.",
          price: 790,
          lodgingPrice: 420,
          transportPrice: 140,
          tags: ['Suivi vidéo', 'Prépa physique', 'Coaching tactique'],
          weeks: ['2024-07-08', '2024-07-15', '2024-07-22']
        },
        {
          id: 'elite-toulouse',
          category: 'Haut niveau',
          title: 'Tournée Elite & Tournois',
          location: 'CREPS de Toulouse',
          description:
            'Encadrement national, participation à deux tournois officiels et suivi mental quotidien pour les compétiteurs.',
          price: 980,
          lodgingPrice: 520,
          transportPrice: 180,
          tags: ['Tournois FFT', 'Suivi mental', 'Analyse biomécanique'],
          weeks: ['2024-07-08', '2024-07-22', '2024-07-29']
        },
        {
          id: 'terre-battue-aix',
          category: 'Technique',
          title: 'Immersion Terre Battue',
          location: "CREPS d'Aix-en-Provence",
          description:
            'Focus tactique sur terre battue, ateliers spécifiques et plan de jeu personnalisé avec sessions vidéo.',
          price: 860,
          lodgingPrice: 480,
          transportPrice: 150,
          tags: ['Terre battue', 'Plan tactique', 'Prépa physique'],
          weeks: ['2024-07-08', '2024-07-22', '2024-08-05']
        },
        {
          id: 'famille-landes',
          category: 'Familles',
          title: 'Expérience Premium Famille',
          location: 'Domaine des Landes Girondines',
          description:
            'Programme parents & enfants, coaching partagé et activités plage au cœur de la pinède girondine.',
          price: 720,
          lodgingPrice: 540,
          transportPrice: 140,
          tags: ['Résidence 4★', 'Coaching parents', 'Activités plage'],
          weeks: ['2024-07-15', '2024-07-29', '2024-08-05']
        },
        {
          id: 'cabourg-competition',
          category: 'Compétition',
          title: 'Stage Bord de Mer & Tournoi',
          location: 'Cabourg',
          description:
            'Coaching quotidien, tournoi nocturne et préparation physique sur la plage avec accès au centre thalasso.',
          price: 820,
          lodgingPrice: 450,
          transportPrice: 130,
          tags: ['Tournoi nocturne', 'Prépa plage', 'Coaching perso'],
          weeks: ['2024-07-15', '2024-07-29', '2024-08-05', '2024-08-12']
        }
      ];

      const nav = document.querySelector('[data-nav]');
      const navToggle = document.querySelector('[data-nav-toggle]');
      const cartOpenButtons = document.querySelectorAll('[data-cart-open]');
      const cartCloseButtons = document.querySelectorAll('[data-cart-close]');
      const cartModal = document.querySelector('[data-cart-modal]');
      const bookingModal = document.querySelector('[data-booking-modal]');
      const modalCloseButtons = document.querySelectorAll('[data-modal-close]');
      const calendarGrid = document.getElementById('calendarGrid');
      const calendarSummary = document.getElementById('calendarSummary');
      const stageGrid = document.getElementById('stageGrid');
      const stageHint = document.getElementById('stageHint');
      const bookingForm = document.querySelector('[data-booking-form]');
      const bookingStageId = document.getElementById('bookingStageId');
      const bookingTitle = document.getElementById('bookingTitle');
      const bookingLocation = document.getElementById('bookingLocation');
      const bookingWeekSelect = document.getElementById('bookingWeek');
      const bookingParticipants = document.getElementById('bookingParticipants');
      const bookingLodging = document.getElementById('bookingLodging');
      const bookingTransport = document.getElementById('bookingTransport');
      const bookingNotes = document.getElementById('bookingNotes');
      const cartList = document.querySelector('[data-cart-list]');
      const cartForm = document.querySelector('[data-cart-form]');
      const cartCount = document.querySelector('[data-cart-count]');
      const toast = document.getElementById('reservationToast');
      const scrollButtons = document.querySelectorAll('[data-scroll-to]');

      let selectedWeekId = weeks[0]?.id ?? null;
      let cart = [];
      let toastTimeout;

      const formatCurrency = (value) =>
        new Intl.NumberFormat('fr-FR', { style: 'currency', currency: 'EUR', maximumFractionDigits: 0 }).format(value);

      const toggleNav = () => {
        nav.classList.toggle('is-open');
      };

      navToggle?.addEventListener('click', toggleNav);
      nav?.querySelectorAll('a').forEach((link) =>
        link.addEventListener('click', () => {
          nav.classList.remove('is-open');
        })
      );

      scrollButtons.forEach((button) => {
        button.addEventListener('click', () => {
          const selector = button.getAttribute('data-scroll-to');
          const target = document.querySelector(selector);
          if (target) {
            target.scrollIntoView({ behavior: 'smooth' });
          }
        });
      });

      const showToast = (message) => {
        toast.textContent = message;
        toast.classList.add('is-visible');
        clearTimeout(toastTimeout);
        toastTimeout = setTimeout(() => toast.classList.remove('is-visible'), 3800);
      };

      const openModal = (modal) => {
        modal.classList.add('is-visible');
        modal.setAttribute('aria-hidden', 'false');
        document.body.style.overflow = 'hidden';
      };

      const closeModal = (modal) => {
        modal.classList.remove('is-visible');
        modal.setAttribute('aria-hidden', 'true');
        document.body.style.overflow = '';
      };

      const openCart = () => openModal(cartModal);
      const closeCart = () => closeModal(cartModal);

      cartOpenButtons.forEach((button) => button.addEventListener('click', openCart));
      cartCloseButtons.forEach((button) => button.addEventListener('click', closeCart));

      modalCloseButtons.forEach((button) =>
        button.addEventListener('click', () => {
          closeModal(bookingModal);
        })
      );

      document.addEventListener('keydown', (event) => {
        if (event.key === 'Escape') {
          closeModal(bookingModal);
          closeCart();
        }
      });

      const renderCalendar = () => {
        calendarGrid.innerHTML = weeks
          .map((week) => {
            const isActive = week.id === selectedWeekId;
            return `
              <button class="calendar-week${isActive ? ' is-active' : ''}" type="button" data-week="${week.id}" aria-pressed="${
              isActive ? 'true' : 'false'
            }">
                <span class="calendar-week__label">${week.label}</span>
                <span class="calendar-week__locations">${week.summary}</span>
                <span class="calendar-week__status">${
                  week.spots > 0 ? `${week.spots} places restantes` : 'Complet'
                }</span>
              </button>
            `;
          })
          .join('');

        calendarGrid.querySelectorAll('button').forEach((button) => {
          button.addEventListener('click', () => {
            selectedWeekId = button.getAttribute('data-week');
            renderCalendar();
            renderStageCards();
            renderCalendarSummary();
            stageHint.textContent = 'Choisissez votre stage parmi la sélection ci-dessous.';
          });
        });
      };

      const renderCalendarSummary = () => {
        const week = weeks.find((item) => item.id === selectedWeekId);
        if (!week) {
          calendarSummary.innerHTML = '';
          return;
        }

        const weekStages = stageCatalog.filter((stage) => stage.weeks.includes(week.id));
        const stageList = weekStages.length
          ? `<ul class="calendar-summary__list">
              ${weekStages
                .map((stage) => `<li><strong>${stage.title}</strong> — ${stage.location} • ${formatCurrency(stage.price)}</li>`)
                .join('')}
            </ul>`
          : '<p class="calendar-summary__empty">Aucun stage n’est disponible sur cette semaine.</p>';

        calendarSummary.innerHTML = `
          <div class="calendar-summary__card">
            <strong>Semaine sélectionnée</strong>
            <span>${week.label}</span>
            <span>${week.summary}</span>
            <span>${week.spots > 0 ? `${week.spots} places restantes` : 'Complet'}</span>
          </div>
          <div class="calendar-summary__card">
            <strong>Stages proposés</strong>
            ${stageList}
          </div>
        `;
      };

      const renderStageCards = () => {
        const week = weeks.find((item) => item.id === selectedWeekId);
        if (!week) {
          stageGrid.innerHTML = '';
          return;
        }

        const stages = stageCatalog.filter((stage) => stage.weeks.includes(week.id));

        if (!stages.length) {
          stageGrid.innerHTML = '<p class="calendar-summary__empty">Pas de stage pour cette semaine pour le moment.</p>';
          if (stageHint) {
            stageHint.textContent = `Aucun stage n’est disponible pour ${week.label}. Sélectionnez une autre semaine pour remplir votre panier.`;
          }
          return;
        }

        stageGrid.innerHTML = stages
          .map((stage) => {
            const existingItems = cart.filter((item) => item.stageId === stage.id && item.weekId === selectedWeekId);
            const isSelected = existingItems.length > 0;
            const participantCount = existingItems.reduce((sum, item) => sum + (item.participants || 1), 0);
            const reservationCount = existingItems.length;
            const statusMessage = isSelected
              ? `Déjà ${participantCount} participant${participantCount > 1 ? 's' : ''} (${reservationCount} réservation${
                  reservationCount > 1 ? 's' : ''
                }) dans votre panier.`
              : '';
            const actionButton = isSelected
              ? '<button class="btn-secondary" type="button" data-cart-open>Voir mon panier</button>'
              : `<button class="btn-primary" type="button" data-book-stage="${stage.id}">Réserver</button>`;

            return `
              <article class="stage-card${isSelected ? ' is-selected' : ''}">
                <div class="stage-card__header">
                  <span class="stage-card__category">${stage.category}</span>
                  <h3 class="stage-card__title">${stage.title}</h3>
                </div>
                <p class="stage-card__location">${stage.location}</p>
                <p class="stage-card__description">${stage.description}</p>
                <div class="stage-card__tags">
                  ${stage.tags.map((tag) => `<span class="stage-card__tag">${tag}</span>`).join('')}
                </div>
                ${isSelected ? `<div class="stage-card__status">${statusMessage}</div>` : ''}
                <div class="stage-card__footer">
                  <span class="stage-card__price">${formatCurrency(stage.price)}</span>
                  <div class="stage-card__weeks">
                    ${stage.weeks
                      .map((weekId) => {
                        const label = weeks.find((w) => w.id === weekId)?.label ?? '';
                        return `<span${weekId === selectedWeekId ? ' style="color: var(--reservation-highlight-strong); font-weight: 600;"' : ''}>${label}</span>`;
                      })
                      .join('')}
                  </div>
                  ${actionButton}
                </div>
              </article>
            `;
          })
          .join('');

        stageGrid.querySelectorAll('[data-book-stage]').forEach((button) => {
          button.addEventListener('click', () => openBookingModal(button.getAttribute('data-book-stage')));
        });

        stageGrid.querySelectorAll('[data-cart-open]').forEach((button) => {
          button.addEventListener('click', openCart);
        });

        if (stageHint) {
          const weekItems = cart.filter((item) => item.weekId === selectedWeekId);
          stageHint.textContent = weekItems.length
            ? `Votre panier intelligent contient ${weekItems.length} stage${weekItems.length > 1 ? 's' : ''} pour ${week.label}. Ajustez vos options ou finalisez votre demande.`
            : `Choisissez votre stage pour ${week.label} et personnalisez vos options.`;
        }
      };

      const updateCartCount = () => {
        cartCount.textContent = cart.length;
      };

      const calculateCartItemTotal = (item) => {
        const stage = stageCatalog.find((stageItem) => stageItem.id === item.stageId);
        if (!stage) return 0;
        const base = stage.price * item.participants;
        const lodging = item.lodging ? stage.lodgingPrice * item.participants : 0;
        const transport = item.transport ? stage.transportPrice * item.participants : 0;
        return base + lodging + transport;
      };

      const renderCart = () => {
        if (!cart.length) {
          cartList.innerHTML = '<p class="cart-empty">Votre panier est vide. Ajoutez un stage pour commencer.</p>';
          updateCartCount();
          renderStageCards();
          return;
        }

        const items = cart
          .map((item, index) => {
            const stage = stageCatalog.find((stageItem) => stageItem.id === item.stageId);
            const weekLabel = weeks.find((w) => w.id === item.weekId)?.label ?? '';
            const itemTotal = calculateCartItemTotal(item);
            return `
              <div class="cart-item">
                <div class="cart-item__top">
                  <div>
                    <div class="cart-item__title">${stage?.title ?? 'Stage'}</div>
                    <div class="cart-item__meta">${weekLabel} • ${stage?.location ?? ''}</div>
                    <div class="cart-item__meta">${item.participants} participant${item.participants > 1 ? 's' : ''}</div>
                  </div>
                  <strong>${formatCurrency(itemTotal)}</strong>
                </div>
                <div class="cart-item__actions">
                  <div class="cart-item__meta">
                    ${item.lodging ? 'Hébergement inclus' : 'Sans hébergement'} • ${
              item.transport ? 'Transport inclus' : 'Sans transport'
            }
                  </div>
                  <button class="cart-item__remove" type="button" data-remove-item="${index}">Retirer</button>
                </div>
                ${item.notes ? `<p class="cart-item__meta">Notes : ${item.notes}</p>` : ''}
              </div>
            `;
          })
          .join('');

        const total = cart.reduce((sum, item) => sum + calculateCartItemTotal(item), 0);

        cartList.innerHTML = `${items}<div class="cart-total">Total panier : ${formatCurrency(total)}</div>`;
        updateCartCount();
        renderStageCards();

        cartList.querySelectorAll('[data-remove-item]').forEach((button) => {
          button.addEventListener('click', () => {
            const index = Number(button.getAttribute('data-remove-item'));
            cart.splice(index, 1);
            renderCart();
            showToast('Stage retiré du panier.');
          });
        });
      };

      const openBookingModal = (stageId) => {
        const stage = stageCatalog.find((item) => item.id === stageId);
        if (!stage) return;

        bookingStageId.value = stage.id;
        bookingTitle.textContent = stage.title;
        bookingLocation.textContent = stage.location;
        bookingParticipants.value = 1;
        bookingLodging.checked = false;
        bookingTransport.checked = false;
        bookingNotes.value = '';

        bookingWeekSelect.innerHTML = stage.weeks
          .map((weekId) => {
            const week = weeks.find((item) => item.id === weekId);
            const selected = weekId === selectedWeekId ? 'selected' : '';
            return `<option value="${weekId}" ${selected}>${week?.label ?? ''}</option>`;
          })
          .join('');

        openModal(bookingModal);
        bookingWeekSelect.focus();
      };

      bookingForm.addEventListener('submit', (event) => {
        event.preventDefault();
        const stageId = bookingStageId.value;
        const weekId = bookingWeekSelect.value;
        const participants = Number(bookingParticipants.value) || 1;
        const lodging = bookingLodging.checked;
        const transport = bookingTransport.checked;
        const notes = bookingNotes.value.trim();

        if (!stageId || !weekId) {
          showToast('Veuillez sélectionner une semaine.');
          return;
        }

        cart.push({ stageId, weekId, participants, lodging, transport, notes });
        renderCart();
        showToast('Stage ajouté à votre panier.');
        closeModal(bookingModal);
        openCart();
      });

      cartForm.addEventListener('submit', (event) => {
        event.preventDefault();
        if (!cart.length) {
          showToast('Ajoutez un stage avant d’envoyer votre demande.');
          return;
        }

        cartForm.reset();
        cart = [];
        renderCart();
        closeCart();
        showToast('Votre demande de réservation a été transmise.');
      });

      renderCalendar();
      renderCalendarSummary();
      renderStageCards();
      renderCart();
    </script>
  </body>
</html>
    </div>

    <div class="reservation-cart" data-cart-modal aria-hidden="true">
      <div class="reservation-cart__overlay" data-cart-close></div>
      <div class="reservation-cart__dialog" role="dialog" aria-modal="true" aria-labelledby="cartTitle">
        <button class="reservation-cart__close" type="button" data-cart-close aria-label="Fermer le panier">×</button>
        <header class="reservation-cart__header">
          <span class="reservation-hero__eyebrow" style="margin-bottom: 0;">Panier</span>
          <h2 id="cartTitle">Votre sélection</h2>
          <p class="reservation-modal__meta">
            Vérifiez vos semaines, options et participants avant d'envoyer votre demande de réservation.
          </p>
        </header>
        <div class="reservation-cart__content">
          <div class="cart-list" data-cart-list></div>
          <form class="cart-form" data-cart-form>
            <div class="form-group">
              <label for="cartName">Nom & prénom du référent</label>
              <input id="cartName" type="text" name="name" autocomplete="name" required />
            </div>
            <div class="form-group">
              <label for="cartEmail">E-mail</label>
              <input id="cartEmail" type="email" name="email" autocomplete="email" required />
            </div>
            <div class="form-group">
              <label for="cartPhone">Téléphone</label>
              <input id="cartPhone" type="tel" name="phone" autocomplete="tel" required />
            </div>
            <div class="form-group">
              <label for="cartMessage">Message complémentaire</label>
              <textarea id="cartMessage" name="message" placeholder="Besoin de réserver plusieurs chambres, précisions horaires…"></textarea>
            </div>
            <div class="cart-form__actions">
              <button class="btn-secondary" type="button" data-cart-close>Continuer mes réservations</button>
              <button class="btn-primary" type="submit">Envoyer ma demande</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div class="reservation-toast" role="status" aria-live="polite" id="reservationToast">Stage ajouté à votre panier.</div>

    <script>
      document.documentElement.classList.add('js');
      const weeks = [
        {
          id: '2024-07-08',
          label: '8 → 13 juillet',
          summary: 'CREPS Poitiers • CREPS Toulouse • Aix-en-Provence',
          spots: 12
        },
        {
          id: '2024-07-15',
          label: '15 → 20 juillet',
          summary: 'Poitiers • Domaine des Landes Girondines • Cabourg',
          spots: 10
        },
        {
          id: '2024-07-22',
          label: '22 → 27 juillet',
          summary: 'Poitiers • Toulouse • Aix-en-Provence',
          spots: 9
        },
        {
          id: '2024-07-29',
          label: '29 juillet → 3 août',
          summary: 'Toulouse • Landes Girondines • Cabourg',
          spots: 8
        },
        {
          id: '2024-08-05',
          label: '5 → 10 août',
          summary: 'Aix-en-Provence • Landes Girondines • Cabourg',
          spots: 6
        },
        {
          id: '2024-08-12',
          label: '12 → 17 août',
          summary: 'Poitiers • Cabourg',
          spots: 6
        }
      ];

      const stageCatalog = [
        {
          id: 'performance-poitiers',
          category: 'Performance',
          title: 'Stage Performance Intensif',
          location: 'CREPS de Poitiers',
          description:
            "Volume d’entraînement élevé, coaching tactique personnalisé et suivi vidéo quotidien pour progresser rapidement.",
          price: 790,
          lodgingPrice: 420,
          transportPrice: 140,
          tags: ['Suivi vidéo', 'Prépa physique', 'Coaching tactique'],
          weeks: ['2024-07-08', '2024-07-15', '2024-07-22']
        },
        {
          id: 'elite-toulouse',
          category: 'Haut niveau',
          title: 'Tournée Elite & Tournois',
          location: 'CREPS de Toulouse',
          description:
            'Encadrement national, participation à deux tournois officiels et suivi mental quotidien pour les compétiteurs.',
          price: 980,
          lodgingPrice: 520,
          transportPrice: 180,
          tags: ['Tournois FFT', 'Suivi mental', 'Analyse biomécanique'],
          weeks: ['2024-07-08', '2024-07-22', '2024-07-29']
        },
        {
          id: 'terre-battue-aix',
          category: 'Technique',
          title: 'Immersion Terre Battue',
          location: "CREPS d'Aix-en-Provence",
          description:
            'Focus tactique sur terre battue, ateliers spécifiques et plan de jeu personnalisé avec sessions vidéo.',
          price: 860,
          lodgingPrice: 480,
          transportPrice: 150,
          tags: ['Terre battue', 'Plan tactique', 'Prépa physique'],
          weeks: ['2024-07-08', '2024-07-22', '2024-08-05']
        },
        {
          id: 'famille-landes',
          category: 'Familles',
          title: 'Expérience Premium Famille',
          location: 'Domaine des Landes Girondines',
          description:
            'Programme parents & enfants, coaching partagé et activités plage au cœur de la pinède girondine.',
          price: 720,
          lodgingPrice: 540,
          transportPrice: 140,
          tags: ['Résidence 4★', 'Coaching parents', 'Activités plage'],
          weeks: ['2024-07-15', '2024-07-29', '2024-08-05']
        },
        {
          id: 'cabourg-competition',
          category: 'Compétition',
          title: 'Stage Bord de Mer & Tournoi',
          location: 'Cabourg',
          description:
            'Coaching quotidien, tournoi nocturne et préparation physique sur la plage avec accès au centre thalasso.',
          price: 820,
          lodgingPrice: 450,
          transportPrice: 130,
          tags: ['Tournoi nocturne', 'Prépa plage', 'Coaching perso'],
          weeks: ['2024-07-15', '2024-07-29', '2024-08-05', '2024-08-12']
        }
      ];

      const nav = document.querySelector('[data-nav]');
      const navToggle = document.querySelector('[data-nav-toggle]');
      const cartOpenButtons = document.querySelectorAll('[data-cart-open]');
      const cartCloseButtons = document.querySelectorAll('[data-cart-close]');
      const cartModal = document.querySelector('[data-cart-modal]');
      const bookingModal = document.querySelector('[data-booking-modal]');
      const modalCloseButtons = document.querySelectorAll('[data-modal-close]');
      const calendarGrid = document.getElementById('calendarGrid');
      const calendarSummary = document.getElementById('calendarSummary');
      const stageGrid = document.getElementById('stageGrid');
      const stageHint = document.getElementById('stageHint');
      const bookingForm = document.querySelector('[data-booking-form]');
      const bookingStageId = document.getElementById('bookingStageId');
      const bookingTitle = document.getElementById('bookingTitle');
      const bookingLocation = document.getElementById('bookingLocation');
      const bookingWeekSelect = document.getElementById('bookingWeek');
      const bookingParticipants = document.getElementById('bookingParticipants');
      const bookingLodging = document.getElementById('bookingLodging');
      const bookingTransport = document.getElementById('bookingTransport');
      const bookingNotes = document.getElementById('bookingNotes');
      const cartList = document.querySelector('[data-cart-list]');
      const cartForm = document.querySelector('[data-cart-form]');
      const cartCount = document.querySelector('[data-cart-count]');
      const toast = document.getElementById('reservationToast');
      const scrollButtons = document.querySelectorAll('[data-scroll-to]');

      let selectedWeekId = weeks[0]?.id ?? null;
      let cart = [];
      let toastTimeout;

      const formatCurrency = (value) =>
        new Intl.NumberFormat('fr-FR', { style: 'currency', currency: 'EUR', maximumFractionDigits: 0 }).format(value);

      const toggleNav = () => {
        nav.classList.toggle('is-open');
      };

      navToggle?.addEventListener('click', toggleNav);
      nav?.querySelectorAll('a').forEach((link) =>
        link.addEventListener('click', () => {
          nav.classList.remove('is-open');
        })
      );

      scrollButtons.forEach((button) => {
        button.addEventListener('click', () => {
          const selector = button.getAttribute('data-scroll-to');
          const target = document.querySelector(selector);
          if (target) {
            target.scrollIntoView({ behavior: 'smooth' });
          }
        });
      });

      const showToast = (message) => {
        toast.textContent = message;
        toast.classList.add('is-visible');
        clearTimeout(toastTimeout);
        toastTimeout = setTimeout(() => toast.classList.remove('is-visible'), 3800);
      };

      const openModal = (modal) => {
        modal.classList.add('is-visible');
        modal.setAttribute('aria-hidden', 'false');
        document.body.style.overflow = 'hidden';
      };

      const closeModal = (modal) => {
        modal.classList.remove('is-visible');
        modal.setAttribute('aria-hidden', 'true');
        document.body.style.overflow = '';
      };

      const openCart = () => openModal(cartModal);
      const closeCart = () => closeModal(cartModal);

      cartOpenButtons.forEach((button) => button.addEventListener('click', openCart));
      cartCloseButtons.forEach((button) => button.addEventListener('click', closeCart));

      modalCloseButtons.forEach((button) =>
        button.addEventListener('click', () => {
          closeModal(bookingModal);
        })
      );

      document.addEventListener('keydown', (event) => {
        if (event.key === 'Escape') {
          closeModal(bookingModal);
          closeCart();
        }
      });

      const renderCalendar = () => {
        calendarGrid.innerHTML = weeks
          .map((week) => {
            const isActive = week.id === selectedWeekId;
            return `
              <button class="calendar-week${isActive ? ' is-active' : ''}" type="button" data-week="${week.id}" aria-pressed="${
              isActive ? 'true' : 'false'
            }">
                <span class="calendar-week__label">${week.label}</span>
                <span class="calendar-week__locations">${week.summary}</span>
                <span class="calendar-week__status">${
                  week.spots > 0 ? `${week.spots} places restantes` : 'Complet'
                }</span>
              </button>
            `;
          })
          .join('');

        calendarGrid.querySelectorAll('button').forEach((button) => {
          button.addEventListener('click', () => {
            selectedWeekId = button.getAttribute('data-week');
            renderCalendar();
            renderStageCards();
            renderCalendarSummary();
            stageHint.textContent = 'Choisissez votre stage parmi la sélection ci-dessous.';
          });
        });
      };

      const renderCalendarSummary = () => {
        const week = weeks.find((item) => item.id === selectedWeekId);
        if (!week) {
          calendarSummary.innerHTML = '';
          return;
        }

        const weekStages = stageCatalog.filter((stage) => stage.weeks.includes(week.id));
        const stageList = weekStages.length
          ? `<ul class="calendar-summary__list">
              ${weekStages
                .map((stage) => `<li><strong>${stage.title}</strong> — ${stage.location} • ${formatCurrency(stage.price)}</li>`)
                .join('')}
            </ul>`
          : '<p class="calendar-summary__empty">Aucun stage n’est disponible sur cette semaine.</p>';

        calendarSummary.innerHTML = `
          <div class="calendar-summary__card">
            <strong>Semaine sélectionnée</strong>
            <span>${week.label}</span>
            <span>${week.summary}</span>
            <span>${week.spots > 0 ? `${week.spots} places restantes` : 'Complet'}</span>
          </div>
          <div class="calendar-summary__card">
            <strong>Stages proposés</strong>
            ${stageList}
          </div>
        `;
      };

      const renderStageCards = () => {
        const week = weeks.find((item) => item.id === selectedWeekId);
        if (!week) {
          stageGrid.innerHTML = '';
          return;
        }

        const stages = stageCatalog.filter((stage) => stage.weeks.includes(week.id));

        if (!stages.length) {
          stageGrid.innerHTML = '<p class="calendar-summary__empty">Pas de stage pour cette semaine pour le moment.</p>';
          return;
        }

        stageGrid.innerHTML = stages
          .map((stage) => `
            <article class="stage-card">
              <div class="stage-card__header">
                <span class="stage-card__category">${stage.category}</span>
                <h3 class="stage-card__title">${stage.title}</h3>
              </div>
              <p class="stage-card__location">${stage.location}</p>
              <p class="stage-card__description">${stage.description}</p>
              <div class="stage-card__tags">
                ${stage.tags.map((tag) => `<span class="stage-card__tag">${tag}</span>`).join('')}
              </div>
              <div class="stage-card__footer">
                <span class="stage-card__price">${formatCurrency(stage.price)}</span>
                <div class="stage-card__weeks">
                  ${stage.weeks.map((weekId) => `<span>${weeks.find((w) => w.id === weekId)?.label ?? ''}</span>`).join('')}
                </div>
                <button class="btn-primary" type="button" data-book-stage="${stage.id}">Réserver</button>
              </div>
            </article>
          `)
          .join('');

        stageGrid.querySelectorAll('[data-book-stage]').forEach((button) => {
          button.addEventListener('click', () => openBookingModal(button.getAttribute('data-book-stage')));
        });
      };

      const updateCartCount = () => {
        cartCount.textContent = cart.length;
      };

      const calculateCartItemTotal = (item) => {
        const stage = stageCatalog.find((stageItem) => stageItem.id === item.stageId);
        if (!stage) return 0;
        const base = stage.price * item.participants;
        const lodging = item.lodging ? stage.lodgingPrice * item.participants : 0;
        const transport = item.transport ? stage.transportPrice * item.participants : 0;
        return base + lodging + transport;
      };

      const renderCart = () => {
        if (!cart.length) {
          cartList.innerHTML = '<p class="cart-empty">Votre panier est vide. Ajoutez un stage pour commencer.</p>';
          updateCartCount();
          return;
        }

        const items = cart
          .map((item, index) => {
            const stage = stageCatalog.find((stageItem) => stageItem.id === item.stageId);
            const weekLabel = weeks.find((w) => w.id === item.weekId)?.label ?? '';
            const itemTotal = calculateCartItemTotal(item);
            return `
              <div class="cart-item">
                <div class="cart-item__top">
                  <div>
                    <div class="cart-item__title">${stage?.title ?? 'Stage'}</div>
                    <div class="cart-item__meta">${weekLabel} • ${stage?.location ?? ''}</div>
                    <div class="cart-item__meta">${item.participants} participant${item.participants > 1 ? 's' : ''}</div>
                  </div>
                  <strong>${formatCurrency(itemTotal)}</strong>
                </div>
                <div class="cart-item__actions">
                  <div class="cart-item__meta">
                    ${item.lodging ? 'Hébergement inclus' : 'Sans hébergement'} • ${
              item.transport ? 'Transport inclus' : 'Sans transport'
            }
                  </div>
                  <button class="cart-item__remove" type="button" data-remove-item="${index}">Retirer</button>
                </div>
                ${item.notes ? `<p class="cart-item__meta">Notes : ${item.notes}</p>` : ''}
              </div>
            `;
          })
          .join('');

        const total = cart.reduce((sum, item) => sum + calculateCartItemTotal(item), 0);

        cartList.innerHTML = `${items}<div class="cart-total">Total panier : ${formatCurrency(total)}</div>`;
        updateCartCount();

        cartList.querySelectorAll('[data-remove-item]').forEach((button) => {
          button.addEventListener('click', () => {
            const index = Number(button.getAttribute('data-remove-item'));
            cart.splice(index, 1);
            renderCart();
            showToast('Stage retiré du panier.');
          });
        });
      };

      const openBookingModal = (stageId) => {
        const stage = stageCatalog.find((item) => item.id === stageId);
        if (!stage) return;

        bookingStageId.value = stage.id;
        bookingTitle.textContent = stage.title;
        bookingLocation.textContent = stage.location;
        bookingParticipants.value = 1;
        bookingLodging.checked = false;
        bookingTransport.checked = false;
        bookingNotes.value = '';

        bookingWeekSelect.innerHTML = stage.weeks
          .map((weekId) => {
            const week = weeks.find((item) => item.id === weekId);
            const selected = weekId === selectedWeekId ? 'selected' : '';
            return `<option value="${weekId}" ${selected}>${week?.label ?? ''}</option>`;
          })
          .join('');

        openModal(bookingModal);
        bookingWeekSelect.focus();
      };

      bookingForm.addEventListener('submit', (event) => {
        event.preventDefault();
        const stageId = bookingStageId.value;
        const weekId = bookingWeekSelect.value;
        const participants = Number(bookingParticipants.value) || 1;
        const lodging = bookingLodging.checked;
        const transport = bookingTransport.checked;
        const notes = bookingNotes.value.trim();

        if (!stageId || !weekId) {
          showToast('Veuillez sélectionner une semaine.');
          return;
        }

        cart.push({ stageId, weekId, participants, lodging, transport, notes });
        renderCart();
        showToast('Stage ajouté à votre panier.');
        closeModal(bookingModal);
        openCart();
      });

      cartForm.addEventListener('submit', (event) => {
        event.preventDefault();
        if (!cart.length) {
          showToast('Ajoutez un stage avant d’envoyer votre demande.');
          return;
        }

        cartForm.reset();
        cart = [];
        renderCart();
        closeCart();
        showToast('Votre demande de réservation a été transmise.');
      });

      renderCalendar();
      renderCalendarSummary();
      renderStageCards();
      renderCart();
    </script>
  </body>
</html>
    <div class="reservation-toast" role="status" aria-live="polite" id="reservationToast">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
        <path
          d="M12 2a10 10 0 1 0 10 10A10.011 10.011 0 0 0 12 2Zm5 9.59-5.65 5.66a1 1 0 0 1-1.41 0L7 13.31a1 1 0 0 1 1.41-1.41l2.24 2.23 4.94-4.93A1 1 0 0 1 17 11.59Z"
        />
      </svg>
      <span id="toastMessage"></span>
    </div>

    <div class="reservation-modal" id="booking-modal" role="dialog" aria-modal="true" aria-labelledby="booking-title">
      <div class="reservation-modal__overlay" data-modal-close></div>
      <div class="reservation-modal__dialog" tabindex="-1">
        <button class="reservation-modal__close" type="button" data-modal-close aria-label="Fermer la fenêtre">×</button>
        <div>
          <span class="section-eyebrow">Stage sélectionné</span>
          <h3 id="booking-title">Réservation</h3>
          <p id="booking-location"></p>
        </div>
        <form class="form-grid" id="booking-form">
          <input type="hidden" id="booking-stage-id" />
          <div class="form-control">
            <label for="booking-week">Semaine</label>
            <select id="booking-week" required></select>
          </div>
          <div class="form-control">
            <label for="booking-participants">Nombre de joueurs</label>
            <input id="booking-participants" type="number" min="1" value="1" required />
          </div>
          <div class="form-options">
            <label>
              <span>Ajouter l’hébergement</span>
              <input id="booking-lodging" type="checkbox" />
            </label>
            <label>
              <span>Ajouter le transport</span>
              <input id="booking-transport" type="checkbox" />
            </label>
          </div>
          <div class="form-total">
            <span>Total estimé</span>
            <strong id="booking-total">0 €</strong>
          </div>
          <button class="btn-primary" type="submit">Ajouter au panier</button>
        </form>
      </div>
    </div>

    <div class="reservation-modal" id="cart-modal" role="dialog" aria-modal="true" aria-labelledby="cart-title">
      <div class="reservation-modal__overlay" data-modal-close></div>
      <div class="reservation-modal__dialog" tabindex="-1">
        <button class="reservation-modal__close" type="button" data-modal-close aria-label="Fermer le panier">×</button>
        <div>
          <span class="section-eyebrow">Panier</span>
          <h3 id="cart-title">Vos réservations</h3>
          <p>Retrouvez vos stages sélectionnés et envoyez-nous votre demande détaillée.</p>
        </div>
        <div id="cart-list" class="cart-list"></div>
        <div class="cart-footer">
          <div class="cart-total">
            <span>Total estimé</span>
            <strong id="cart-total">0 €</strong>
          </div>
          <button class="btn-primary" type="button" id="cart-submit">Envoyer ma demande</button>
        </div>
      </div>
    </div>

    <script>
      const navToggle = document.querySelector('.nav-toggle');
      const navLinks = document.getElementById('site-nav');
      const body = document.body;

      if (navToggle && navLinks) {
        const toggleMenu = (open) => {
          const shouldOpen = open ?? !navToggle.classList.contains('is-open');
          navToggle.classList.toggle('is-open', shouldOpen);
          navToggle.setAttribute('aria-expanded', shouldOpen ? 'true' : 'false');
          navLinks.classList.toggle('open', shouldOpen);
          body.classList.toggle('menu-open', shouldOpen);
        };

        navToggle.addEventListener('click', () => toggleMenu());
        navLinks.querySelectorAll('a').forEach((link) => link.addEventListener('click', () => toggleMenu(false)));
        window.addEventListener('resize', () => {
          if (window.innerWidth > 860) toggleMenu(false);
        });
      }

      document.querySelectorAll('[data-scroll-target]').forEach((button) => {
        button.addEventListener('click', () => {
          const target = document.querySelector(button.getAttribute('data-scroll-target'));
          if (target) target.scrollIntoView({ behavior: 'smooth' });
        });
      });

      const toast = document.getElementById('reservationToast');
      const toastMessage = document.getElementById('toastMessage');
      let toastTimeout;

      const showToast = (message) => {
        toastMessage.textContent = message;
        toast.classList.add('is-visible');
        clearTimeout(toastTimeout);
        toastTimeout = setTimeout(() => toast.classList.remove('is-visible'), 3500);
      };

      const weeks = [
        {
          id: '2024-07-08',
          label: '8 → 13 juillet',
          locations: ['CREPS Poitiers', 'CREPS Toulouse', 'Aix-en-Provence'],
          spots: 8
        },
        {
          id: '2024-07-15',
          label: '15 → 20 juillet',
          locations: ['Poitiers', 'Landes Girondines', 'Cabourg'],
          spots: 12
        },
        {
          id: '2024-07-22',
          label: '22 → 27 juillet',
          locations: ['Poitiers', 'Toulouse', 'Aix-en-Provence'],
          spots: 9
        },
        {
          id: '2024-07-29',
          label: '29 juillet → 3 août',
          locations: ['Toulouse', 'Landes Girondines', 'Cabourg'],
          spots: 7
        },
        {
          id: '2024-08-05',
          label: '5 → 10 août',
          locations: ['Aix-en-Provence', 'Landes Girondines', 'Cabourg'],
          spots: 6
        },
        {
          id: '2024-08-12',
          label: '12 → 17 août',
          locations: ['Poitiers', 'Cabourg'],
          spots: 5
        }
      ];

      const stageCatalog = [
        {
          id: 'performance-poitiers',
          category: 'Performance',
          title: 'Stage Performance Intensif',
          location: 'CREPS de Poitiers',
          description:
            "Volume d’entraînement élevé avec suivi vidéo quotidien, coaching tactique et préparation physique spécifique.",
          price: 790,
          lodgingPrice: 420,
          transportPrice: 140,
          tags: ['Vidéo individuelle', 'Prépa physique', 'Coaching tactique'],
          weeks: ['2024-07-08', '2024-07-15', '2024-07-22']
        },
        {
          id: 'elite-toulouse',
          category: 'Haut niveau',
          title: 'Tournée Elite & Tournois',
          location: 'CREPS de Toulouse',
          description:
            'Encadrement par nos coachs nationaux avec participation à deux tournois officiels et suivi mental quotidien.',
          price: 980,
          lodgingPrice: 520,
          transportPrice: 180,
          tags: ['Tournois FFT', 'Préparateur mental', 'Suivi biomécanique'],
          weeks: ['2024-07-08', '2024-07-22', '2024-07-29']
        },
        {
          id: 'terre-battue-aix',
          category: 'Technique',
          title: 'Immersion Terre Battue',
          location: "CREPS d’Aix-en-Provence",
          description:
            'Focus tactique sur terre battue avec ateliers spécifiques, analyse vidéo et plan d’entraînement personnalisé.',
          price: 860,
          lodgingPrice: 480,
          transportPrice: 150,
          tags: ['Terre battue', 'Plan tactique', 'Prépa physique'],
          weeks: ['2024-07-08', '2024-07-22', '2024-08-05']
        },
        {
          id: 'famille-landes',
          category: 'Familles',
          title: 'Expérience Premium Famille',
          location: 'Domaine des Landes Girondines',
          description:
            'Programme tennis enfants & parents, activités plage et golf, hébergement premium au cœur de la pinède.',
          price: 720,
          lodgingPrice: 540,
          transportPrice: 140,
          tags: ['Résidence 4★', 'Activités plage', 'Coaching parents'],
          weeks: ['2024-07-15', '2024-07-29', '2024-08-05']
        },
        {
          id: 'cabourg-competition',
          category: 'Compétition',
          title: 'Stage Bord de Mer & Tournoi',
          location: 'Cabourg',
          description:
            'Coaching quotidien, tournoi nocturne, préparation physique sur la plage et accès au centre thalasso partenaire.',
          price: 820,
          lodgingPrice: 450,
          transportPrice: 130,
          tags: ['Tournoi nocturne', 'Prépa plage', 'Coaching perso'],
          weeks: ['2024-07-15', '2024-07-29', '2024-08-05', '2024-08-12']
        }
      ];

      const weeksMap = new Map(weeks.map((week) => [week.id, week]));
      const stagesMap = new Map(stageCatalog.map((stage) => [stage.id, stage]));

      const calendarGrid = document.getElementById('calendarGrid');
      const calendarSummary = document.getElementById('calendarSummary');
      const stageGrid = document.getElementById('stageGrid');
      const stageHint = document.getElementById('stageHint');
      const bookingModal = document.getElementById('booking-modal');
      const cartModal = document.getElementById('cart-modal');
      const bookingForm = document.getElementById('booking-form');
      const bookingStageId = document.getElementById('booking-stage-id');
      const bookingWeekSelect = document.getElementById('booking-week');
      const bookingParticipants = document.getElementById('booking-participants');
      const bookingLodging = document.getElementById('booking-lodging');
      const bookingTransport = document.getElementById('booking-transport');
      const bookingTotal = document.getElementById('booking-total');
      const bookingTitle = document.getElementById('booking-title');
      const bookingLocation = document.getElementById('booking-location');
      const cartList = document.getElementById('cart-list');
      const cartTotal = document.getElementById('cart-total');
      const cartSubmit = document.getElementById('cart-submit');
      const cartCountBadges = document.querySelectorAll('[data-cart-count]');
      const cartTriggers = document.querySelectorAll('[data-cart-trigger]');

      let selectedWeekId = weeks.length ? weeks[0].id : null;
      let cart = [];

      const formatCurrency = (value) =>
        new Intl.NumberFormat('fr-FR', {
          style: 'currency',
          currency: 'EUR',
          maximumFractionDigits: 0
        }).format(value);

      const toggleModal = (modal, open) => {
        if (!modal) return;
        const shouldOpen = open ?? !modal.classList.contains('is-visible');
        modal.classList.toggle('is-visible', shouldOpen);
        body.classList.toggle('modal-open', shouldOpen);
        if (shouldOpen) {
          modal.querySelector('.reservation-modal__dialog')?.focus();
        }
      };

      document.querySelectorAll('[data-modal-close]').forEach((element) => {
        element.addEventListener('click', () => {
          toggleModal(element.closest('.reservation-modal'), false);
        });
      });

      cartTriggers.forEach((trigger) => trigger.addEventListener('click', () => toggleModal(cartModal, true)));

      document.addEventListener('keydown', (event) => {
        if (event.key === 'Escape') {
          if (bookingModal.classList.contains('is-visible')) toggleModal(bookingModal, false);
          if (cartModal.classList.contains('is-visible')) toggleModal(cartModal, false);
        }
      });

      const renderCalendar = () => {
        calendarGrid.innerHTML = weeks
          .map((week) => {
            const isSelected = week.id === selectedWeekId;
            return `
              <button class="calendar-week${isSelected ? ' is-active' : ''}" type="button" data-week="${week.id}" aria-pressed="${
              isSelected ? 'true' : 'false'
            }">
                <span class="calendar-week__label">${week.label}</span>
                <span class="calendar-week__locations">${week.locations.join(' • ')}</span>
                <span class="calendar-week__status">${
                  week.spots > 0 ? `${week.spots} places restantes` : 'Complet'
                }</span>
              </button>
            `;
          })
          .join('');

        calendarGrid.querySelectorAll('button').forEach((button) => {
          button.addEventListener('click', () => {
            selectedWeekId = button.getAttribute('data-week');
            renderCalendar();
            updateCalendarSummary();
            renderStageCards();
            stageHint.textContent = 'Choisissez votre stage parmi la sélection ci-dessous.';
          });
        });
      };

      const updateCalendarSummary = () => {
        const week = weeksMap.get(selectedWeekId);
        if (!week) {
          calendarSummary.innerHTML = '';
          return;
        }

        const stages = stageCatalog.filter((stage) => stage.weeks.includes(week.id));
        const stageList = stages.length
          ? `<ul class="calendar-summary__list">
              ${stages
                .map((stage) => `<li><strong>${stage.title}</strong> — ${stage.location} • ${formatCurrency(stage.price)}</li>`)
                .join('')}
            </ul>`
          : '<p class="calendar-summary__empty">Aucun stage n’est disponible sur cette semaine pour le moment.</p>';

        calendarSummary.innerHTML = `
          <div class="calendar-summary__card">
            <strong>Disponibilités</strong>
            <span>${week.locations.join(' • ')}</span>
            <span>${week.spots > 0 ? `${week.spots} places restantes` : 'Complet'}</span>
          </div>
          <div class="calendar-summary__card">
            <strong>Stages proposés</strong>
            ${stageList}
          </div>
        `;
      };

      const renderStageCards = () => {
        const week = weeksMap.get(selectedWeekId);
        if (!week) {
          stageGrid.innerHTML = '';
          return;
        }

        const stages = stageCatalog.filter((stage) => stage.weeks.includes(week.id));

        if (!stages.length) {
          stageGrid.innerHTML = '<p class="calendar-summary__empty">Pas de stage pour cette semaine pour le moment.</p>';
          return;
        }

        stageGrid.innerHTML = stages
          .map((stage) => `
            <article class="stage-card">
              <div class="stage-card__header">
                <span class="stage-card__category">${stage.category}</span>
                <h3 class="stage-card__title">${stage.title}</h3>
              </div>
              <p class="stage-card__location">${stage.location}</p>
              <p class="stage-card__description">${stage.description}</p>
              <div class="stage-card__tags">
                ${stage.tags.map((tag) => `<span class="stage-card__tag">${tag}</span>`).join('')}
              </div>
              <div class="stage-card__footer">
                <span class="stage-card__price">${formatCurrency(stage.price)}</span>
                <div class="stage-card__weeks">
                  ${stage.weeks
                    .map((weekId) => `<span>${weeksMap.get(weekId)?.label ?? ''}</span>`)
                    .join('')}
                </div>
                <button class="btn-primary" type="button" data-book-stage="${stage.id}">Réserver</button>
              </div>
            </article>
          `)
          .join('');

        stageGrid.querySelectorAll('[data-book-stage]').forEach((button) => {
          button.addEventListener('click', () => openBookingModal(button.getAttribute('data-book-stage')));
        });
      };

      const openBookingModal = (stageId) => {
        const stage = stagesMap.get(stageId);
        if (!stage) return;

        bookingStageId.value = stage.id;
        bookingTitle.textContent = stage.title;
        bookingLocation.textContent = stage.location;
        bookingParticipants.value = 1;
        bookingLodging.checked = false;
        bookingTransport.checked = false;

        bookingWeekSelect.innerHTML = stage.weeks
          .map((weekId) => {
            const week = weeksMap.get(weekId);
            const selected = weekId === selectedWeekId ? 'selected' : '';
            return `<option value="${weekId}" ${selected}>${week?.label ?? ''}</option>`;
          })
          .join('');

        updateBookingTotal();
        toggleModal(bookingModal, true);
      };

      const computeBookingTotal = () => {
        const stage = stagesMap.get(bookingStageId.value);
        if (!stage) return 0;
        const participants = Math.max(1, Number.parseInt(bookingParticipants.value, 10) || 1);
        let total = stage.price * participants;
        if (bookingLodging.checked) total += stage.lodgingPrice * participants;
        if (bookingTransport.checked) total += stage.transportPrice * participants;
        return total;
      };

      const updateBookingTotal = () => {
        bookingTotal.textContent = formatCurrency(computeBookingTotal());
      };

      bookingParticipants.addEventListener('input', updateBookingTotal);
      bookingLodging.addEventListener('change', updateBookingTotal);
      bookingTransport.addEventListener('change', updateBookingTotal);

      bookingForm.addEventListener('submit', (event) => {
        event.preventDefault();
        const stage = stagesMap.get(bookingStageId.value);
        if (!stage) return;

        const weekId = bookingWeekSelect.value;
        const participants = Math.max(1, Number.parseInt(bookingParticipants.value, 10) || 1);
        const lodging = bookingLodging.checked;
        const transport = bookingTransport.checked;
        const itemId = `${stage.id}-${weekId}-${Date.now()}`;

        cart.push({ id: itemId, stageId: stage.id, weekId, participants, lodging, transport });
        updateCartUI();
        toggleModal(bookingModal, false);
        toggleModal(cartModal, true);
        showToast('Stage ajouté à votre panier.');
      });

      const removeCartItem = (id) => {
        cart = cart.filter((item) => item.id !== id);
        updateCartUI();
      };

      const computeCartTotal = () =>
        cart.reduce((total, item) => {
          const stage = stagesMap.get(item.stageId);
          if (!stage) return total;
          let line = stage.price * item.participants;
          if (item.lodging) line += stage.lodgingPrice * item.participants;
          if (item.transport) line += stage.transportPrice * item.participants;
          return total + line;
        }, 0);

      const updateCartCount = () => {
        cartCountBadges.forEach((badge) => {
          badge.textContent = cart.length;
        });
      };

      const updateCartUI = () => {
        if (!cart.length) {
          cartList.innerHTML = '<p class="cart-empty">Votre panier est vide pour le moment.</p>';
          cartTotal.textContent = formatCurrency(0);
          updateCartCount();
          return;
        }

        cartList.innerHTML = cart
          .map((item) => {
            const stage = stagesMap.get(item.stageId);
            const week = weeksMap.get(item.weekId);
            if (!stage || !week) return '';
            const options = [
              `${item.participants} joueur${item.participants > 1 ? 's' : ''}`,
              item.lodging ? 'Hébergement inclus' : 'Sans hébergement',
              item.transport ? 'Transport inclus' : 'Sans transport'
            ];
            return `
              <article class="cart-item">
                <div class="cart-item__header">
                  <div>
                    <p class="cart-item__title">${stage.title}</p>
                    <p class="cart-item__meta">
                      <span>${stage.location}</span>
                      <span>${week?.label ?? ''}</span>
                      <span>${options.join(' • ')}</span>
                    </p>
                  </div>
                  <strong>${formatCurrency(
                    (stage.price + (item.lodging ? stage.lodgingPrice : 0) + (item.transport ? stage.transportPrice : 0)) *
                      item.participants
                  )}</strong>
                </div>
                <button type="button" data-remove="${item.id}">Retirer</button>
              </article>
            `;
          })
          .join('');

        cartList.querySelectorAll('[data-remove]').forEach((button) => {
          button.addEventListener('click', () => removeCartItem(button.getAttribute('data-remove')));
        });

        cartTotal.textContent = formatCurrency(computeCartTotal());
        updateCartCount();
      };

      cartSubmit.addEventListener('click', () => {
        if (!cart.length) {
          showToast('Ajoutez un stage avant d’envoyer votre demande.');
          return;
        }

        cart = [];
        updateCartUI();
        toggleModal(cartModal, false);
        showToast('Votre demande a bien été envoyée. Nous revenons vers vous sous 48h.');
      });

      document.querySelectorAll('.reservation-tabs__inner a').forEach((link) => {
        link.addEventListener('click', (event) => {
          event.preventDefault();
          const target = document.querySelector(link.getAttribute('href'));
          if (target) target.scrollIntoView({ behavior: 'smooth' });
        });
      });

      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              document.querySelectorAll('.reservation-tabs__inner a').forEach((link) => {
                link.classList.toggle('is-active', link.getAttribute('href') === `#${entry.target.id}`);
              });
            }
          });
        },
        { rootMargin: '-55% 0px -35% 0px' }
      );

      document.querySelectorAll('main section[id]').forEach((section) => observer.observe(section));

      const init = () => {
        renderCalendar();
        updateCalendarSummary();
        renderStageCards();
        updateCartUI();
        stageHint.textContent = 'Choisissez votre stage parmi la sélection ci-dessous.';
      };

      init();
    </script>
  </body>
</html>
        color: var(--reservation-highlight);
      }

      .reservation-hero__lead {
        color: var(--reservation-muted);
        font-size: clamp(1rem, 1.3vw, 1.1rem);
        max-width: 520px;
        margin: 0 0 32px;
      }

      .reservation-hero__metrics {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 24px;
        margin-bottom: 36px;
      }

      .reservation-hero__metric {
        padding: 20px 24px;
        border-radius: var(--reservation-radius-md);
        background: linear-gradient(140deg, rgba(11, 28, 62, 0.7), rgba(8, 16, 38, 0.55));
        border: 1px solid var(--reservation-border);
        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.08);
      }

      .reservation-hero__metric strong {
        display: block;
        font-size: 1.35rem;
        margin-bottom: 6px;
        color: var(--reservation-highlight);
        font-family: "Playfair Display", serif;
      }

      .reservation-hero__metric span {
        font-size: 0.92rem;
        color: var(--reservation-muted);
      }

      .reservation-hero__actions {
        display: flex;
        flex-wrap: wrap;
        gap: 16px;
      }

      .reservation-hero__card {
        position: relative;
        background: var(--reservation-card);
        border: 1px solid var(--reservation-border);
        padding: 32px;
        border-radius: var(--reservation-radius-lg);
        box-shadow: var(--reservation-shadow);
        overflow: hidden;
      }

      .reservation-hero__card::after {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: inherit;
        border: 1px solid rgba(244, 198, 108, 0.18);
        pointer-events: none;
      }

      .reservation-hero__card h3 {
        margin: 0 0 12px;
        font-size: 1.35rem;
        font-family: "Playfair Display", serif;
      }

      .reservation-hero__card p {
        margin: 0 0 18px;
        color: var(--reservation-muted);
        font-size: 0.95rem;
      }

      .reservation-hero__list {
        margin: 0 0 24px;
        padding: 0;
        list-style: none;
        display: grid;
        gap: 12px;
      }

      .reservation-hero__list li {
        display: flex;
        align-items: flex-start;
        gap: 12px;
        font-size: 0.95rem;
        color: var(--reservation-contrast);
      }

      .reservation-hero__list li::before {
        content: "\2727";
        color: var(--reservation-highlight);
        font-size: 0.75rem;
        margin-top: 4px;
      }

      .btn-primary,
      .btn-secondary {
      .reservation-page * {
        box-sizing: border-box;
      }

      a {
        color: inherit;
      }

      a:hover,
      a:focus-visible {
        color: var(--reservation-gold);
      }

      .reservation-container {
        width: min(1180px, 94vw);
        margin: 0 auto;
      }

      .reservation-navbar {
        position: fixed;
        inset: 0 0 auto 0;
        z-index: 80;
        backdrop-filter: blur(22px);
        background: linear-gradient(120deg, rgba(4, 10, 24, 0.95), rgba(8, 18, 40, 0.9));
        border-bottom: 1px solid rgba(255, 255, 255, 0.08);
      }

      .reservation-navbar__inner {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 24px;
        padding: 20px 0;
      }

      .reservation-navbar__brand {
        display: flex;
        flex-direction: column;
        gap: 2px;
        font-weight: 600;
        letter-spacing: 0.04em;
        text-transform: uppercase;
      }

      .reservation-navbar__brand span:first-child {
        font-size: 0.65rem;
        color: var(--reservation-muted);
      }

      .reservation-navbar__brand span:last-child {
        font-family: "Playfair Display", serif;
        font-size: 1.35rem;
      }

      .reservation-navbar__toggle {
        display: none;
        align-items: center;
        justify-content: center;
        width: 44px;
        height: 44px;
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.16);
        background: rgba(255, 255, 255, 0.04);
        color: inherit;
        cursor: pointer;
        transition: background 0.3s ease;
      }

      .reservation-navbar__toggle:hover,
      .reservation-navbar__toggle:focus-visible {
        background: rgba(255, 255, 255, 0.1);
      }

      .reservation-navbar__menu {
        display: flex;
        align-items: center;
        justify-content: flex-end;
        gap: 18px;
        flex-wrap: wrap;
        gap: 18px;
      }

      .reservation-navbar__menu a {
        font-size: 0.95rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        padding: 10px 14px;
        border-radius: 999px;
        transition: background 0.3s ease, color 0.3s ease;
      }

      .reservation-navbar__menu a:hover,
      .reservation-navbar__menu a:focus-visible {
        background: rgba(255, 255, 255, 0.12);
      }

      .reservation-navbar__cta {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        padding: 12px 20px;
        border-radius: 999px;
        background: linear-gradient(135deg, var(--reservation-gold), var(--reservation-gold-strong));
        color: #061126;
        font-weight: 600;
        letter-spacing: 0.06em;
        text-transform: uppercase;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .reservation-navbar__cta:hover,
      .reservation-navbar__cta:focus-visible {
        transform: translateY(-2px);
        box-shadow: 0 18px 50px rgba(10, 20, 48, 0.5);
      }

      .reservation-navbar__mobile {
        display: none;
        position: absolute;
        inset: 100% 0 auto;
        padding: 24px 0 28px;
        background: linear-gradient(150deg, rgba(6, 16, 38, 0.98), rgba(5, 14, 34, 0.98));
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 20px 40px rgba(2, 10, 30, 0.45);
      }

      .reservation-navbar__mobile a {
        display: block;
        padding: 14px 0;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        border-bottom: 1px solid rgba(255, 255, 255, 0.06);
      }

      .reservation-navbar__mobile a:last-child {
        border-bottom: 0;
      }

      .reservation-hero {
        position: relative;
        padding: clamp(140px, 18vw, 180px) 0 120px;
        background: linear-gradient(140deg, rgba(6, 14, 32, 0.88), rgba(8, 20, 46, 0.82)),
          url("assets/photos/3.png") center/cover;
        overflow: hidden;
      }

      .reservation-hero::before {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(140deg, rgba(3, 9, 24, 0.9), rgba(6, 16, 38, 0.7));
        z-index: 0;
      }

      .reservation-hero::after {
        content: "";
        position: absolute;
        inset: 0;
        background: radial-gradient(circle at 22% 20%, rgba(245, 196, 81, 0.18), transparent 45%),
          radial-gradient(circle at 78% 30%, rgba(82, 122, 255, 0.2), transparent 60%);
        mix-blend-mode: screen;
        opacity: 0.8;
      }

      .reservation-hero__inner {
        position: relative;
        z-index: 1;
        display: grid;
        gap: clamp(36px, 5vw, 48px);
        max-width: 980px;
      }

      .reservation-hero__badge {
        display: inline-flex;
        align-items: center;
        gap: 12px;
        padding: 10px 18px;
        border-radius: 999px;
        border: 1px solid rgba(245, 196, 81, 0.35);
        background: rgba(245, 196, 81, 0.12);
        color: var(--reservation-gold);
        letter-spacing: 0.38em;
        text-transform: uppercase;
        font-size: 0.72rem;
      }

      .reservation-hero__badge::before {
        content: "";
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: currentColor;
      }

      .reservation-hero h1 {
        font-family: "Playfair Display", serif;
        font-size: clamp(3rem, 4.6vw, 4.8rem);
        letter-spacing: -0.01em;
        margin: 0;
      }

      .reservation-hero p {
        margin: 0;
        color: var(--reservation-muted);
        font-size: clamp(1.05rem, 1.4vw, 1.3rem);
        max-width: 720px;
      }

      .reservation-hero__cta {
        display: flex;
        flex-wrap: wrap;
        gap: 18px;
      }

      .reservation-button {
        --btn-bg: rgba(255, 255, 255, 0.06);
        --btn-color: var(--reservation-contrast);
        --btn-border: rgba(255, 255, 255, 0.18);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        border-radius: var(--reservation-radius-sm);
        font-weight: 600;
        font-size: 0.95rem;
        padding: 14px 26px;
        cursor: pointer;
        transition: transform var(--reservation-transition), box-shadow var(--reservation-transition), background var(--reservatio
n-transition);
        border: none;
        font-family: inherit;
      }

      .btn-primary {
        background: linear-gradient(135deg, var(--reservation-highlight) 0%, var(--reservation-highlight-strong) 100%);
        color: #1d1206;
        box-shadow: 0 18px 35px rgba(242, 183, 68, 0.32);
      }

      .btn-primary:hover,
      .btn-primary:focus-visible {
        transform: translateY(-1px);
        box-shadow: 0 22px 45px rgba(242, 183, 68, 0.42);
      }

      .btn-secondary {
        background: rgba(255, 255, 255, 0.08);
        color: var(--reservation-contrast);
        border: 1px solid var(--reservation-border);
      }

      .btn-secondary:hover,
      .btn-secondary:focus-visible {
        background: rgba(255, 255, 255, 0.12);
      }

      .btn__badge {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        min-width: 26px;
        height: 26px;
        margin-left: 12px;
        padding: 0 8px;
        border-radius: 999px;
        font-size: 0.78rem;
        font-weight: 600;
        background: rgba(12, 24, 48, 0.75);
        border: 1px solid rgba(244, 198, 108, 0.6);
        color: var(--reservation-highlight);
      }

      .btn__badge.is-empty,
      .floating-cart__count.is-empty {
        opacity: 0.65;
      }

      .reservation-tabs {
        position: sticky;
        top: 72px;
        z-index: 50;
        background: rgba(4, 11, 28, 0.86);
        backdrop-filter: blur(20px);
        border-block: 1px solid rgba(255, 255, 255, 0.05);
      }

      .reservation-tabs__inner {
        max-width: 1180px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 18px clamp(16px, 4vw, 32px);
        overflow-x: auto;
        scrollbar-width: thin;
      }

      .reservation-tabs__inner a {
        color: var(--reservation-muted);
        text-transform: uppercase;
        letter-spacing: 0.18em;
        font-size: 0.78rem;
        padding: 10px 18px;
        border-radius: 999px;
        border: 1px solid transparent;
        white-space: nowrap;
        transition: color var(--reservation-transition), border-color var(--reservation-transition), background var(--reservatio
n-transition);
      }

      .reservation-tabs__inner a:hover,
      .reservation-tabs__inner a:focus-visible,
      .reservation-tabs__inner a.is-active {
        color: var(--reservation-contrast);
        border-color: rgba(244, 198, 108, 0.4);
        background: rgba(244, 198, 108, 0.12);
      }

      .reservation-section {
        padding: clamp(96px, 12vw, 140px) 0;
      }

      .reservation-section__inner {
        max-width: 1180px;
        margin: 0 auto;
        padding: 0 clamp(16px, 4vw, 32px);
      }

      .section-eyebrow {
        padding: 14px 26px;
        border-radius: 999px;
        border: 1px solid var(--btn-border);
        background: var(--btn-bg);
        color: var(--btn-color);
        font-weight: 600;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        cursor: pointer;
        transition: transform 0.3s ease, box-shadow 0.3s ease, background 0.3s ease;
      }

      .reservation-button:hover,
      .reservation-button:focus-visible {
        transform: translateY(-2px);
        box-shadow: 0 16px 48px rgba(5, 14, 36, 0.5);
      }

      .reservation-button--primary {
        --btn-bg: linear-gradient(135deg, var(--reservation-gold), var(--reservation-gold-strong));
        --btn-color: #061021;
        --btn-border: transparent;
      }

      .reservation-hero__stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 20px;
      }

      .reservation-hero__stat {
        padding: 20px 22px;
        border-radius: var(--reservation-radius-md);
        background: rgba(255, 255, 255, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.08);
        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.04);
      }

      .reservation-hero__stat strong {
        display: block;
        font-family: "Playfair Display", serif;
        font-size: clamp(1.6rem, 2vw, 2.2rem);
        color: var(--reservation-gold);
      }

      .reservation-hero__stat span {
        color: var(--reservation-muted);
        font-size: 0.92rem;
      }

      .reservation-body {
        position: relative;
        display: grid;
        gap: 36px;
        margin: -80px auto 120px;
      }

      @media (min-width: 1100px) {
        .reservation-body {
          grid-template-columns: minmax(0, 1fr) minmax(320px, 360px);
          align-items: start;
        }
      }

      .reservation-section {
        position: relative;
        margin-bottom: 72px;
        padding: clamp(42px, 5vw, 54px);
        border-radius: var(--reservation-radius-lg);
        background: rgba(8, 18, 42, 0.78);
        border: 1px solid rgba(255, 255, 255, 0.06);
        box-shadow: var(--reservation-shadow);
        overflow: hidden;
      }

      .reservation-section::after {
        content: "";
        position: absolute;
        inset: 0;
        pointer-events: none;
        mix-blend-mode: screen;
        opacity: 0.4;
        background: radial-gradient(circle at 18% 18%, rgba(245, 196, 81, 0.12), transparent 52%),
          radial-gradient(circle at 82% 24%, rgba(88, 128, 255, 0.12), transparent 60%);
      }

      .reservation-section > * {
        position: relative;
        z-index: 1;
      }

      .reservation-section__eyebrow {
        display: inline-flex;
        align-items: center;
        gap: 12px;
        letter-spacing: 0.32em;
        text-transform: uppercase;
        font-size: 0.8rem;
        color: var(--reservation-highlight);
        margin-bottom: 16px;
      }

      .section-eyebrow::before {
        content: "";
        width: 38px;
        height: 1px;
        background: currentColor;
      }

      .reservation-section h2 {
        margin: 0 0 18px;
        font-family: "Playfair Display", serif;
        font-size: clamp(2rem, 3vw, 2.8rem);
      }

      .reservation-section p.lead {
        color: var(--reservation-muted);
        font-size: 1.05rem;
        max-width: 720px;
      }

      .calendar-layout {
        display: grid;
        gap: clamp(32px, 6vw, 48px);
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        align-items: start;
      }

      .calendar-card {
        background: var(--reservation-card);
        border: 1px solid var(--reservation-border);
        padding: clamp(24px, 5vw, 36px);
        border-radius: var(--reservation-radius-lg);
        box-shadow: var(--reservation-shadow);
      }

      .calendar-grid {
        display: grid;
        gap: 16px;
      }

      .calendar-week {
        display: grid;
        gap: 6px;
        padding: 18px;
        text-align: left;
        border-radius: var(--reservation-radius-md);
        background: linear-gradient(135deg, rgba(10, 20, 46, 0.85), rgba(7, 14, 34, 0.8));
        border: 1px solid rgba(255, 255, 255, 0.05);
        color: inherit;
        font: inherit;
        cursor: pointer;
        transition: transform var(--reservation-transition), border-color var(--reservation-transition), background var(--reserv
ation-transition);
      }

      .calendar-week span {
        display: block;
      }

      .calendar-week__label {
        font-weight: 600;
      }

      .calendar-week__locations {
        font-size: 0.88rem;
        color: var(--reservation-muted);
        word-break: break-word;
      }

      .calendar-week__status {
        font-size: 0.82rem;
        text-transform: uppercase;
        letter-spacing: 0.18em;
        color: rgba(244, 198, 108, 0.85);
        word-break: break-word;
      }

      .calendar-week:hover,
      .calendar-week:focus-visible {
        transform: translateY(-2px);
        border-color: rgba(244, 198, 108, 0.32);
      }

      .calendar-week.is-active {
        border-color: rgba(244, 198, 108, 0.48);
        box-shadow: 0 18px 35px rgba(244, 198, 108, 0.15);
        background: linear-gradient(135deg, rgba(244, 198, 108, 0.18), rgba(8, 16, 36, 0.9));
      }

      .calendar-week[disabled] {
        opacity: 0.48;
        cursor: not-allowed;
        background: rgba(255, 255, 255, 0.05);
      }

      .calendar-summary {
        display: grid;
        gap: 18px;
      }

      .calendar-summary__card {
        padding: 22px;
        border-radius: var(--reservation-radius-md);
        border: 1px solid var(--reservation-border);
        background: rgba(5, 14, 34, 0.65);
      }

      .calendar-summary__card strong {
        display: block;
        font-size: 1.2rem;
        margin-bottom: 10px;
        color: var(--reservation-highlight);
        font-family: "Playfair Display", serif;
      }

      .calendar-summary__list {
        margin: 0;
        padding-left: 18px;
        color: var(--reservation-muted);
      }

      .calendar-summary__empty {
        margin: 0;
        color: var(--reservation-muted);
        font-size: 0.92rem;
      }

      .stage-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: clamp(22px, 4vw, 32px);
      }

      .stage-card {
        position: relative;
        border-radius: var(--reservation-radius-lg);
        border: 1px solid var(--reservation-border);
        background: linear-gradient(145deg, rgba(9, 18, 40, 0.85), rgba(4, 10, 28, 0.85));
        padding: clamp(28px, 4vw, 36px);
        box-shadow: var(--reservation-shadow);
        display: grid;
        gap: 18px;
      }

      .stage-card__header {
        display: grid;
        gap: 10px;
      }

      .stage-card__eyebrow {
        text-transform: uppercase;
        letter-spacing: 0.24em;
        font-size: 0.75rem;
        color: rgba(244, 198, 108, 0.75);
      }

      .stage-card h3 {
        margin: 0;
        font-family: "Playfair Display", serif;
        font-size: 1.6rem;
      }

      .stage-card__location {
        font-size: 0.9rem;
        color: var(--reservation-muted);
      }

      .stage-card__description {
        color: var(--reservation-muted);
        margin: 0;
        font-size: 0.95rem;
      }

      .stage-card__tags {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
      }

      .stage-card__tag {
        padding: 8px 14px;
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.08);
        font-size: 0.78rem;
        letter-spacing: 0.08em;
      }

      .stage-card__footer {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: 14px 18px;
        gap: 18px;
      }

      .stage-card__price {
        font-family: "Playfair Display", serif;
        font-size: 1.4rem;
      }

      .stage-card__weeks {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        flex: 1 1 100%;
      }

      .stage-card__week {
        padding: 6px 12px;
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.08);
        font-size: 0.78rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: var(--reservation-muted);
        transition: background var(--reservation-transition), color var(--reservation-transition);
      }

      .stage-card__week.is-active {
        background: linear-gradient(135deg, var(--reservation-highlight), var(--reservation-highlight-strong));
        color: #1f1404;
      }

      .stage-grid__empty {
        padding: 42px 0;
        text-align: center;
        color: var(--reservation-muted);
      }

      .stage-grid__hint {
        margin: 0 0 28px;
        color: var(--reservation-muted);
        font-size: 0.9rem;
      }

      .destinations-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: clamp(24px, 5vw, 36px);
      }

      .destination-card {
        background: rgba(5, 14, 34, 0.78);
        border-radius: var(--reservation-radius-lg);
        border: 1px solid var(--reservation-border);
        padding: 28px;
        display: grid;
        gap: 16px;
      }
      
      .destination-card h3 {
        margin: 0;
        font-family: "Playfair Display", serif;
        font-size: 1.35rem;
      }

      .destination-card ul {
        margin: 0;
        padding-left: 20px;
        color: var(--reservation-muted);
      }

      .options-grid {
        display: grid;
        gap: clamp(24px, 5vw, 36px);
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      }

      .option-card {
        border-radius: var(--reservation-radius-lg);
        border: 1px solid var(--reservation-border);
        background: rgba(4, 11, 28, 0.78);
        padding: 28px;
        display: grid;
        gap: 16px;
      }

      .option-card h3 {
        margin: 0;
        font-family: "Playfair Display", serif;
        font-size: 1.4rem;
      }

      .option-card p {
        color: var(--reservation-muted);
        margin: 0;
      }

      .option-card ul {
        margin: 0;
        padding-left: 20px;
        color: var(--reservation-muted);
      }

      .faq-grid {
        display: grid;
        gap: 18px;
      }

      .faq-item {
        border-radius: var(--reservation-radius-md);
        border: 1px solid var(--reservation-border);
        background: rgba(6, 14, 32, 0.7);
        padding: 22px 28px;
      }

      .faq-item summary {
        font-weight: 600;
        font-size: 1.05rem;
        cursor: pointer;
        list-style: none;
      }

      .faq-item summary::-webkit-details-marker {
        display: none;
      }

      .faq-item summary::after {
        content: "";
        float: right;
        width: 12px;
        height: 12px;
        border-right: 2px solid currentColor;
        border-bottom: 2px solid currentColor;
        transform: rotate(45deg) translateY(-4px);
        transition: transform var(--reservation-transition);
      }

      .faq-item[open] summary::after {
        transform: rotate(-135deg) translateY(4px);
      }

      .faq-item p {
        margin: 16px 0 0;
        color: var(--reservation-muted);
      }

      .floating-cart {
        position: fixed;
        bottom: clamp(20px, 5vw, 36px);
        right: clamp(20px, 6vw, 42px);
        z-index: 120;
        background: linear-gradient(135deg, var(--reservation-highlight), var(--reservation-highlight-strong));
        color: #1e1206;
        border: none;
        border-radius: 999px;
        padding: 16px 24px;
        font-weight: 600;
        font-size: 0.95rem;
        box-shadow: 0 22px 44px rgba(242, 183, 68, 0.4);
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 10px;
      }

      .floating-cart__count {
        background: rgba(0, 0, 0, 0.7);
        color: var(--reservation-highlight);
        font-size: 0.8rem;
        letter-spacing: 0.08em;
        padding: 2px 10px;
        border-radius: 999px;
      }

      .reservation-modal[hidden] {
        display: none;
      }

      .reservation-modal {
        position: fixed;
        inset: 0;
        background: rgba(2, 6, 18, 0.75);
        backdrop-filter: blur(16px);
        z-index: 200;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: clamp(24px, 6vw, 48px);
        overflow-y: auto;
      }

      .reservation-modal__dialog {
        position: relative;
        width: min(640px, 96vw);
        background: rgba(6, 14, 32, 0.95);
        border-radius: var(--reservation-radius-lg);
        border: 1px solid var(--reservation-border);
        box-shadow: var(--reservation-shadow);
        overflow: hidden;
      }

      .reservation-modal__header {
        padding: 28px clamp(24px, 5vw, 36px) 18px;
        border-bottom: 1px solid var(--reservation-border);
      }

      .reservation-modal__header h3 {
        margin: 0;
        font-size: 1.6rem;
        font-family: "Playfair Display", serif;
      }

      .reservation-modal__header p {
        margin: 8px 0 0;
        color: var(--reservation-muted);
      }

      .reservation-modal__body {
        padding: clamp(24px, 5vw, 36px);
        display: grid;
        gap: 24px;
      }

      .modal-close {
        position: absolute;
        top: 14px;
        right: 14px;
        background: rgba(255, 255, 255, 0.08);
        border: 1px solid var(--reservation-border);
        width: 40px;
        height: 40px;
        border-radius: 999px;
        color: var(--reservation-contrast);
        font-size: 1.1rem;
        cursor: pointer;
        transition: background var(--reservation-transition);
      }

      .modal-close:hover,
      .modal-close:focus-visible {
        background: rgba(255, 255, 255, 0.18);
      }

      form.reservation-form {
        display: grid;
        gap: 18px;
      }

      .form-grid {
        display: grid;
        gap: 18px;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      }

      .form-field {
        display: grid;
        gap: 8px;
      }

      .form-field label {
        font-size: 0.85rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: var(--reservation-muted);
      }

      .form-field input,
      .form-field select,
      .form-field textarea {
        background: rgba(8, 16, 38, 0.8);
        border: 1px solid var(--reservation-border);
        border-radius: var(--reservation-radius-sm);
        padding: 14px 16px;
        color: var(--reservation-contrast);
        font: inherit;
        transition: border-color var(--reservation-transition), box-shadow var(--reservation-transition);
      }

      .form-field textarea {
        resize: vertical;
        min-height: 120px;
      }

      .form-field input:focus,
      .form-field select:focus,
      .form-field textarea:focus {
        outline: none;
        border-color: rgba(244, 198, 108, 0.4);
        box-shadow: 0 0 0 1px rgba(244, 198, 108, 0.3);
      }

      .option-toggle {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 16px;
        padding: 18px 20px;
        border-radius: var(--reservation-radius-md);
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid var(--reservation-border);
      }

      .option-toggle label {
        display: flex;
        flex-direction: column;
        gap: 4px;
        font-size: 0.95rem;
        color: var(--reservation-muted);
        text-transform: none;
        letter-spacing: 0;
      }

      .option-toggle label strong {
        color: var(--reservation-contrast);
        font-size: 1rem;
      }

      .option-toggle input[type="checkbox"] {
        width: 48px;
        height: 26px;
        appearance: none;
        background: rgba(255, 255, 255, 0.18);
        border-radius: 999px;
        position: relative;
        cursor: pointer;
        border: 1px solid transparent;
        transition: background var(--reservation-transition);
      }

      .option-toggle input[type="checkbox"]::after {
        content: "";
        position: absolute;
        top: 50%;
        left: 4px;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: #0b1634;
        transform: translateY(-50%);
        transition: transform var(--reservation-transition), background var(--reservation-transition);
      }

      .option-toggle input[type="checkbox"]:checked {
        background: linear-gradient(135deg, var(--reservation-highlight), var(--reservation-highlight-strong));
      }

      .option-toggle input[type="checkbox"]:checked::after {
        transform: translate(20px, -50%);
        background: #1f1404;
      }

      .form-summary {
        display: flex;
        flex-direction: column;
        gap: 12px;
        background: rgba(8, 16, 38, 0.65);
        border-radius: var(--reservation-radius-md);
        border: 1px solid var(--reservation-border);
        padding: 20px 24px;
      }

      .form-summary span {
        color: var(--reservation-muted);
        font-size: 0.9rem;
      }

      .form-summary strong {
        font-family: "Playfair Display", serif;
        font-size: 1.4rem;
        color: var(--reservation-highlight);
      }

      .form-actions {
        display: flex;
        flex-wrap: wrap;
        gap: 16px;
        justify-content: flex-end;
      }

      .cart-list {
        display: grid;
        gap: 16px;
      }

      .cart-item {
        border-radius: var(--reservation-radius-md);
        border: 1px solid var(--reservation-border);
        background: rgba(5, 14, 32, 0.65);
        padding: 18px 22px;
        display: grid;
        gap: 6px;
      }

      .cart-item__header {
        display: flex;
        justify-content: space-between;
        gap: 18px;
        align-items: baseline;
      }

      .cart-item__title {
        font-weight: 600;
      }

      .cart-item__meta {
        color: var(--reservation-muted);
        font-size: 0.9rem;
      }

      .cart-item__footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 12px;
      }

      .cart-item__controls {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 14px;
        margin-top: 12px;
      }

      .cart-item__control {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 16px;
        font-size: 0.85rem;
        color: var(--reservation-muted);
      }

      .cart-item__control span {
        font-weight: 500;
        letter-spacing: 0.02em;
      }

      .cart-item__control input,
      .cart-item__control select {
        background: rgba(9, 18, 40, 0.75);
        border: 1px solid rgba(255, 255, 255, 0.12);
        color: var(--reservation-contrast);
        border-radius: var(--reservation-radius-sm);
        padding: 10px 12px;
        font-size: 0.92rem;
        min-width: 120px;
        flex: 1 1 auto;
      }

      .cart-item__control input:focus-visible,
      .cart-item__control select:focus-visible {
        outline: 2px solid var(--reservation-highlight);
        outline-offset: 2px;
      }

      .cart-switch {
        grid-column: 1 / -1;
        display: flex;
        align-items: center;
        gap: 12px;
        font-size: 0.85rem;
        color: var(--reservation-muted);
      }

      .cart-switch input {
        width: 18px;
        height: 18px;
        accent-color: var(--reservation-highlight-strong);
      }

      .cart-switch__label {
        display: flex;
        flex-direction: column;
        line-height: 1.35;
      }

      .cart-switch__label strong {
        font-weight: 600;
        letter-spacing: 0.04em;
      }

      .cart-switch__price {
        font-size: 0.78rem;
        color: var(--reservation-highlight);
      }

      .cart-switch__price--free {
        color: var(--reservation-muted);
      }

      .cart-item__price {
        font-family: "Playfair Display", serif;
        color: var(--reservation-highlight);
      }

      .cart-empty {
        text-align: center;
        color: var(--reservation-muted);
        padding: 32px 0;
      }

      .toast {
        position: fixed;
        bottom: clamp(18px, 6vw, 40px);
        left: 50%;
        transform: translateX(-50%);
        background: rgba(6, 14, 32, 0.92);
        border: 1px solid rgba(244, 198, 108, 0.4);
        color: var(--reservation-contrast);
        padding: 16px 24px;
        border-radius: 999px;
        font-size: 0.95rem;
        letter-spacing: 0.04em;
        box-shadow: 0 18px 35px rgba(244, 198, 108, 0.25);
        animation: toast-in 0.25s ease;
        z-index: 250;
      }

      @keyframes toast-in {
        from {
          opacity: 0;
          transform: translate(-50%, 12px);
        }
        to {
          opacity: 1;
          transform: translate(-50%, 0);
        }
      }

      @media (max-width: 980px) {
        .reservation-hero {
          padding: 140px 0 110px;
        }

        .reservation-hero__inner {
          gap: 52px;
        }

        .calendar-layout {
          grid-template-columns: minmax(0, 1fr);
        }

        .calendar-summary {
          width: 100%;
        }

        .reservation-section__inner {
          padding-inline: clamp(18px, 6vw, 42px);
        }
      }

      @media (max-width: 920px) {
        body.reservation-page main {
          margin-top: 82px;
        }

        .reservation-hero {
          padding: 140px 0 100px;
        }

        .reservation-tabs {
          top: 68px;
        }
      }

      @media (max-width: 720px) {
        .reservation-hero {
          padding: 120px 0 90px;
        }

        .reservation-alert {
          margin-top: 96px;
          font-size: 0.9rem;
          padding: 16px 18px;
        }

        .reservation-hero__inner {
          padding: 0 6vw;
          gap: 42px;
          grid-template-columns: 1fr;
          justify-items: center;
          text-align: center;
        }

        .reservation-hero__lead {
          margin-left: auto;
          margin-right: auto;
        }

        .reservation-hero__actions {
          justify-content: center;
        }

        .calendar-summary__card {
          padding: 20px;
        }

        .reservation-hero__card {
          padding: 28px;
          width: min(440px, 100%);
          margin: 0 auto;
          text-align: left;
        }

        .btn__badge {
          margin-left: 8px;
          min-width: 24px;
          height: 24px;
        }

        .reservation-hero__metrics {
          grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
          gap: 18px;
        }

        .calendar-week {
          padding: 16px;
        }

        .calendar-week__locations {
          line-height: 1.4;
        }

        .calendar-summary {
          gap: 16px;
        }

        .stage-card {
          padding: 26px;
        }

        .stage-card__footer {
          flex-direction: column;
          align-items: flex-start;
        }

        .cart-item__controls {
          grid-template-columns: 1fr;
        }

        .floating-cart {
          right: 16px;
          left: 16px;
          bottom: 18px;
          justify-content: center;
          text-align: center;
        }
      }

      @media (max-width: 560px) {
        .reservation-modal__dialog {
          width: 100%;
        }

        .reservation-modal__header,
        .reservation-modal__body {
          padding: 24px;
        }

        .form-actions {
          justify-content: stretch;
        }

        .form-actions .btn-secondary,
        .form-actions .btn-primary {
          flex: 1 1 auto;
          justify-content: center;
        }

        .cart-item__control {
          flex-direction: column;
          align-items: flex-start;
        }

        .cart-item__control span {
          margin-bottom: 6px;
        }

        .reservation-tabs {
          top: 66px;
        }

        .reservation-section {
          padding: 72px 0;
        }

        .reservation-tabs__inner {
          gap: 10px;
          padding: 14px 18px;
        }

        .reservation-tabs__inner a {
          font-size: 0.74rem;
          letter-spacing: 0.16em;
        }

        .reservation-section h2 {
          font-size: clamp(1.8rem, 8vw, 2.1rem);
        }

        .reservation-section p.lead {
          font-size: 0.98rem;
        }

        .reservation-hero__metrics {
          grid-template-columns: 1fr;
        }

        .reservation-hero__metric {
          text-align: left;
        }

        .calendar-week__status {
          font-size: 0.76rem;
          letter-spacing: 0.14em;
        }

        .calendar-summary__list {
          padding-left: 16px;
        }

        .stage-card__header {
          gap: 12px;
        }

        .stage-card__tags {
          gap: 8px;
        }

        .stage-card__tag {
          font-size: 0.72rem;
          letter-spacing: 0.06em;
        }

        .destination-card,
        .option-card,
        .faq-item {
          padding: 22px;
        }
      }

      @media (max-width: 420px) {
        body.reservation-page main {
          margin-top: 74px;
        }

        .reservation-hero {
          padding: 110px 0 78px;
        }

        .reservation-hero__title {
          font-size: clamp(2.1rem, 9vw, 2.4rem);
        }

        .reservation-hero__lead {
          font-size: 0.95rem;
        }

        .reservation-hero__card {
          padding: 24px;
        }

        .reservation-tabs__inner {
          padding: 12px 16px;
        }

        .navbar .brand img {
          height: 44px;
        }

        .calendar-card,
        .calendar-summary__card {
          padding: 20px;
        }

        .calendar-week {
          padding: 14px;
        }

        .stage-card {
          padding: 22px;
        }

        .stage-card__price {
          font-size: 1.3rem;
        }

        .floating-cart {
          bottom: 16px;
          padding: 14px 20px;
          font-size: 0.9rem;
        }
      }
    </style>
  </head>
  <body class="reservation-page">
    <header class="navbar" id="top">
      <div class="navbar__inner container">
        <a class="brand" href="index.html#hero" aria-label="Retour à l'accueil">
          <img src="assets/logo/tennis-impact-logo.svg" alt="Logo Tennis Impact" />
          <span>Tennis Impact</span>
        </a>
        <button class="nav-toggle" aria-label="Menu" aria-expanded="false" aria-controls="site-nav">
          <span></span>
          <span></span>
          <span></span>
        </button>
        <nav class="nav-links" id="site-nav">
          <a href="#calendrier">Calendrier</a>
          <a href="#stages">Stages</a>
          <a href="#lieux">Lieux</a>
          <a href="#methodologie">Méthodologie</a>
          <a href="#options">Options</a>
          <a href="#faq">FAQ</a>
          <a href="espace_coach.html">Espace Coach</a>
        </nav>
        <div class="nav-actions">
          <button class="btn btn-gold" data-cart-trigger type="button">
            Voir le panier
            <span class="btn__badge" aria-live="polite" data-cart-count>0</span>
          </button>
        </div>
      </div>
    </header>

    <noscript>
      <div class="reservation-alert">
        Pour découvrir l'intégralité du calendrier et réserver votre stage, activez JavaScript dans votre navigateur ou
        contactez-nous via <a href="mailto:contact@tennisimpact.fr">contact@tennisimpact.fr</a>.
      </div>
    </noscript>
      }
    </style>
  </head>
  <body class="reservation-page">
    <header class="navbar" id="top">
      <div class="navbar__inner container">
        <a class="brand" href="index.html#hero" aria-label="Retour à l'accueil">
          <img src="assets/logo/tennis-impact-logo.svg" alt="Logo Tennis Impact" />
          <span>Tennis Impact</span>
        </a>
        <button class="nav-toggle" aria-label="Menu" aria-expanded="false" aria-controls="site-nav">
          <span></span>
          <span></span>
          <span></span>
        </button>
        <nav class="nav-links" id="site-nav">
          <a href="#calendrier">Calendrier</a>
          <a href="#stages">Stages</a>
          <a href="#lieux">Lieux</a>
          <a href="#methodologie">Méthodologie</a>
          <a href="#options">Options</a>
          <a href="#faq">FAQ</a>
          <a href="espace_coach.html">Espace Coach</a>
        </nav>
        <div class="nav-actions">
          <button class="btn btn-gold" data-cart-trigger type="button">
            Voir le panier
            <span class="btn__badge" aria-live="polite" data-cart-count>0</span>
          </button>
        </div>
      </div>
    </header>

    <noscript>
      <div class="reservation-alert">
        Pour découvrir l'intégralité du calendrier et réserver votre stage, activez JavaScript dans votre navigateur ou
        contactez-nous via <a href="mailto:contact@tennisimpact.fr">contact@tennisimpact.fr</a>.
      </div>
    </noscript>

    <main>
      <section class="reservation-hero" id="hero">
        <div class="reservation-hero__inner">
          <div class="reservation-hero__content">
            <span class="reservation-hero__eyebrow">Réservez votre stage</span>
            <h1 class="reservation-hero__title">Un parcours <span>premium</span> pour réserver votre semaine idéale</h1>
            <p class="reservation-hero__lead">
              Composez une expérience sur-mesure : choisissez votre semaine, votre lieu d'entraînement, ajoutez l'hébergement ou
              le transport et finalisez la réservation en quelques clics.
            </p>
            <div class="reservation-hero__metrics">
              <div class="reservation-hero__metric">
                <strong>5 lieux</strong>
                <span>CREPS de Poitiers, Toulouse, Aix-en-Provence, Domaine des Landes Girondines et Cabourg.</span>
              </div>
              <div class="reservation-hero__metric">
                <strong>30h / semaine</strong>
                <span>Entraînement tennis, préparation physique et ateliers tactiques pour progresser vite.</span>
              </div>
              <div class="reservation-hero__metric">
                <strong>Encadrement FFT</strong>
                <span>Coachs experts, ratio serré et suivi personnalisé pour chaque joueur.</span>
              </div>
            </div>
            <div class="reservation-hero__actions">
              <button class="btn-primary" data-book-stage="performance" type="button">Réserver un stage</button>
              <button class="btn-secondary" data-cart-trigger type="button">Voir le panier</button>
            </div>
          </div>
          <aside class="reservation-hero__card" aria-label="Points forts de l'expérience">
            <h3>Votre dossier de réservation</h3>
            <p>Rassemblez toutes les informations nécessaires avant la validation finale de votre stage.</p>
            <ul class="reservation-hero__list">
              <li>Calendrier actualisé avec les disponibilités par site.</li>
              <li>Panier récapitulatif dynamique et modifiable en temps réel.</li>
              <li>Formulaire premium avec options « hébergement » et « transport ».</li>
              <li>Confirmation directe envoyée à notre équipe Tennis Impact.</li>
            </ul>
            <button class="btn-primary" data-book-stage="performance" type="button">Commencer la réservation</button>
          </aside>
        </div>
      </section>

      <div class="reservation-tabs" aria-label="Navigation de la page">
        <div class="reservation-tabs__inner">
          <a href="#calendrier">Calendrier</a>
          <a href="#stages">Stages</a>
          <a href="#lieux">Lieux</a>
          <a href="#methodologie">Méthodologie</a>
          <a href="#options">Options</a>
          <a href="#faq">FAQ</a>
        </div>
      </div>

      <section class="reservation-section" id="calendrier">
        <div class="reservation-section__inner">
          <span class="section-eyebrow">Calendrier interactif</span>
          <h2>Choisissez votre semaine de stage</h2>
          <p class="lead">
            Chaque créneau ouvre un volume de places limitées pour garantir une immersion haut de gamme. Sélectionnez votre
            semaine pour découvrir les disponibilités et les lieux proposés.
          </p>
          <div class="calendar-layout">
            <div class="calendar-card">
              <div class="calendar-grid" id="calendarGrid" role="listbox" aria-label="Semaines disponibles">
                <button class="calendar-week is-active" type="button" data-week="2024-07-08" aria-pressed="true">
                  <span class="calendar-week__label">Semaine du 8 au 13 juillet</span>
                  <span class="calendar-week__locations">Poitiers • Toulouse • Aix-en-Provence</span>
                  <span class="calendar-week__status">12 places restantes</span>
                </button>
                <button class="calendar-week" type="button" data-week="2024-07-15" aria-pressed="false">
                  <span class="calendar-week__label">Semaine du 15 au 20 juillet</span>
                  <span class="calendar-week__locations">Poitiers • Domaine des Landes Girondines • Cabourg</span>
                  <span class="calendar-week__status">9 places restantes</span>
                </button>
                <button class="calendar-week" type="button" data-week="2024-07-22" aria-pressed="false">
                  <span class="calendar-week__label">Semaine du 22 au 27 juillet</span>
                  <span class="calendar-week__locations">Poitiers • Toulouse • Aix-en-Provence • Cabourg</span>
                  <span class="calendar-week__status">6 places restantes</span>
                </button>
                <button class="calendar-week" type="button" data-week="2024-07-29" aria-pressed="false">
                  <span class="calendar-week__label">Semaine du 29 juillet au 3 août</span>
                  <span class="calendar-week__locations">Poitiers • Toulouse • Domaine des Landes Girondines</span>
                  <span class="calendar-week__status">8 places restantes</span>
                </button>
                <button class="calendar-week" type="button" data-week="2024-08-05" aria-pressed="false">
                  <span class="calendar-week__label">Semaine du 5 au 10 août</span>
                  <span class="calendar-week__locations">Domaine des Landes Girondines • Cabourg</span>
                  <span class="calendar-week__status">10 places restantes</span>
                </button>
                <button class="calendar-week" type="button" data-week="2024-08-12" aria-pressed="false">
                  <span class="calendar-week__label">Semaine du 12 au 17 août</span>
                  <span class="calendar-week__locations">Poitiers • Aix-en-Provence • Cabourg</span>
                  <span class="calendar-week__status">4 places restantes</span>
                </button>
              </div>
            </div>
            <div class="calendar-summary" id="calendarSummary">
              <div class="calendar-summary__card">
                <strong>Semaine du 8 au 13 juillet</strong>
                <p>Ouverture estivale : lancement technique et matches d’évaluation.</p>
              </div>
              <div class="calendar-summary__card">
                <strong>3 stages disponibles</strong>
                <ul class="calendar-summary__list">
                  <li><strong>Stage Performance Jeunes</strong> — CREPS de Poitiers • 890&nbsp;€</li>
                  <li><strong>Tournée Elite &amp; Tournois</strong> — CREPS de Toulouse • 990&nbsp;€</li>
                  <li><strong>Immersion Terre Battue</strong> — CREPS d'Aix-en-Provence • 860&nbsp;€</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="reservation-section" id="stages">
        <div class="reservation-section__inner">
          <span class="section-eyebrow">Catalogue premium</span>
          <h2>Des stages pensés pour chaque profil</h2>
          <p class="lead">
            Du perfectionnement intensif à la tournée compétition en passant par l'expérience famille, composez un programme
            adapté avec les options de confort qui vous conviennent.
          </p>
          <p class="stage-grid__hint" id="stageHint">Sélection : Semaine du 8 au 13 juillet – stages affichés ci-dessous.</p>
          <div class="stage-grid" id="stageGrid">
            <article class="stage-card">
              <div class="stage-card__header">
                <span class="stage-card__eyebrow">Compétition</span>
                <h3>Stage Performance Jeunes</h3>
                <p class="stage-card__location">CREPS de Poitiers</p>
              </div>
              <p class="stage-card__description">
                Programme intensif pour compétiteurs 12-18 ans avec coaching vidéo et matchs homologués.
              </p>
              <div class="stage-card__tags">
                <span class="stage-card__tag">Analyse vidéo</span>
                <span class="stage-card__tag">Tournoi FFT</span>
                <span class="stage-card__tag">Prépa physique</span>
              </div>
              <div class="stage-card__footer">
                <span class="stage-card__price">890&nbsp;€</span>
                <div class="stage-card__weeks">
                  <span class="stage-card__week is-active">8 → 13 juillet</span>
                  <span class="stage-card__week">15 → 20 juillet</span>
                  <span class="stage-card__week">22 → 27 juillet</span>
                  <span class="stage-card__week">29 juillet → 3 août</span>
                  <span class="stage-card__week">12 → 17 août</span>
                </div>
                <button class="btn-primary" type="button" data-book-stage="performance">Réserver</button>
              </div>
            </article>
            <article class="stage-card">
              <div class="stage-card__header">
                <span class="stage-card__eyebrow">Haut niveau</span>
                <h3>Tournée Elite &amp; Tournois</h3>
                <p class="stage-card__location">CREPS de Toulouse</p>
              </div>
              <p class="stage-card__description">
                Encadrement par nos coaches nationaux avec participation à 2 tournois officiels et suivi mental quotidien.
              </p>
              <div class="stage-card__tags">
                <span class="stage-card__tag">Préparateur mental</span>
                <span class="stage-card__tag">Suivi biomécanique</span>
                <span class="stage-card__tag">Matches filmés</span>
              </div>
              <div class="stage-card__footer">
                <span class="stage-card__price">990&nbsp;€</span>
                <div class="stage-card__weeks">
                  <span class="stage-card__week is-active">8 → 13 juillet</span>
                  <span class="stage-card__week">22 → 27 juillet</span>
                  <span class="stage-card__week">29 juillet → 3 août</span>
                </div>
                <button class="btn-primary" type="button" data-book-stage="elite">Réserver</button>
              </div>
            </article>
            <article class="stage-card">
              <div class="stage-card__header">
                <span class="stage-card__eyebrow">Familles</span>
                <h3>Expérience Premium Famille</h3>
                <p class="stage-card__location">Domaine des Landes Girondines</p>
              </div>
              <p class="stage-card__description">
                Une semaine en résidence haut de gamme avec programme tennis enfants &amp; parents, activités plage et golf.
              </p>
              <div class="stage-card__tags">
                <span class="stage-card__tag">Résidence 4★</span>
                <span class="stage-card__tag">Activités plage</span>
                <span class="stage-card__tag">Coaching parents</span>
              </div>
              <div class="stage-card__footer">
                <span class="stage-card__price">740&nbsp;€</span>
                <div class="stage-card__weeks">
                  <span class="stage-card__week">15 → 20 juillet</span>
                  <span class="stage-card__week">29 juillet → 3 août</span>
                  <span class="stage-card__week">5 → 10 août</span>
                </div>
                <button class="btn-primary" type="button" data-book-stage="premium-family">Réserver</button>
              </div>
            </article>
            <article class="stage-card">
              <div class="stage-card__header">
                <span class="stage-card__eyebrow">Technique</span>
                <h3>Immersion Terre Battue</h3>
                <p class="stage-card__location">CREPS d'Aix-en-Provence</p>
              </div>
              <p class="stage-card__description">
                Volume d’entraînement élevé sur terre battue, routines tactiques et préparation physique personnalisée.
              </p>
              <div class="stage-card__tags">
                <span class="stage-card__tag">Terre battue</span>
                <span class="stage-card__tag">Plan tactique</span>
                <span class="stage-card__tag">Prépa physique</span>
              </div>
              <div class="stage-card__footer">
                <span class="stage-card__price">860&nbsp;€</span>
                <div class="stage-card__weeks">
                  <span class="stage-card__week is-active">8 → 13 juillet</span>
                  <span class="stage-card__week">22 → 27 juillet</span>
                  <span class="stage-card__week">12 → 17 août</span>
                </div>
                <button class="btn-primary" type="button" data-book-stage="intensif-aix">Réserver</button>
              </div>
            </article>
            <article class="stage-card">
              <div class="stage-card__header">
                <span class="stage-card__eyebrow">Compétition</span>
                <h3>Stage Bord de Mer &amp; Tournoi</h3>
                <p class="stage-card__location">Cabourg</p>
              </div>
              <p class="stage-card__description">
                Coaching quotidien, tournoi nocturne et préparation physique sur la plage pour une expérience unique.
              </p>
              <div class="stage-card__tags">
                <span class="stage-card__tag">Nocturnes</span>
                <span class="stage-card__tag">Prépa plage</span>
                <span class="stage-card__tag">Coaching perso</span>
              </div>
              <div class="stage-card__footer">
                <span class="stage-card__price">820&nbsp;€</span>
                <div class="stage-card__weeks">
                  <span class="stage-card__week">15 → 20 juillet</span>
                  <span class="stage-card__week">22 → 27 juillet</span>
                  <span class="stage-card__week">5 → 10 août</span>
                  <span class="stage-card__week">12 → 17 août</span>
                </div>
                <button class="btn-primary" type="button" data-book-stage="cabourg-competition">Réserver</button>
              </div>
            </article>
          </div>
        </div>
      </section>

      <section class="reservation-section" id="lieux">
        <div class="reservation-section__inner">
          <span class="section-eyebrow">Lieux 2024</span>
          <h2>Des infrastructures d'exception</h2>
          <p class="lead">
            Les sites sélectionnés offrent chacun une identité forte : surfaces variées, hébergements qualitatifs et espaces bien-
            être pour récupérer dans les meilleures conditions.
          </p>
          <div class="destinations-grid">
            <article class="destination-card">
              <h3>CREPS de Poitiers</h3>
              <p>Centre d'entraînement complet avec courts couverts, salle vidéo et restauration sportive.</p>
              <ul>
                <li>10 courts extérieurs &amp; 6 couverts</li>
                <li>Espace récupération et cryothérapie</li>
                <li>Chambres rénovées sur site</li>
              </ul>
            </article>
            <article class="destination-card">
              <h3>CREPS de Toulouse</h3>
              <p>Atmosphère performance avec staff médical et préparation mentale sur place.</p>
              <ul>
                <li>Suivi biomécanique individuel</li>
                <li>Piscine pour récupération active</li>
                <li>Restauration diététique dédiée</li>
              </ul>
            </article>
            <article class="destination-card">
              <h3>CREPS d'Aix-en-Provence</h3>
              <p>Infrastructures méditerranéennes, jeu sur terre battue et conditions météo idéales.</p>
              <ul>
                <li>Programme technique sur terre battue</li>
                <li>Accès fitness &amp; cross-training</li>
                <li>Hôtel partenaire 4★ à proximité</li>
              </ul>
            </article>
            <article class="destination-card">
              <h3>Domaine des Landes Girondines</h3>
              <p>Immersion nature avec courts au cœur de la pinède, hébergements premium et activités outdoor.</p>
              <ul>
                <li>Résidences haut de gamme</li>
                <li>Activités plage &amp; golf</li>
                <li>Coaching individuel chaque soir</li>
              </ul>
            </article>
            <article class="destination-card">
              <h3>Cabourg</h3>
              <p>Ambiance bord de mer, tournoi interne en nocturne et préparation physique sur la plage.</p>
              <ul>
                <li>Courts en dur et terre battue</li>
                <li>Accès centre thalasso partenaire</li>
                <li>Navette gare &amp; hébergement 4★</li>
              </ul>
            </article>
          </div>
        </div>
      </section>

      <section class="reservation-section" id="methodologie">
        <div class="reservation-section__inner">
          <span class="section-eyebrow">Méthodologie</span>
          <h2>Un déroulé clair du lundi au samedi</h2>
          <p class="lead">
            Chaque stage est orchestré par nos directeurs techniques Tennis Impact. Vous recevez avant votre arrivée un carnet de
            route détaillant les thèmes quotidiens et les horaires.
          </p>
          <div class="options-grid">
            <article class="option-card">
              <h3>Analyse individuelle</h3>
              <p>Bilans techniques filmés, feed-back quotidien et plan de progression remis en fin de semaine.</p>
              <ul>
                <li>Diagnostic vidéo jour 1 &amp; 5</li>
                <li>Suivi du ratio de matchs</li>
                <li>Échange tripartite joueur / coach / parents</li>
              </ul>
            </article>
            <article class="option-card">
              <h3>Préparation physique</h3>
              <p>Sessions ciblées mobilité, explosivité et prévention des blessures avec nos préparateurs.</p>
              <ul>
                <li>Tests d'entrée individualisés</li>
                <li>Programme à emporter</li>
                <li>Ateliers récupération et nutrition</li>
              </ul>
            </article>
            <article class="option-card">
              <h3>Accompagnement mental</h3>
              <p>Coaching mental quotidien : routines d'avant-match, gestion du stress et visualisation.</p>
              <ul>
                <li>Ateliers collectifs &amp; briefs individuels</li>
                <li>Suivi par nos préparateurs certifiés</li>
                <li>Fiches d'outils personnalisées</li>
              </ul>
            </article>
          </div>
        </div>
      </section>

      <section class="reservation-section" id="options">
        <div class="reservation-section__inner">
          <span class="section-eyebrow">Options et services</span>
          <h2>Personnalisez votre expérience</h2>
          <p class="lead">
            Ajoutez l'hébergement, le transport ou des séances individuelles supplémentaires depuis le formulaire. Chaque option
            est affichée dans votre panier pour une parfaite transparence.
          </p>
          <div class="options-grid">
            <article class="option-card">
              <h3>Hébergement premium</h3>
              <p>Chambres twin ou individuelles dans nos résidences partenaires avec encadrement 24/24.</p>
              <ul>
                <li>Pension complète équilibrée</li>
                <li>Accompagnateurs Tennis Impact</li>
                <li>Veillées thématiques et sécurité</li>
              </ul>
            </article>
            <article class="option-card">
              <h3>Transport officiel</h3>
              <p>Navettes depuis la gare ou l'aéroport, transferts vers les courts et assistance bagages.</p>
              <ul>
                <li>Accueil personnalisé</li>
                <li>Conducteurs certifiés</li>
                <li>Trajets retours planifiés</li>
              </ul>
            </article>
            <article class="option-card">
              <h3>Coaching individualisé</h3>
              <p>Séances privées supplémentaires en soirée ou tôt le matin pour travailler un axe précis.</p>
              <ul>
                <li>Analyse biomécanique</li>
                <li>Préparation tactique match</li>
                <li>Rapport détaillé remis sous 48h</li>
              </ul>
            </article>
          </div>
        </div>
      </section>

      <section class="reservation-section" id="faq">
        <div class="reservation-section__inner">
          <span class="section-eyebrow">FAQ</span>
          <h2>Questions les plus fréquentes</h2>
          <div class="faq-grid">
            <details class="faq-item">
              <summary>Comment confirmer la réservation après avoir rempli le panier ?</summary>
              <p>
                Une fois votre panier complété, validez le formulaire. Notre équipe reçoit votre demande immédiatement et vous
                recontacte sous 24h pour la signature du contrat et le versement de l'acompte.
              </p>
            </details>
            <details class="faq-item">
              <summary>Peut-on réserver plusieurs semaines ou ajouter un membre de la fratrie ?</summary>
              <p>
                Oui, ajoutez autant de stages que nécessaire puis ajustez les participants, la semaine ou les options
                d'hébergement et de transport directement depuis le panier pop-up. Le total se met à jour instantanément.
              </p>
            </details>
            <details class="faq-item">
              <summary>Les options hébergement et transport sont-elles obligatoires ?</summary>
              <p>
                Non, vous pouvez réserver uniquement la partie sportive. Les options « Hébergement » et « Transport » se
                cochent indépendamment depuis le formulaire popup.
              </p>
            </details>
            <details class="faq-item">
              <summary>Quels moyens de paiement acceptez-vous ?</summary>
              <p>
                Après validation de votre dossier, nous envoyons un lien de paiement sécurisé (CB, virement) ainsi que les
                documents nécessaires. Aucun règlement n'est demandé sur cette page.
              </p>
            </details>
          </div>
        </div>
      </section>
    </main>

    <button class="floating-cart" type="button" data-cart-trigger>
      <span>Panier</span>
      <span class="floating-cart__count" aria-live="polite" data-cart-count>0</span>
    </button>

    <div class="reservation-modal" id="booking-modal" hidden>
      <div class="reservation-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="booking-title">
        <button class="modal-close" type="button" data-close-modal aria-label="Fermer la fenêtre">×</button>
        <div class="reservation-modal__header">
          <p id="booking-eyebrow" class="section-eyebrow" style="margin-bottom: 12px"></p>
          <h3 id="booking-title"></h3>
          <p id="booking-location"></p>
        </div>
        <div class="reservation-modal__body">
          <form class="reservation-form" id="booking-form">
            <input type="hidden" name="stageId" id="booking-stage-id" />
            <div class="form-grid">
              <div class="form-field">
                <label for="booking-week">Semaine souhaitée</label>
                <select id="booking-week" name="week" required></select>
              </div>
              <div class="form-field">
                <label for="booking-participants">Nombre de participants</label>
                <input
                  id="booking-participants"
                  name="participants"
                  type="number"
                  inputmode="numeric"
                  pattern="[0-9]*"
                  min="1"
                  value="1"
                  required
                />
              </div>
              <div class="form-field">
                <label for="booking-name">Nom &amp; prénom du participant</label>
                <input id="booking-name" name="name" type="text" autocomplete="name" required />
              </div>
              <div class="form-field">
                <label for="booking-age">Âge du participant</label>
                <input
                  id="booking-age"
                  name="age"
                  type="number"
                  inputmode="numeric"
                  pattern="[0-9]*"
                  min="5"
                  max="99"
                />
              </div>
              <div class="form-field">
                <label for="booking-email">Email de contact</label>
                <input id="booking-email" name="email" type="email" autocomplete="email" required />
              </div>
              <div class="form-field">
                <label for="booking-phone">Téléphone</label>
                <input id="booking-phone" name="phone" type="tel" autocomplete="tel" />
              </div>
            </div>

            <div class="option-toggle">
              <label for="booking-lodging">
                <strong>Hébergement premium</strong>
                Nuitées, pension complète et encadrement 24/24.
              </label>
              <input id="booking-lodging" name="lodging" type="checkbox" />
            </div>
            <div class="option-toggle">
              <label for="booking-transport">
                <strong>Transport officiel</strong>
                Navettes aller/retour et transferts vers les courts.
              </label>
              <input id="booking-transport" name="transport" type="checkbox" />
            </div>

            <div class="form-field">
              <label for="booking-message">Informations complémentaires</label>
              <textarea id="booking-message" name="message" placeholder="Besoin d'une navette spécifique, régime alimentaire,
 ou autre demande..."></textarea>
            </div>

            <div class="form-summary">
              <span>Total estimé</span>
              <strong id="booking-total" aria-live="polite">0 €</strong>
            </div>

            <div class="form-actions">
              <button class="btn-secondary" type="button" data-close-modal>Annuler</button>
              <button class="btn-primary" type="submit">Ajouter au panier</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div class="reservation-modal" id="cart-modal" hidden>
      <div class="reservation-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="cart-title">
        <button class="modal-close" type="button" data-close-modal aria-label="Fermer le panier">×</button>
        <div class="reservation-modal__header">
          <span class="section-eyebrow" style="margin-bottom: 12px">Votre panier</span>
          <h3 id="cart-title">Résumé de votre sélection</h3>
          <p>Modifiez vos semaines, ajoutez des options ou finalisez votre demande de réservation.</p>
        </div>
        <div class="reservation-modal__body">
          <div id="cart-list" class="cart-list" role="list"></div>
          <div class="form-summary">
            <span>Total provisoire</span>
            <strong id="cart-total" aria-live="polite">0 €</strong>
          </div>
          <div class="form-actions">
            <button class="btn-secondary" type="button" data-close-modal>Continuer mes choix</button>
            <button class="btn-primary" type="button" id="cart-submit">Envoyer ma demande</button>
          </div>
        </div>
      </div>
    </div>

    <script>
      const weeks = [
        {
          id: '2024-07-08',
          label: 'Semaine du 8 au 13 juillet',
          shortLabel: '8 → 13 juillet',
          description: 'Ouverture estivale : lancement technique et matches d’évaluation.',
          locations: ['Poitiers', 'Toulouse', 'Aix-en-Provence'],
          spots: 12
        },
        {
          id: '2024-07-15',
          label: 'Semaine du 15 au 20 juillet',
          shortLabel: '15 → 20 juillet',
          description: 'Bloc intensif compétition avec tournois homologués en fin de semaine.',
          locations: ['Poitiers', 'Domaine des Landes Girondines', 'Cabourg'],
          spots: 9
        },
        {
          id: '2024-07-22',
          label: 'Semaine du 22 au 27 juillet',
          shortLabel: '22 → 27 juillet',
          description: 'Préparation tactique et coaching vidéo quotidien sur les cinq sites.',
          locations: ['Poitiers', 'Toulouse', 'Aix-en-Provence', 'Cabourg'],
          spots: 6
        },
        {
          id: '2024-07-29',
          label: 'Semaine du 29 juillet au 3 août',
          shortLabel: '29 juillet → 3 août',
          description: 'Stage intensif mi-saison avec focus préparation physique & mental.',
          locations: ['Poitiers', 'Toulouse', 'Domaine des Landes Girondines'],
          spots: 8
        },
        {
          id: '2024-08-05',
          label: 'Semaine du 5 au 10 août',
          shortLabel: '5 → 10 août',
          description: 'Semaine familles & fratries avec activités plage, golf et tournois internes.',
          locations: ['Domaine des Landes Girondines', 'Cabourg'],
          spots: 10
        },
        {
          id: '2024-08-12',
          label: 'Semaine du 12 au 17 août',
          shortLabel: '12 → 17 août',
          description: 'Pré-rentrée tournoi : préparation spécifique avant la reprise FFT.',
          locations: ['Poitiers', 'Aix-en-Provence', 'Cabourg'],
          spots: 4
        }
      ];

      const stageCatalog = [
        {
          id: 'performance',
          category: 'Compétition',
          title: 'Stage Performance Jeunes',
          location: 'CREPS de Poitiers',
          description: 'Programme intensif pour compétiteurs 12-18 ans avec coaching vidéo et matchs homologués.',
          price: 890,
          lodgingPrice: 470,
          transportPrice: 160,
          tags: ['Analyse vidéo', 'Tournoi FFT', 'Prépa physique'],
          weeks: ['2024-07-08', '2024-07-15', '2024-07-22', '2024-07-29', '2024-08-12']
        },
        {
          id: 'elite',
          category: 'Haut niveau',
          title: 'Tournée Elite & Tournois',
          location: 'CREPS de Toulouse',
          description: 'Encadrement par nos coaches nationaux avec participation à 2 tournois officiels et suivi mental quotidien.',
          price: 990,
          lodgingPrice: 520,
          transportPrice: 180,
          tags: ['Préparateur mental', 'Suivi biomécanique', 'Matches filmés'],
          weeks: ['2024-07-08', '2024-07-22', '2024-07-29']
        },
        {
          id: 'premium-family',
          category: 'Familles',
          title: 'Expérience Premium Famille',
          location: 'Domaine des Landes Girondines',
          description: 'Une semaine en résidence haut de gamme avec programme tennis enfants & parents, activités plage et golf.',
          price: 740,
          lodgingPrice: 520,
          transportPrice: 140,
          tags: ['Résidence 4★', 'Activités plage', 'Coaching parents'],
          weeks: ['2024-07-15', '2024-07-29', '2024-08-05']
        },
        {
          id: 'intensif-aix',
          category: 'Technique',
          title: 'Immersion Terre Battue',
          location: 'CREPS d\'Aix-en-Provence',
          description: 'Volume d’entraînement élevé sur terre battue, routines tactiques et préparation physique personnalisée.',
          price: 860,
          lodgingPrice: 480,
          transportPrice: 150,
          tags: ['Terre battue', 'Plan tactique', 'Prépa physique'],
          weeks: ['2024-07-08', '2024-07-22', '2024-08-12']
        },
        {
          id: 'cabourg-competition',
          category: 'Compétition',
          title: 'Stage Bord de Mer & Tournoi',
          location: 'Cabourg',
          description: 'Coaching quotidien, tournoi nocturne et préparation physique sur la plage pour une expérience unique.',
          price: 820,
          lodgingPrice: 450,
          transportPrice: 130,
          tags: ['Nocturnes', 'Prépa plage', 'Coaching perso'],
          weeks: ['2024-07-15', '2024-07-22', '2024-08-05', '2024-08-12']
        }
      ];

      const weeksMap = new Map(weeks.map((week) => [week.id, week]));
      const stagesMap = new Map(stageCatalog.map((stage) => [stage.id, stage]));
      let selectedWeekId = weeks.length ? weeks[0].id : null;
      const cart = [];

      const formatCurrency = (value) =>
        new Intl.NumberFormat('fr-FR', { style: 'currency', currency: 'EUR', maximumFractionDigits: 0 }).format(value);

      const calendarGrid = document.getElementById('calendarGrid');
      const calendarSummary = document.getElementById('calendarSummary');
      const stageGrid = document.getElementById('stageGrid');
      const stageHint = document.getElementById('stageHint');
      const bookingModal = document.getElementById('booking-modal');
      const cartModal = document.getElementById('cart-modal');
      const bookingForm = document.getElementById('booking-form');
      const bookingWeekSelect = document.getElementById('booking-week');
      const bookingParticipants = document.getElementById('booking-participants');
      const bookingLodging = document.getElementById('booking-lodging');
      const bookingTransport = document.getElementById('booking-transport');
      const bookingTotal = document.getElementById('booking-total');
      const bookingStageId = document.getElementById('booking-stage-id');
      const bookingTitle = document.getElementById('booking-title');
      const bookingLocation = document.getElementById('booking-location');
      const bookingEyebrow = document.getElementById('booking-eyebrow');
      const cartList = document.getElementById('cart-list');
      const cartTotal = document.getElementById('cart-total');
      const cartSubmit = document.getElementById('cart-submit');
      const cartCountBadges = document.querySelectorAll('[data-cart-count]');
      const cartTriggers = document.querySelectorAll('[data-cart-trigger]');

      const renderCalendar = () => {
        calendarGrid.innerHTML = weeks
          .map((week) => {
            const isSelected = week.id === selectedWeekId;
            return `
              <button class="calendar-week${isSelected ? ' is-active' : ''}" type="button" data-week="${week.id}" aria-pressed="${isSelected ? 'true' : 'false'}">
                <span class="calendar-week__label">${week.label}</span>
                <span class="calendar-week__locations">${week.locations.join(' • ')}</span>
                <span class="calendar-week__status">${week.spots > 0 ? `${week.spots} places restantes` : 'Complet'}</span>
              </button>
            `;
          })
          .join('');
      };

      const updateCalendarSummary = () => {
        const week = weeksMap.get(selectedWeekId);
        if (!week) {
          calendarSummary.innerHTML = `
            <div class="calendar-summary__card">
              <strong>Vos disponibilités</strong>
              <p>Sélectionnez une semaine pour afficher les lieux et les stages proposés.</p>
            </div>
          `;
          return;
        }

        const stages = stageCatalog.filter((stage) => stage.weeks.includes(week.id));
        const stageList = stages.length
          ? `<ul class="calendar-summary__list">
              ${stages
                .map(
                  (stage) =>
                    `<li><strong>${stage.title}</strong> — ${stage.location} • ${formatCurrency(stage.price)}</li>`
                )
                .join('')}
            </ul>`
          : '<p class="calendar-summary__empty">Aucun stage n’est disponible sur cette semaine pour le moment.</p>';
        calendarSummary.innerHTML = `
          <div class="calendar-summary__card">
            <strong>${week.label}</strong>
            <p>${week.description}</p>
          </div>
          <div class="calendar-summary__card">
            <strong>${stages.length} stage${stages.length > 1 ? 's' : ''} disponible${stages.length > 1 ? 's' : ''}</strong>
            ${stageList}
          </div>
        `;
      };

      const updateStageHint = () => {
        if (!stageHint) return;
        const week = weeksMap.get(selectedWeekId);
        stageHint.textContent = week
          ? `Sélection : ${week.label} – stages affichés ci-dessous.`
          : 'Sélectionnez une semaine pour afficher les stages disponibles.';
      };

      const getVisibleStages = () =>
        selectedWeekId ? stageCatalog.filter((stage) => stage.weeks.includes(selectedWeekId)) : stageCatalog;

      const renderStageCards = () => {
        const stages = getVisibleStages();
        if (!stages.length) {
          stageGrid.innerHTML = '<p class="stage-grid__empty">Aucun stage n’est disponible pour cette semaine pour le moment.</p>';
          return;
        }

        stageGrid.innerHTML = stages
          .map((stage) => {
            const tags = stage.tags.map((tag) => `<span class="stage-card__tag">${tag}</span>`).join('');
            const weekChips = stage.weeks
              .map((id) => {
                const week = weeksMap.get(id);
                if (!week) return '';
                const isActive = selectedWeekId === id;
                const label = week.shortLabel ?? week.label;
                return `<span class="stage-card__week${isActive ? ' is-active' : ''}">${label}</span>`;
              })
              .join('');

            return `
              <article class="stage-card">
                <div class="stage-card__header">
                  <span class="stage-card__eyebrow">${stage.category}</span>
                  <h3>${stage.title}</h3>
                  <p class="stage-card__location">${stage.location}</p>
                </div>
                <p class="stage-card__description">${stage.description}</p>
                <div class="stage-card__tags">${tags}</div>
                <div class="stage-card__footer">
                  <span class="stage-card__price">${formatCurrency(stage.price)}</span>
                  <div class="stage-card__weeks">${weekChips}</div>
                  <button class="btn-primary" type="button" data-book-stage="${stage.id}">Réserver</button>
                </div>
              </article>
            `;
          })
          .join('');
      };

      const openModal = (modal) => {
        modal.removeAttribute('hidden');
        document.body.style.overflow = 'hidden';
      };

      const closeModal = (modal) => {
        modal.setAttribute('hidden', '');
        document.body.style.overflow = '';
        if (modal === bookingModal) {
          bookingForm.reset();
          bookingTotal.textContent = formatCurrency(0);
        }
      };

      const calculateBookingTotal = () => {
        const stage = stagesMap.get(bookingStageId.value);
        if (!stage) return 0;
        const participants = Math.max(1, Number(bookingParticipants.value) || 1);
        let total = stage.price;
        if (bookingLodging.checked) total += stage.lodgingPrice;
        if (bookingTransport.checked) total += stage.transportPrice;
        return total * participants;
      };

      const updateBookingTotal = () => {
        bookingTotal.textContent = formatCurrency(calculateBookingTotal());
      };

      const populateBookingWeeks = (stage) => {
        bookingWeekSelect.innerHTML = stage.weeks
          .map((id) => {
            const week = weeksMap.get(id);
            if (!week) return '';
            const selected = selectedWeekId && selectedWeekId === id;
            return `<option value="${week.id}" ${selected ? 'selected' : ''}>${week.label}</option>`;
          })
          .join('');
        if (!bookingWeekSelect.value) {
          const defaultWeek = stage.weeks.find((id) => weeksMap.has(id));
          if (defaultWeek) bookingWeekSelect.value = defaultWeek;
        }
      };

      const openBookingModal = (stageId) => {
        const stage = stagesMap.get(stageId);
        if (!stage) return;
        bookingStageId.value = stage.id;
        bookingTitle.textContent = stage.title;
        bookingLocation.textContent = stage.location;
        bookingEyebrow.textContent = stage.category;
        populateBookingWeeks(stage);
        bookingParticipants.value = 1;
        bookingLodging.checked = false;
        bookingTransport.checked = false;
        updateBookingTotal();
        openModal(bookingModal);
        bookingWeekSelect.focus();
      };

      const computeItemTotal = (item) => {
        const stage = stagesMap.get(item.stageId);
        if (!stage) return 0;
        const participants = Math.max(1, Number(item.participants) || 1);
        const lodging = item.lodging ? stage.lodgingPrice : 0;
        const transport = item.transport ? stage.transportPrice : 0;
        return (stage.price + lodging + transport) * participants;
      };

      const updateCartUI = () => {
        const activeElement = document.activeElement;
        const activeContainer =
          activeElement && cartList.contains(activeElement)
            ? activeElement.closest('.cart-item')
            : null;
        const activeSnapshot =
          activeContainer && activeElement?.dataset?.field
            ? {
                field: activeElement.dataset.field,
                index: Number(activeContainer.dataset.index),
                selectionStart:
                  'selectionStart' in activeElement ? activeElement.selectionStart : null,
                selectionEnd: 'selectionEnd' in activeElement ? activeElement.selectionEnd : null
              }
            : null;

        cartList.innerHTML = '';

        if (!cart.length) {
          cartList.innerHTML = '<p class="cart-empty">Votre panier est vide pour le moment.</p>';
        } else {
          cart.forEach((item, index) => {
            const stage = stagesMap.get(item.stageId);
            if (stage && !item.location) item.location = stage.location;
            const availableWeeks = stage?.weeks ?? [];
            if (!item.weekId && availableWeeks.length) item.weekId = availableWeeks[0];
            if (availableWeeks.length && !availableWeeks.includes(item.weekId)) {
              item.weekId = availableWeeks[0];
            }

            const week = weeksMap.get(item.weekId ?? '');
            const weekLabel = week ? week.label : 'Semaine à confirmer';
            const itemTotal = computeItemTotal(item);
            const lodgingPrice = stage ? stage.lodgingPrice : 0;
            const transportPrice = stage ? stage.transportPrice : 0;

            const weekOptions = availableWeeks.length
              ? availableWeeks
                  .map((id) => {
                    const optionWeek = weeksMap.get(id);
                    const label = optionWeek ? optionWeek.label : id;
                    const selected = id === item.weekId ? 'selected' : '';
                    return `<option value="${id}" ${selected}>${label}</option>`;
                  })
                  .join('')
              : '<option value="">Semaine à définir</option>';

            const lodgingInfo = lodgingPrice
              ? { text: `+${formatCurrency(lodgingPrice)}`, modifier: '' }
              : { text: 'Offert', modifier: ' cart-switch__price--free' };
            const transportInfo = transportPrice
              ? { text: `+${formatCurrency(transportPrice)}`, modifier: '' }
              : { text: 'Offert', modifier: ' cart-switch__price--free' };

            cartList.insertAdjacentHTML(
              'beforeend',
              `
                <article class="cart-item" data-index="${index}" role="listitem">
                  <div class="cart-item__header">
                    <span class="cart-item__title">${item.stageTitle}</span>
                    <button class="btn-secondary" type="button" data-remove-index="${index}">Retirer</button>
                  </div>
                  <div class="cart-item__meta">${weekLabel} • ${stage?.location ?? item.location ?? 'Lieu à confirmer'}</div>
                  <div class="cart-item__controls">
                    <label class="cart-item__control" for="cart-participants-${index}">
                      <span>Participants</span>
                      <input
                        id="cart-participants-${index}"
                        data-field="participants"
                        type="number"
                        inputmode="numeric"
                        pattern="[0-9]*"
                        min="1"
                        step="1"
                        value="${item.participants}"
                      />
                    </label>
                    <label class="cart-item__control" for="cart-week-${index}">
                      <span>Semaine</span>
                      <select id="cart-week-${index}" data-field="week">${weekOptions}</select>
                    </label>
                    <label class="cart-switch" for="cart-lodging-${index}">
                      <input id="cart-lodging-${index}" data-field="lodging" type="checkbox" ${item.lodging ? 'checked' : ''} />
                      <span class="cart-switch__label">
                        <strong>Hébergement</strong>
                        <span class="cart-switch__price${lodgingInfo.modifier}">${lodgingInfo.text}</span>
                      </span>
                    </label>
                    <label class="cart-switch" for="cart-transport-${index}">
                      <input id="cart-transport-${index}" data-field="transport" type="checkbox" ${item.transport ? 'checked' : ''} />
                      <span class="cart-switch__label">
                        <strong>Transport</strong>
                        <span class="cart-switch__price${transportInfo.modifier}">${transportInfo.text}</span>
                      </span>
                    </label>
                  </div>
                  <div class="cart-item__footer">
                    <span class="cart-item__price">${formatCurrency(itemTotal)}</span>
                  </div>
                </article>
              `
            );
          });
        }

        if (activeSnapshot) {
          let selector = '';
          switch (activeSnapshot.field) {
            case 'participants':
              selector = `#cart-participants-${activeSnapshot.index}`;
              break;
            case 'week':
              selector = `#cart-week-${activeSnapshot.index}`;
              break;
            case 'lodging':
              selector = `#cart-lodging-${activeSnapshot.index}`;
              break;
            case 'transport':
              selector = `#cart-transport-${activeSnapshot.index}`;
              break;
            default:
              selector = '';
          }

          if (selector) {
            const restored = cartList.querySelector(selector);
            if (restored) {
              restored.focus();
              if (
                activeSnapshot.selectionStart != null &&
                'setSelectionRange' in restored
              ) {
                const start = activeSnapshot.selectionStart;
                const end =
                  activeSnapshot.selectionEnd != null
                    ? activeSnapshot.selectionEnd
                    : activeSnapshot.selectionStart;
                restored.setSelectionRange(start, end);
              }
            }
          }
        }

        const total = cart.reduce((sum, item) => sum + computeItemTotal(item), 0);
        cartTotal.textContent = formatCurrency(total);
        cartCountBadges.forEach((badge) => {
          badge.textContent = cart.length;
          badge.classList.toggle('is-empty', cart.length === 0);
        });
      };

      const showToast = (message) => {
        document.querySelectorAll('.toast').forEach((existing) => existing.remove());
        const toast = document.createElement('div');
        toast.className = 'toast';
        toast.setAttribute('role', 'status');
        toast.setAttribute('aria-live', 'polite');
        toast.textContent = message;
        document.body.appendChild(toast);
        setTimeout(() => {
          toast.style.opacity = '0';
          toast.style.transform = 'translate(-50%, 12px)';
          setTimeout(() => toast.remove(), 250);
        }, 2500);
      };

      calendarGrid.addEventListener('click', (event) => {
        const button = event.target.closest('[data-week]');
        if (!button) return;
        selectedWeekId = button.dataset.week;
        renderCalendar();
        updateCalendarSummary();
        updateStageHint();
        renderStageCards();
      });

      stageGrid.addEventListener('click', (event) => {
        const button = event.target.closest('[data-book-stage]');
        if (!button) return;
        openBookingModal(button.dataset.bookStage);
      });

      document.querySelectorAll('[data-book-stage]').forEach((button) => {
        button.addEventListener('click', () => openBookingModal(button.dataset.bookStage));
      });

      document.querySelectorAll('[data-close-modal]').forEach((button) => {
        button.addEventListener('click', () => {
          const modal = button.closest('.reservation-modal');
          if (modal) closeModal(modal);
        });
      });

      [bookingModal, cartModal].forEach((modal) => {
        modal.addEventListener('click', (event) => {
          if (event.target === modal) closeModal(modal);
        });
      });

      document.addEventListener('keydown', (event) => {
        if (event.key === 'Escape') {
          if (!bookingModal.hasAttribute('hidden')) closeModal(bookingModal);
          if (!cartModal.hasAttribute('hidden')) closeModal(cartModal);
        }
      });

      [bookingParticipants, bookingLodging, bookingTransport].forEach((field) =>
        field.addEventListener('input', updateBookingTotal)
      );

      bookingForm.addEventListener('submit', (event) => {
        event.preventDefault();
        const stage = stagesMap.get(bookingStageId.value);
        if (!stage) return;
        const week = weeksMap.get(bookingWeekSelect.value);
        const item = {
          stageId: stage.id,
          stageTitle: stage.title,
          location: stage.location,
          weekId: week?.id ?? stage.weeks[0] ?? '',
          participants: Math.max(1, Number(bookingParticipants.value) || 1),
          lodging: bookingLodging.checked,
          transport: bookingTransport.checked
        };
        cart.push(item);
        updateCartUI();
        closeModal(bookingModal);
        openModal(cartModal);
        showToast('Stage ajouté au panier');
      });

      cartList.addEventListener('click', (event) => {
        const button = event.target.closest('[data-remove-index]');
        if (!button) return;
        const index = Number(button.dataset.removeIndex);
        cart.splice(index, 1);
        updateCartUI();
        showToast('Stage retiré du panier');
      });

      cartList.addEventListener('change', (event) => {
        const field = event.target.dataset.field;
        if (!field) return;
        const itemElement = event.target.closest('.cart-item');
        if (!itemElement) return;
        const index = Number(itemElement.dataset.index);
        const item = cart[index];
        if (!item) return;

        let message = '';

        if (field === 'participants') {
          item.participants = Math.max(1, Number(event.target.value) || 1);
          message = `Participants : ${item.participants}`;
        } else if (field === 'week') {
          item.weekId = event.target.value;
          const updatedWeek = weeksMap.get(item.weekId ?? '');
          message = updatedWeek ? `Semaine : ${updatedWeek.label}` : 'Semaine mise à jour';
        } else if (field === 'lodging') {
          item.lodging = event.target.checked;
          message = item.lodging ? 'Hébergement ajouté' : 'Hébergement retiré';
        } else if (field === 'transport') {
          item.transport = event.target.checked;
          message = item.transport ? 'Transport ajouté' : 'Transport retiré';
        } else {
          return;
        }

        updateCartUI();
        if (message) showToast(message);
      });

      cartSubmit.addEventListener('click', () => {
        if (!cart.length) {
          showToast('Ajoutez un stage avant de finaliser');
          return;
        }
        const stageCount = cart.length;
        closeModal(cartModal);
        cart.length = 0;
        updateCartUI();
        showToast(
          stageCount > 1
            ? `Merci ! Votre demande pour ${stageCount} stages a bien été transmise.`
            : 'Merci ! Votre demande a bien été transmise.'
        );
      });

      cartTriggers.forEach((trigger) => trigger.addEventListener('click', () => openModal(cartModal)));

      const navToggle = document.querySelector('.nav-toggle');
      const navLinks = document.getElementById('site-nav');
      const body = document.body;

      if (navToggle && navLinks) {
        const toggleMenu = (open) => {
          const shouldOpen = open ?? !navToggle.classList.contains('is-open');
          navToggle.classList.toggle('is-open', shouldOpen);
          navToggle.setAttribute('aria-expanded', shouldOpen ? 'true' : 'false');
          navLinks.classList.toggle('open', shouldOpen);
          body.classList.toggle('menu-open', shouldOpen);
        };

        navToggle.addEventListener('click', () => toggleMenu());
        navLinks.querySelectorAll('a').forEach((link) => link.addEventListener('click', () => toggleMenu(false)));
        window.addEventListener('resize', () => {
          if (window.innerWidth > 860) toggleMenu(false);
        });
      }

      const sectionLinks = document.querySelectorAll('.reservation-tabs__inner a');
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              sectionLinks.forEach((link) =>
                link.classList.toggle('is-active', link.getAttribute('href').slice(1) === entry.target.id)
              );
            }
          });
        },
        { rootMargin: '-60% 0px -35% 0px', threshold: 0 }
      );

      document.querySelectorAll('main section[id]').forEach((section) => observer.observe(section));

      const init = () => {
        renderCalendar();
        updateCalendarSummary();
        updateStageHint();
        renderStageCards();
        updateCartUI();
      };

      init();
    </script>
  </body>
</html>
    </div>

    <div class="reservation-modal" id="cart-modal" hidden>
      <div class="reservation-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="cart-title">
        <button class="modal-close" type="button" data-close-modal aria-label="Fermer le panier">×</button>
        <div class="reservation-modal__header">
          <span class="section-eyebrow" style="margin-bottom: 12px">Votre panier</span>
          <h3 id="cart-title">Résumé de votre sélection</h3>
          <p>Modifiez vos semaines, ajoutez des options ou finalisez votre demande de réservation.</p>
        </div>
        <div class="reservation-modal__body">
          <div id="cart-list" class="cart-list" role="list"></div>
          <div class="form-summary">
            <span>Total provisoire</span>
            <strong id="cart-total" aria-live="polite">0 €</strong>
          </div>
          <div class="form-actions">
            <button class="btn-secondary" type="button" data-close-modal>Continuer mes choix</button>
            <button class="btn-primary" type="button" id="cart-submit">Envoyer ma demande</button>
          </div>
        </div>
      </div>
    </div>

    <script>
      const weeks = [
        {
          id: '2024-07-08',
          label: 'Semaine du 8 au 13 juillet',
          shortLabel: '8 → 13 juillet',
          description: 'Ouverture estivale : lancement technique et matches d’évaluation.',
          locations: ['Poitiers', 'Toulouse', 'Aix-en-Provence'],
          spots: 12
        },
        {
          id: '2024-07-15',
          label: 'Semaine du 15 au 20 juillet',
          shortLabel: '15 → 20 juillet',
          description: 'Bloc intensif compétition avec tournois homologués en fin de semaine.',
          locations: ['Poitiers', 'Domaine des Landes Girondines', 'Cabourg'],
          spots: 9
        },
        {
          id: '2024-07-22',
          label: 'Semaine du 22 au 27 juillet',
          shortLabel: '22 → 27 juillet',
          description: 'Préparation tactique et coaching vidéo quotidien sur les cinq sites.',
          locations: ['Poitiers', 'Toulouse', 'Aix-en-Provence', 'Cabourg'],
          spots: 6
        },
        {
          id: '2024-07-29',
          label: 'Semaine du 29 juillet au 3 août',
          shortLabel: '29 juillet → 3 août',
          description: 'Stage intensif mi-saison avec focus préparation physique & mental.',
          locations: ['Poitiers', 'Toulouse', 'Domaine des Landes Girondines'],
          spots: 8
        },
        {
          id: '2024-08-05',
          label: 'Semaine du 5 au 10 août',
          shortLabel: '5 → 10 août',
          description: 'Semaine familles & fratries avec activités plage, golf et tournois internes.',
          locations: ['Domaine des Landes Girondines', 'Cabourg'],
          spots: 10
        },
        {
          id: '2024-08-12',
          label: 'Semaine du 12 au 17 août',
          shortLabel: '12 → 17 août',
          description: 'Pré-rentrée tournoi : préparation spécifique avant la reprise FFT.',
          locations: ['Poitiers', 'Aix-en-Provence', 'Cabourg'],
          spots: 4
        }
      ];

      const stageCatalog = [
        {
          id: 'performance',
          category: 'Compétition',
          title: 'Stage Performance Jeunes',
          location: 'CREPS de Poitiers',
          description: 'Programme intensif pour compétiteurs 12-18 ans avec coaching vidéo et matchs homologués.',
          price: 890,
          lodgingPrice: 470,
          transportPrice: 160,
          tags: ['Analyse vidéo', 'Tournoi FFT', 'Prépa physique'],
          weeks: ['2024-07-08', '2024-07-15', '2024-07-22', '2024-07-29', '2024-08-12']
        },
        {
          id: 'elite',
          category: 'Haut niveau',
          title: 'Tournée Elite & Tournois',
          location: 'CREPS de Toulouse',
          description: 'Encadrement par nos coaches nationaux avec participation à 2 tournois officiels et suivi mental quotidien.',
          price: 990,
          lodgingPrice: 520,
          transportPrice: 180,
          tags: ['Préparateur mental', 'Suivi biomécanique', 'Matches filmés'],
          weeks: ['2024-07-08', '2024-07-22', '2024-07-29']
        },
        {
          id: 'premium-family',
          category: 'Familles',
          title: 'Expérience Premium Famille',
          location: 'Domaine des Landes Girondines',
          description: 'Une semaine en résidence haut de gamme avec programme tennis enfants & parents, activités plage et golf.',
          price: 740,
          lodgingPrice: 520,
          transportPrice: 140,
          tags: ['Résidence 4★', 'Activités plage', 'Coaching parents'],
          weeks: ['2024-07-15', '2024-07-29', '2024-08-05']
        },
        {
          id: 'intensif-aix',
          category: 'Technique',
          title: 'Immersion Terre Battue',
          location: 'CREPS d\'Aix-en-Provence',
          description: 'Volume d’entraînement élevé sur terre battue, routines tactiques et préparation physique personnalisée.',
          price: 860,
          lodgingPrice: 480,
          transportPrice: 150,
          tags: ['Terre battue', 'Plan tactique', 'Prépa physique'],
          weeks: ['2024-07-08', '2024-07-22', '2024-08-12']
        },
        {
          id: 'cabourg-competition',
          category: 'Compétition',
          title: 'Stage Bord de Mer & Tournoi',
          location: 'Cabourg',
          description: 'Coaching quotidien, tournoi nocturne et préparation physique sur la plage pour une expérience unique.',
          price: 820,
          lodgingPrice: 450,
          transportPrice: 130,
          tags: ['Nocturnes', 'Prépa plage', 'Coaching perso'],
          weeks: ['2024-07-15', '2024-07-22', '2024-08-05', '2024-08-12']
        }
      ];

      const weeksMap = new Map(weeks.map((week) => [week.id, week]));
      const stagesMap = new Map(stageCatalog.map((stage) => [stage.id, stage]));
      let selectedWeekId = weeks.length ? weeks[0].id : null;
      const cart = [];

      const formatCurrency = (value) =>
        new Intl.NumberFormat('fr-FR', { style: 'currency', currency: 'EUR', maximumFractionDigits: 0 }).format(value);

      const calendarGrid = document.getElementById('calendarGrid');
      const calendarSummary = document.getElementById('calendarSummary');
      const stageGrid = document.getElementById('stageGrid');
      const stageHint = document.getElementById('stageHint');
      const bookingModal = document.getElementById('booking-modal');
      const cartModal = document.getElementById('cart-modal');
      const bookingForm = document.getElementById('booking-form');
      const bookingWeekSelect = document.getElementById('booking-week');
      const bookingParticipants = document.getElementById('booking-participants');
      const bookingLodging = document.getElementById('booking-lodging');
      const bookingTransport = document.getElementById('booking-transport');
      const bookingTotal = document.getElementById('booking-total');
      const bookingStageId = document.getElementById('booking-stage-id');
      const bookingTitle = document.getElementById('booking-title');
      const bookingLocation = document.getElementById('booking-location');
      const bookingEyebrow = document.getElementById('booking-eyebrow');
      const cartList = document.getElementById('cart-list');
      const cartTotal = document.getElementById('cart-total');
      const cartSubmit = document.getElementById('cart-submit');
      const cartCountBadges = document.querySelectorAll('[data-cart-count]');
      const cartTriggers = document.querySelectorAll('[data-cart-trigger]');

      const renderCalendar = () => {
        calendarGrid.innerHTML = weeks
          .map((week) => {
            const isSelected = week.id === selectedWeekId;
            return `
              <button class="calendar-week${isSelected ? ' is-active' : ''}" type="button" data-week="${week.id}" aria-pressed="${isSelected ? 'true' : 'false'}">
                <span class="calendar-week__label">${week.label}</span>
                <span class="calendar-week__locations">${week.locations.join(' • ')}</span>
                <span class="calendar-week__status">${week.spots > 0 ? `${week.spots} places restantes` : 'Complet'}</span>
              </button>
            `;
          })
          .join('');
      };

      const updateCalendarSummary = () => {
        const week = weeksMap.get(selectedWeekId);
        if (!week) {
          calendarSummary.innerHTML = `
            <div class="calendar-summary__card">
              <strong>Vos disponibilités</strong>
              <p>Sélectionnez une semaine pour afficher les lieux et les stages proposés.</p>
            </div>
          `;
          return;
        }

        const stages = stageCatalog.filter((stage) => stage.weeks.includes(week.id));
        const stageList = stages.length
          ? `<ul class="calendar-summary__list">
              ${stages
                .map(
                  (stage) =>
                    `<li><strong>${stage.title}</strong> — ${stage.location} • ${formatCurrency(stage.price)}</li>`
                )
                .join('')}
            </ul>`
          : '<p class="calendar-summary__empty">Aucun stage n’est disponible sur cette semaine pour le moment.</p>';
        calendarSummary.innerHTML = `
          <div class="calendar-summary__card">
            <strong>${week.label}</strong>
            <p>${week.description}</p>
          </div>
          <div class="calendar-summary__card">
            <strong>${stages.length} stage${stages.length > 1 ? 's' : ''} disponible${stages.length > 1 ? 's' : ''}</strong>
            ${stageList}
          </div>
        `;
      };

      const updateStageHint = () => {
        if (!stageHint) return;
        const week = weeksMap.get(selectedWeekId);
        stageHint.textContent = week
          ? `Sélection : ${week.label} – stages affichés ci-dessous.`
          : 'Sélectionnez une semaine pour afficher les stages disponibles.';
      };

      const getVisibleStages = () =>
        selectedWeekId ? stageCatalog.filter((stage) => stage.weeks.includes(selectedWeekId)) : stageCatalog;

      const renderStageCards = () => {
        const stages = getVisibleStages();
        if (!stages.length) {
          stageGrid.innerHTML = '<p class="stage-grid__empty">Aucun stage n’est disponible pour cette semaine pour le moment.</p>';
          return;
        }

        stageGrid.innerHTML = stages
          .map((stage) => {
            const tags = stage.tags.map((tag) => `<span class="stage-card__tag">${tag}</span>`).join('');
            const weekChips = stage.weeks
              .map((id) => {
                const week = weeksMap.get(id);
                if (!week) return '';
                const isActive = selectedWeekId === id;
                const label = week.shortLabel ?? week.label;
                return `<span class="stage-card__week${isActive ? ' is-active' : ''}">${label}</span>`;
              })
              .join('');

            return `
              <article class="stage-card">
                <div class="stage-card__header">
                  <span class="stage-card__eyebrow">${stage.category}</span>
                  <h3>${stage.title}</h3>
                  <p class="stage-card__location">${stage.location}</p>
                </div>
                <p class="stage-card__description">${stage.description}</p>
                <div class="stage-card__tags">${tags}</div>
                <div class="stage-card__footer">
                  <span class="stage-card__price">${formatCurrency(stage.price)}</span>
                  <div class="stage-card__weeks">${weekChips}</div>
                  <button class="btn-primary" type="button" data-book-stage="${stage.id}">Réserver</button>
                </div>
              </article>
            `;
          })
          .join('');
      };

      const openModal = (modal) => {
        modal.removeAttribute('hidden');
        document.body.style.overflow = 'hidden';
      };

      const closeModal = (modal) => {
        modal.setAttribute('hidden', '');
        document.body.style.overflow = '';
        if (modal === bookingModal) {
          bookingForm.reset();
          bookingTotal.textContent = formatCurrency(0);
        }
      };

      const calculateBookingTotal = () => {
        const stage = stagesMap.get(bookingStageId.value);
        if (!stage) return 0;
        const participants = Math.max(1, Number(bookingParticipants.value) || 1);
        let total = stage.price;
        if (bookingLodging.checked) total += stage.lodgingPrice;
        if (bookingTransport.checked) total += stage.transportPrice;
        return total * participants;
      };

      const updateBookingTotal = () => {
        bookingTotal.textContent = formatCurrency(calculateBookingTotal());
      };

      const populateBookingWeeks = (stage) => {
        bookingWeekSelect.innerHTML = stage.weeks
          .map((id) => {
            const week = weeksMap.get(id);
            if (!week) return '';
            const selected = selectedWeekId && selectedWeekId === id;
            return `<option value="${week.id}" ${selected ? 'selected' : ''}>${week.label}</option>`;
          })
          .join('');
        if (!bookingWeekSelect.value) {
          const defaultWeek = stage.weeks.find((id) => weeksMap.has(id));
          if (defaultWeek) bookingWeekSelect.value = defaultWeek;
        }
      };

      const openBookingModal = (stageId) => {
        const stage = stagesMap.get(stageId);
        if (!stage) return;
        bookingStageId.value = stage.id;
        bookingTitle.textContent = stage.title;
        bookingLocation.textContent = stage.location;
        bookingEyebrow.textContent = stage.category;
        populateBookingWeeks(stage);
        bookingParticipants.value = 1;
        bookingLodging.checked = false;
        bookingTransport.checked = false;
        updateBookingTotal();
        openModal(bookingModal);
        bookingWeekSelect.focus();
      };

      const computeItemTotal = (item) => {
        const stage = stagesMap.get(item.stageId);
        if (!stage) return 0;
        const participants = Math.max(1, Number(item.participants) || 1);
        const lodging = item.lodging ? stage.lodgingPrice : 0;
        const transport = item.transport ? stage.transportPrice : 0;
        return (stage.price + lodging + transport) * participants;
      };

      const updateCartUI = () => {
        const activeElement = document.activeElement;
        const activeContainer =
          activeElement && cartList.contains(activeElement)
            ? activeElement.closest('.cart-item')
            : null;
        const activeSnapshot =
          activeContainer && activeElement?.dataset?.field
            ? {
                field: activeElement.dataset.field,
                index: Number(activeContainer.dataset.index),
                selectionStart:
                  'selectionStart' in activeElement ? activeElement.selectionStart : null,
                selectionEnd: 'selectionEnd' in activeElement ? activeElement.selectionEnd : null
              }
            : null;

        cartList.innerHTML = '';

        if (!cart.length) {
          cartList.innerHTML = '<p class="cart-empty">Votre panier est vide pour le moment.</p>';
        } else {
          cart.forEach((item, index) => {
            const stage = stagesMap.get(item.stageId);
            if (stage && !item.location) item.location = stage.location;
            const availableWeeks = stage?.weeks ?? [];
            if (!item.weekId && availableWeeks.length) item.weekId = availableWeeks[0];
            if (availableWeeks.length && !availableWeeks.includes(item.weekId)) {
              item.weekId = availableWeeks[0];
            }

            const week = weeksMap.get(item.weekId ?? '');
            const weekLabel = week ? week.label : 'Semaine à confirmer';
            const itemTotal = computeItemTotal(item);
            const lodgingPrice = stage ? stage.lodgingPrice : 0;
            const transportPrice = stage ? stage.transportPrice : 0;

            const weekOptions = availableWeeks.length
              ? availableWeeks
                  .map((id) => {
                    const optionWeek = weeksMap.get(id);
                    const label = optionWeek ? optionWeek.label : id;
                    const selected = id === item.weekId ? 'selected' : '';
                    return `<option value="${id}" ${selected}>${label}</option>`;
                  })
                  .join('')
              : '<option value="">Semaine à définir</option>';

            const lodgingInfo = lodgingPrice
              ? { text: `+${formatCurrency(lodgingPrice)}`, modifier: '' }
              : { text: 'Offert', modifier: ' cart-switch__price--free' };
            const transportInfo = transportPrice
              ? { text: `+${formatCurrency(transportPrice)}`, modifier: '' }
              : { text: 'Offert', modifier: ' cart-switch__price--free' };

            cartList.insertAdjacentHTML(
              'beforeend',
              `
                <article class="cart-item" data-index="${index}" role="listitem">
                  <div class="cart-item__header">
                    <span class="cart-item__title">${item.stageTitle}</span>
                    <button class="btn-secondary" type="button" data-remove-index="${index}">Retirer</button>
                  </div>
                  <div class="cart-item__meta">${weekLabel} • ${stage?.location ?? item.location ?? 'Lieu à confirmer'}</div>
                  <div class="cart-item__controls">
                    <label class="cart-item__control" for="cart-participants-${index}">
                      <span>Participants</span>
                      <input
                        id="cart-participants-${index}"
                        data-field="participants"
                        type="number"
                        inputmode="numeric"
                        pattern="[0-9]*"
                        min="1"
                        step="1"
                        value="${item.participants}"
                      />
                    </label>
                    <label class="cart-item__control" for="cart-week-${index}">
                      <span>Semaine</span>
                      <select id="cart-week-${index}" data-field="week">${weekOptions}</select>
                    </label>
                    <label class="cart-switch" for="cart-lodging-${index}">
                      <input id="cart-lodging-${index}" data-field="lodging" type="checkbox" ${item.lodging ? 'checked' : ''} />
                      <span class="cart-switch__label">
                        <strong>Hébergement</strong>
                        <span class="cart-switch__price${lodgingInfo.modifier}">${lodgingInfo.text}</span>
                      </span>
                    </label>
                    <label class="cart-switch" for="cart-transport-${index}">
                      <input id="cart-transport-${index}" data-field="transport" type="checkbox" ${item.transport ? 'checked' : ''} />
                      <span class="cart-switch__label">
                        <strong>Transport</strong>
                        <span class="cart-switch__price${transportInfo.modifier}">${transportInfo.text}</span>
                      </span>
                    </label>
                  </div>
                  <div class="cart-item__footer">
                    <span class="cart-item__price">${formatCurrency(itemTotal)}</span>
                  </div>
                </article>
              `
            );
          });
        }

        if (activeSnapshot) {
          let selector = '';
          switch (activeSnapshot.field) {
            case 'participants':
              selector = `#cart-participants-${activeSnapshot.index}`;
              break;
            case 'week':
              selector = `#cart-week-${activeSnapshot.index}`;
              break;
            case 'lodging':
              selector = `#cart-lodging-${activeSnapshot.index}`;
              break;
            case 'transport':
              selector = `#cart-transport-${activeSnapshot.index}`;
              break;
            default:
              selector = '';
          }

          if (selector) {
            const restored = cartList.querySelector(selector);
            if (restored) {
              restored.focus();
              if (
                activeSnapshot.selectionStart != null &&
                'setSelectionRange' in restored
              ) {
                const start = activeSnapshot.selectionStart;
                const end =
                  activeSnapshot.selectionEnd != null
                    ? activeSnapshot.selectionEnd
                    : activeSnapshot.selectionStart;
                restored.setSelectionRange(start, end);
              }
            }
          }
        }

        const total = cart.reduce((sum, item) => sum + computeItemTotal(item), 0);
        cartTotal.textContent = formatCurrency(total);
        cartCountBadges.forEach((badge) => {
          badge.textContent = cart.length;
          badge.classList.toggle('is-empty', cart.length === 0);
        });
      };

      const showToast = (message) => {
        document.querySelectorAll('.toast').forEach((existing) => existing.remove());
        const toast = document.createElement('div');
        toast.className = 'toast';
        toast.setAttribute('role', 'status');
        toast.setAttribute('aria-live', 'polite');
        toast.textContent = message;
        document.body.appendChild(toast);
        setTimeout(() => {
          toast.style.opacity = '0';
          toast.style.transform = 'translate(-50%, 12px)';
          setTimeout(() => toast.remove(), 250);
        }, 2500);
      };

      calendarGrid.addEventListener('click', (event) => {
        const button = event.target.closest('[data-week]');
        if (!button) return;
        selectedWeekId = button.dataset.week;
        renderCalendar();
        updateCalendarSummary();
        updateStageHint();
        renderStageCards();
      });

      stageGrid.addEventListener('click', (event) => {
        const button = event.target.closest('[data-book-stage]');
        if (!button) return;
        openBookingModal(button.dataset.bookStage);
      });

      document.querySelectorAll('[data-book-stage]').forEach((button) => {
        button.addEventListener('click', () => openBookingModal(button.dataset.bookStage));
      });

      document.querySelectorAll('[data-close-modal]').forEach((button) => {
        button.addEventListener('click', () => {
          const modal = button.closest('.reservation-modal');
          if (modal) closeModal(modal);
        });
      });

      [bookingModal, cartModal].forEach((modal) => {
        modal.addEventListener('click', (event) => {
          if (event.target === modal) closeModal(modal);
        });
      });

      document.addEventListener('keydown', (event) => {
        if (event.key === 'Escape') {
          if (!bookingModal.hasAttribute('hidden')) closeModal(bookingModal);
          if (!cartModal.hasAttribute('hidden')) closeModal(cartModal);
        }
      });

      [bookingParticipants, bookingLodging, bookingTransport].forEach((field) =>
        field.addEventListener('input', updateBookingTotal)
      );

      bookingForm.addEventListener('submit', (event) => {
        event.preventDefault();
        const stage = stagesMap.get(bookingStageId.value);
        if (!stage) return;
        const week = weeksMap.get(bookingWeekSelect.value);
        const item = {
          stageId: stage.id,
          stageTitle: stage.title,
          location: stage.location,
          weekId: week?.id ?? stage.weeks[0] ?? '',
          participants: Math.max(1, Number(bookingParticipants.value) || 1),
          lodging: bookingLodging.checked,
          transport: bookingTransport.checked
        };
        cart.push(item);
        updateCartUI();
        closeModal(bookingModal);
        openModal(cartModal);
        showToast('Stage ajouté au panier');
      });

      cartList.addEventListener('click', (event) => {
        const button = event.target.closest('[data-remove-index]');
        if (!button) return;
        const index = Number(button.dataset.removeIndex);
        cart.splice(index, 1);
        updateCartUI();
        showToast('Stage retiré du panier');
      });

      cartList.addEventListener('change', (event) => {
        const field = event.target.dataset.field;
        if (!field) return;
        const itemElement = event.target.closest('.cart-item');
        if (!itemElement) return;
        const index = Number(itemElement.dataset.index);
        const item = cart[index];
        if (!item) return;

        let message = '';

        if (field === 'participants') {
          item.participants = Math.max(1, Number(event.target.value) || 1);
          message = `Participants : ${item.participants}`;
        } else if (field === 'week') {
          item.weekId = event.target.value;
          const updatedWeek = weeksMap.get(item.weekId ?? '');
          message = updatedWeek ? `Semaine : ${updatedWeek.label}` : 'Semaine mise à jour';
        } else if (field === 'lodging') {
          item.lodging = event.target.checked;
          message = item.lodging ? 'Hébergement ajouté' : 'Hébergement retiré';
        } else if (field === 'transport') {
          item.transport = event.target.checked;
          message = item.transport ? 'Transport ajouté' : 'Transport retiré';
        } else {
          return;
        }

        updateCartUI();
        if (message) showToast(message);
      });

      cartSubmit.addEventListener('click', () => {
        if (!cart.length) {
          showToast('Ajoutez un stage avant de finaliser');
          return;
        }
        const stageCount = cart.length;
        closeModal(cartModal);
        cart.length = 0;
        updateCartUI();
        showToast(
          stageCount > 1
            ? `Merci ! Votre demande pour ${stageCount} stages a bien été transmise.`
            : 'Merci ! Votre demande a bien été transmise.'
        );
      });

      cartTriggers.forEach((trigger) => trigger.addEventListener('click', () => openModal(cartModal)));

      const navToggle = document.querySelector('.nav-toggle');
      const navLinks = document.getElementById('site-nav');
      const body = document.body;

      if (navToggle && navLinks) {
        const toggleMenu = (open) => {
          const shouldOpen = open ?? !navToggle.classList.contains('is-open');
          navToggle.classList.toggle('is-open', shouldOpen);
          navToggle.setAttribute('aria-expanded', shouldOpen ? 'true' : 'false');
          navLinks.classList.toggle('open', shouldOpen);
          body.classList.toggle('menu-open', shouldOpen);
        };

        navToggle.addEventListener('click', () => toggleMenu());
        navLinks.querySelectorAll('a').forEach((link) => link.addEventListener('click', () => toggleMenu(false)));
        window.addEventListener('resize', () => {
          if (window.innerWidth > 860) toggleMenu(false);
        });
      }

      const sectionLinks = document.querySelectorAll('.reservation-tabs__inner a');
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              sectionLinks.forEach((link) =>
                link.classList.toggle('is-active', link.getAttribute('href').slice(1) === entry.target.id)
              );
            }
          });
        },
        { rootMargin: '-60% 0px -35% 0px', threshold: 0 }
      );

      document.querySelectorAll('main section[id]').forEach((section) => observer.observe(section));

      const init = () => {
        renderCalendar();
        updateCalendarSummary();
        updateStageHint();
        renderStageCards();
        updateCartUI();
      };

      init();
    </script>
  </body>
</html>
        flex: 1 1 180px;
        color: var(--reservation-gold);
        font-size: 0.78rem;
        margin-bottom: 18px;
      }

      .reservation-section__eyebrow::before,
      .reservation-section__eyebrow::after {
        content: "";
        width: 48px;
        height: 1px;
        background: rgba(245, 196, 81, 0.35);
      }

      .reservation-section h2 {
        font-family: "Playfair Display", serif;
        font-size: clamp(2.1rem, 2.7vw, 3rem);
        margin: 12px 0 16px;
      }

      .reservation-section p {
        margin: 0;
        color: var(--reservation-muted);
      }

      .calendar-shell {
        display: grid;
        gap: 32px;
      }

      @media (min-width: 920px) {
        .calendar-shell {
          grid-template-columns: minmax(0, 1.1fr) minmax(0, 0.9fr);
          align-items: start;
        }
      }

      .calendar-card {
        border-radius: var(--reservation-radius-md);
        border: 1px solid rgba(255, 255, 255, 0.08);
        background: rgba(6, 14, 32, 0.7);
        padding: 26px;
      }

      .calendar-nav {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 18px;
      }

      .calendar-nav__button {
        width: 40px;
        height: 40px;
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.14);
        background: rgba(255, 255, 255, 0.05);
        color: inherit;
        cursor: pointer;
        transition: background 0.3s ease;
      }

      .calendar-nav__button:hover,
      .calendar-nav__button:focus-visible {
        background: rgba(255, 255, 255, 0.1);
      }

      .calendar-nav__label {
        font-weight: 600;
        letter-spacing: 0.1em;
        text-transform: uppercase;
      }

      .calendar-grid {
        display: grid;
        grid-template-columns: repeat(7, minmax(0, 1fr));
        gap: 8px;
      }

      .calendar-grid__dayname {
        text-align: center;
        font-size: 0.75rem;
        letter-spacing: 0.2em;
        text-transform: uppercase;
        color: rgba(223, 230, 255, 0.55);
        padding-bottom: 8px;
      }

      .calendar-day {
        min-height: 68px;
        border-radius: 16px;
        border: 1px solid rgba(255, 255, 255, 0.06);
        background: rgba(255, 255, 255, 0.04);
        padding: 12px 10px;
        display: grid;
        align-content: start;
        gap: 6px;
        font-size: 0.92rem;
        cursor: default;
      }

      .calendar-day--empty {
        border: none;
        background: transparent;
      }

      .calendar-day__number {
        font-weight: 600;
        color: rgba(255, 255, 255, 0.75);
      }

      .calendar-day__stage {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        font-size: 0.7rem;
        text-transform: uppercase;
        letter-spacing: 0.16em;
        border-radius: 999px;
        padding: 4px 10px;
        background: rgba(245, 196, 81, 0.14);
        color: var(--reservation-gold);
      }

      .calendar-day--selectable {
        cursor: pointer;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .calendar-day--selectable:hover,
      .calendar-day--selectable:focus-visible {
        transform: translateY(-2px);
        box-shadow: 0 16px 40px rgba(8, 20, 46, 0.4);
      }

      .calendar-day--active {
        border-color: rgba(245, 196, 81, 0.6);
        box-shadow: 0 0 0 1px rgba(245, 196, 81, 0.35), 0 20px 48px rgba(6, 16, 40, 0.4);
      }

      .calendar-details {
        border-radius: var(--reservation-radius-md);
        border: 1px solid rgba(255, 255, 255, 0.08);
        background: rgba(255, 255, 255, 0.04);
        padding: 32px;
        display: grid;
        gap: 18px;
      }

      .stage-card__header {
        display: grid;
        gap: 10px;
      }

      .stage-card__eyebrow {
        text-transform: uppercase;
        letter-spacing: 0.24em;
        font-size: 0.75rem;
        color: rgba(244, 198, 108, 0.75);
      }

      .stage-card h3 {
        margin: 0;
        font-family: "Playfair Display", serif;
        font-size: 1.6rem;
      }

      .stage-card__location {
        font-size: 0.9rem;
        color: var(--reservation-muted);
      }

      .stage-card__description {
        color: var(--reservation-muted);
        margin: 0;
        font-size: 0.95rem;
      }

      .stage-card__tags {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
      }

      .stage-card__tag {
        padding: 8px 14px;
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.08);
        font-size: 0.78rem;
        letter-spacing: 0.08em;
      }

      .stage-card__footer {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: 18px;
      }

      .stage-card__price {
        font-family: "Playfair Display", serif;
        font-size: 1.4rem;
      }

      .stage-card__weeks {
        flex: 1 1 180px;
        color: var(--reservation-muted);
        font-size: 0.85rem;
      }

      .destinations-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: clamp(24px, 5vw, 36px);
      }

      .destination-card {
        background: rgba(5, 14, 34, 0.78);
        border-radius: var(--reservation-radius-lg);
        border: 1px solid var(--reservation-border);
        padding: 28px;
        display: grid;
        gap: 16px;
      }
      
      .destination-card h3 {
        margin: 0;
        font-family: "Playfair Display", serif;
        font-size: 1.35rem;
      }

      .destination-card ul {
        margin: 0;
        padding-left: 20px;
        color: var(--reservation-muted);
      }

      .options-grid {
        display: grid;
        gap: clamp(24px, 5vw, 36px);
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      }

      .option-card {
        border-radius: var(--reservation-radius-lg);
        border: 1px solid var(--reservation-border);
        background: rgba(4, 11, 28, 0.78);
        padding: 28px;
        display: grid;
        gap: 16px;
      }

      .option-card h3 {
        margin: 0;
        font-family: "Playfair Display", serif;
        font-size: 1.4rem;
      }

      .option-card p {
        color: var(--reservation-muted);
        margin: 0;
      }

      .option-card ul {
        margin: 0;
        padding-left: 20px;
        color: var(--reservation-muted);
      }

      .faq-grid {
      .calendar-details__badge {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 6px 14px;
        border-radius: 999px;
        background: rgba(245, 196, 81, 0.14);
        color: var(--reservation-gold);
        letter-spacing: 0.2em;
        text-transform: uppercase;
        font-size: 0.72rem;
      }

      .calendar-details h3 {
        font-family: "Playfair Display", serif;
        font-size: 1.8rem;
        margin: 0;
      }

      .calendar-details__meta {
        display: grid;
        gap: 8px;
        font-size: 0.95rem;
        color: var(--reservation-muted);
      }

      .calendar-details__meta strong {
        color: var(--reservation-contrast);
      }

      .calendar-details__features {
        display: grid;
        gap: 8px;
        padding: 0;
        margin: 0;
        list-style: none;
      }

      .calendar-details__features li::before {
        content: "•";
        color: var(--reservation-gold);
        margin-right: 10px;
      }

      .stage-grid {
        display: grid;
        gap: 28px;
      }

      @media (min-width: 840px) {
        .stage-grid {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
      }

      .stage-card {
        border-radius: var(--reservation-radius-md);
        border: 1px solid rgba(255, 255, 255, 0.08);
        background: rgba(6, 16, 36, 0.72);
        padding: 28px;
        display: grid;
        gap: 18px;
        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.04);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .stage-card:hover,
      .stage-card:focus-within {
        transform: translateY(-6px);
        box-shadow: 0 24px 60px rgba(8, 20, 46, 0.5);
      }

      .stage-card__header {
        display: grid;
        gap: 6px;
      }

      .stage-card__eyebrow {
        text-transform: uppercase;
        letter-spacing: 0.22em;
        font-size: 0.72rem;
        color: rgba(223, 230, 255, 0.7);
      }

      .stage-card h3 {
        margin: 0;
        font-family: "Playfair Display", serif;
        font-size: 1.6rem;
      }

      .stage-card__price {
        font-size: 1.05rem;
        color: var(--reservation-gold);
        font-weight: 600;
      }

      .stage-card__meta {
        display: grid;
        gap: 8px;
        font-size: 0.95rem;
        color: var(--reservation-muted);
      }

      .stage-card__features {
        margin: 0;
        padding: 0;
        list-style: none;
        display: grid;
        gap: 6px;
      }

      .stage-card__features li::before {
        content: "⁘";
        color: var(--reservation-gold);
        margin-right: 8px;
      }

      .stage-card__actions {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
      }

      .reservation-cart {
        position: relative;
        border-radius: var(--reservation-radius-lg);
        border: 1px solid rgba(255, 255, 255, 0.08);
        background: linear-gradient(165deg, rgba(8, 18, 42, 0.92), rgba(4, 12, 30, 0.9));
        box-shadow: var(--reservation-shadow);
        padding: clamp(32px, 5vw, 42px);
        display: grid;
        gap: 24px;
      }

      @media (min-width: 1100px) {
        .reservation-cart {
          position: sticky;
          top: 120px;
        }
      }

      .reservation-cart__header {
        display: grid;
        gap: 8px;
      }

      .reservation-cart__header span {
        letter-spacing: 0.3em;
        text-transform: uppercase;
        font-size: 0.72rem;
        color: rgba(223, 230, 255, 0.7);
      }

      .reservation-cart__header h3 {
        margin: 0;
        font-family: "Playfair Display", serif;
        font-size: 1.9rem;
      }

      .reservation-cart__items {
        display: grid;
        gap: 18px;
      }

      .faq-item {
        border-radius: var(--reservation-radius-md);
        border: 1px solid var(--reservation-border);
        background: rgba(6, 14, 32, 0.7);
        padding: 22px 28px;
      }

      .faq-item summary {
        font-weight: 600;
        font-size: 1.05rem;
        cursor: pointer;
        list-style: none;
      }

      .faq-item summary::-webkit-details-marker {
        display: none;
      }

      .faq-item summary::after {
        content: "";
        float: right;
        width: 12px;
        height: 12px;
        border-right: 2px solid currentColor;
        border-bottom: 2px solid currentColor;
        transform: rotate(45deg) translateY(-4px);
        transition: transform var(--reservation-transition);
      }

      .faq-item[open] summary::after {
        transform: rotate(-135deg) translateY(4px);
      }

      .faq-item p {
        margin: 16px 0 0;
        color: var(--reservation-muted);
      }

      .floating-cart {
        position: fixed;
        bottom: clamp(20px, 5vw, 36px);
        right: clamp(20px, 6vw, 42px);
        z-index: 120;
        background: linear-gradient(135deg, var(--reservation-highlight), var(--reservation-highlight-strong));
        color: #1e1206;
        border: none;
        border-radius: 999px;
        padding: 16px 24px;
        font-weight: 600;
        font-size: 0.95rem;
        box-shadow: 0 22px 44px rgba(242, 183, 68, 0.4);
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 10px;
      }

      .floating-cart span[data-cart-count] {
        background: rgba(0, 0, 0, 0.7);
        color: var(--reservation-highlight);
        font-size: 0.8rem;
        letter-spacing: 0.08em;
        padding: 2px 10px;
        border-radius: 999px;
      }

      .reservation-modal[hidden] {
        display: none;
      }

      .reservation-modal {
        position: fixed;
        inset: 0;
        background: rgba(2, 6, 18, 0.75);
        backdrop-filter: blur(16px);
        z-index: 200;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: clamp(24px, 6vw, 48px);
        overflow-y: auto;
      }

      .reservation-modal__dialog {
        position: relative;
        width: min(640px, 96vw);
        background: rgba(6, 14, 32, 0.95);
        border-radius: var(--reservation-radius-lg);
        border: 1px solid var(--reservation-border);
        box-shadow: var(--reservation-shadow);
        overflow: hidden;
      }

      .reservation-modal__header {
        padding: 28px clamp(24px, 5vw, 36px) 18px;
        border-bottom: 1px solid var(--reservation-border);
      }

      .reservation-modal__header h3 {
        margin: 0;
        font-size: 1.6rem;
        font-family: "Playfair Display", serif;
      }

      .reservation-modal__header p {
        margin: 8px 0 0;
        color: var(--reservation-muted);
      }

      .reservation-modal__body {
        padding: clamp(24px, 5vw, 36px);
        display: grid;
        gap: 24px;
      }

      .modal-close {
        position: absolute;
        top: 14px;
        right: 14px;
        background: rgba(255, 255, 255, 0.08);
        border: 1px solid var(--reservation-border);
        width: 40px;
        height: 40px;
        border-radius: 999px;
        color: var(--reservation-contrast);
        font-size: 1.1rem;
        cursor: pointer;
        transition: background var(--reservation-transition);
      }

      .modal-close:hover,
      .modal-close:focus-visible {
        background: rgba(255, 255, 255, 0.18);
      }

      form.reservation-form {
        display: grid;
        gap: 18px;
      }

      .form-grid {
        display: grid;
        gap: 18px;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      }

      .form-field {
        display: grid;
        gap: 8px;
      }

      .form-field label {
        font-size: 0.85rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: var(--reservation-muted);
      }

      .form-field input,
      .form-field select,
      .form-field textarea {
        background: rgba(8, 16, 38, 0.8);
        border: 1px solid var(--reservation-border);
        border-radius: var(--reservation-radius-sm);
        padding: 14px 16px;
        color: var(--reservation-contrast);
        font: inherit;
        transition: border-color var(--reservation-transition), box-shadow var(--reservation-transition);
      }

      .form-field textarea {
        resize: vertical;
        min-height: 120px;
      }

      .form-field input:focus,
      .form-field select:focus,
      .form-field textarea:focus {
        outline: none;
        border-color: rgba(244, 198, 108, 0.4);
        box-shadow: 0 0 0 1px rgba(244, 198, 108, 0.3);
      }

      .option-toggle {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 16px;
        padding: 18px 20px;
        border-radius: var(--reservation-radius-md);
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid var(--reservation-border);
      }

      .option-toggle label {
        display: flex;
        flex-direction: column;
        gap: 4px;
        font-size: 0.95rem;
        color: var(--reservation-muted);
        text-transform: none;
        letter-spacing: 0;
      }

      .option-toggle label strong {
        color: var(--reservation-contrast);
        font-size: 1rem;
      }

      .option-toggle input[type="checkbox"] {
        width: 48px;
        height: 26px;
        appearance: none;
        background: rgba(255, 255, 255, 0.18);
        border-radius: 999px;
        position: relative;
        cursor: pointer;
        border: 1px solid transparent;
        transition: background var(--reservation-transition);
      }

      .option-toggle input[type="checkbox"]::after {
        content: "";
        position: absolute;
        top: 50%;
        left: 4px;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: #0b1634;
        transform: translateY(-50%);
        transition: transform var(--reservation-transition), background var(--reservation-transition);
      }

      .option-toggle input[type="checkbox"]:checked {
        background: linear-gradient(135deg, var(--reservation-highlight), var(--reservation-highlight-strong));
      }

      .option-toggle input[type="checkbox"]:checked::after {
        transform: translate(20px, -50%);
        background: #1f1404;
      }

      .form-summary {
        display: flex;
        flex-direction: column;
        gap: 12px;
        background: rgba(8, 16, 38, 0.65);
        border-radius: var(--reservation-radius-md);
        border: 1px solid var(--reservation-border);
        padding: 20px 24px;
      }

      .form-summary span {
        color: var(--reservation-muted);
        font-size: 0.9rem;
      }

      .form-summary strong {
        font-family: "Playfair Display", serif;
        font-size: 1.4rem;
        color: var(--reservation-highlight);
      }

      .form-actions {
        display: flex;
        flex-wrap: wrap;
        gap: 16px;
        justify-content: flex-end;
      }

      .cart-list {
        display: grid;
        gap: 16px;
      }

      .cart-item {
        border-radius: var(--reservation-radius-md);
        border: 1px solid var(--reservation-border);
        background: rgba(5, 14, 32, 0.65);
        padding: 18px 22px;
        display: grid;
        gap: 6px;
      }

      .cart-item__header {
        display: flex;
        justify-content: space-between;
        gap: 18px;
        align-items: baseline;
      }

      .cart-item__title {
        font-weight: 600;
      }

      .cart-item__meta {
        color: var(--reservation-muted);
        font-size: 0.9rem;
      }

      .cart-item__footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 12px;
      }

      .cart-item__price {
        font-family: "Playfair Display", serif;
        color: var(--reservation-highlight);
      }

      .cart-empty {
        text-align: center;
        color: var(--reservation-muted);
        padding: 32px 0;
      }

      .toast {
        position: fixed;
        bottom: clamp(18px, 6vw, 40px);
        left: 50%;
        transform: translateX(-50%);
        background: rgba(6, 14, 32, 0.92);
        border: 1px solid rgba(244, 198, 108, 0.4);
        color: var(--reservation-contrast);
        padding: 16px 24px;
        border-radius: 999px;
        font-size: 0.95rem;
        letter-spacing: 0.04em;
        box-shadow: 0 18px 35px rgba(244, 198, 108, 0.25);
        animation: toast-in 0.25s ease;
        z-index: 250;
      }

      @keyframes toast-in {
        from {
          opacity: 0;
          transform: translate(-50%, 12px);
        }
        to {
          opacity: 1;
          transform: translate(-50%, 0);
        }
      }

      @media (max-width: 920px) {
        body.reservation-page main {
          margin-top: 82px;
        }

        .reservation-hero {
          padding: 140px 0 100px;
        }

        .reservation-tabs {
          top: 68px;
        }
      }

      @media (max-width: 720px) {
        .reservation-hero {
          padding: 120px 0 90px;
        }

        .reservation-alert {
          margin-top: 96px;
          font-size: 0.9rem;
          padding: 16px 18px;
        }

        .reservation-hero__inner {
          padding: 0 6vw;
          gap: 42px;
          grid-template-columns: 1fr;
          justify-items: center;
          text-align: center;
        }

        .reservation-hero__lead {
          margin-left: auto;
          margin-right: auto;
        }

        .reservation-hero__actions {
          justify-content: center;
        }

        .reservation-hero__card {
          padding: 28px;
          width: min(440px, 100%);
          margin: 0 auto;
          text-align: left;
        }

        .reservation-hero__card {
          padding: 28px;
        }

        .reservation-hero__metrics {
          grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
          gap: 18px;
        }

        .stage-card__footer {
          flex-direction: column;
          align-items: flex-start;
        }

        .floating-cart {
          right: 16px;
          left: 16px;
          bottom: 18px;
          justify-content: center;
        }
      }

      @media (max-width: 560px) {
        .reservation-modal__dialog {
          width: 100%;
        }

        .reservation-modal__header,
        .reservation-modal__body {
          padding: 24px;
        }

        .form-actions {
          justify-content: stretch;
        }

        .form-actions .btn-secondary,
        .form-actions .btn-primary {
          flex: 1 1 auto;
          justify-content: center;
        }

        .reservation-tabs {
          top: 66px;
        }
      }
    </style>
  </head>
  <body class="reservation-page">
    <header class="navbar" id="top">
      <div class="navbar__inner container">
        <a class="brand" href="index.html#hero" aria-label="Retour à l'accueil">
          <img src="assets/logo/tennis-impact-logo.svg" alt="Logo Tennis Impact" />
          <span>Tennis Impact</span>
        </a>
        <button class="nav-toggle" aria-expanded="false" aria-controls="site-nav">
          <span></span>
          <span></span>
          <span></span>
        </button>
        <nav class="nav-links" id="site-nav">
          <a href="#calendrier">Calendrier</a>
          <a href="#stages">Stages</a>
          <a href="#lieux">Lieux</a>
          <a href="#destinations">Destinations</a>
          <a href="#methodologie">Méthodologie</a>
          <a href="#options">Options</a>
          <a href="#faq">FAQ</a>
          <a href="espace_coach.html">Espace Coach</a>
        </nav>
        <div class="nav-actions">
          <button class="btn btn-gold" data-cart-trigger type="button">Voir le panier</button>
        </div>
      </div>
    </header>

    <noscript>
      <div class="reservation-alert">
        Pour découvrir l'intégralité du calendrier et réserver votre stage, activez JavaScript dans votre navigateur ou
        contactez-nous via <a href="mailto:contact@tennisimpact.fr">contact@tennisimpact.fr</a>.
      </div>
    </noscript>

    <main>
      <section class="reservation-hero" id="hero">
        <div class="reservation-hero__inner">
          <div class="reservation-hero__content">
            <span class="reservation-hero__eyebrow">Réservez votre stage</span>
            <h1 class="reservation-hero__title">Un parcours <span>premium</span> pour réserver votre semaine idéale</h1>
            <p class="reservation-hero__lead">
              Composez une expérience sur-mesure : choisissez votre semaine, votre lieu d'entraînement, ajoutez l'hébergement ou
              le transport et finalisez la réservation en quelques clics.
            </p>
            <div class="reservation-hero__metrics">
              <div class="reservation-hero__metric">
                <strong>5 lieux</strong>
                <span>CREPS de Poitiers, Toulouse, Aix-en-Provence, Domaine des Landes Girondines et Cabourg.</span>
              </div>
              <div class="reservation-hero__metric">
                <strong>30h / semaine</strong>
                <span>Entraînement tennis, préparation physique et ateliers tactiques pour progresser vite.</span>
              </div>
              <div class="reservation-hero__metric">
                <strong>Encadrement FFT</strong>
                <span>Coachs experts, ratio serré et suivi personnalisé pour chaque joueur.</span>
              </div>
            </div>
            <div class="reservation-hero__actions">
              <button class="btn-primary" data-book-stage="performance" type="button">Réserver un stage</button>
              <button class="btn-secondary" data-cart-trigger type="button">Voir le panier</button>
            </div>
          </div>
          <aside class="reservation-hero__card" aria-label="Points forts de l'expérience">
            <h3>Votre dossier de réservation</h3>
            <p>Rassemblez toutes les informations nécessaires avant la validation finale de votre stage.</p>
            <ul class="reservation-hero__list">
              <li>Calendrier actualisé avec les disponibilités par site.</li>
              <li>Panier récapitulatif dynamique et modifiable en temps réel.</li>
              <li>Formulaire premium avec options « hébergement » et « transport ».</li>
              <li>Confirmation directe envoyée à notre équipe Tennis Impact.</li>
            </ul>
            <button class="btn-primary" data-book-stage="performance" type="button">Commencer la réservation</button>
          </aside>
        </div>
      </section>

      <div class="reservation-tabs" aria-label="Navigation de la page">
        <div class="reservation-tabs__inner">
          <a href="#calendrier">Calendrier</a>
          <a href="#stages">Stages</a>
          <a href="#lieux">Lieux</a>
          <a href="#methodologie">Méthodologie</a>
          <a href="#options">Options</a>
          <a href="#faq">FAQ</a>
        </div>
      </div>

      <section class="reservation-section" id="calendrier">
        <div class="reservation-section__inner">
          <span class="section-eyebrow">Calendrier interactif</span>
          <h2>Choisissez votre semaine de stage</h2>
          <p class="lead">
            Chaque créneau ouvre un volume de places limitées pour garantir une immersion haut de gamme. Sélectionnez votre
            semaine pour découvrir les disponibilités et les lieux proposés.
          </p>
          <div class="calendar-layout">
            <div class="calendar-card">
              <div class="calendar-grid" id="calendarGrid" role="listbox" aria-label="Semaines disponibles">
                <button class="calendar-week is-active" type="button" data-week="2024-07-08" aria-pressed="true">
                  <span class="calendar-week__label">Semaine du 8 au 13 juillet</span>
                  <span class="calendar-week__locations">Poitiers • Toulouse • Aix-en-Provence</span>
                  <span class="calendar-week__status">12 places restantes</span>
                </button>
                <button class="calendar-week" type="button" data-week="2024-07-15" aria-pressed="false">
                  <span class="calendar-week__label">Semaine du 15 au 20 juillet</span>
                  <span class="calendar-week__locations">Poitiers • Domaine des Landes Girondines • Cabourg</span>
                  <span class="calendar-week__status">9 places restantes</span>
                </button>
                <button class="calendar-week" type="button" data-week="2024-07-22" aria-pressed="false">
                  <span class="calendar-week__label">Semaine du 22 au 27 juillet</span>
                  <span class="calendar-week__locations">Poitiers • Toulouse • Aix-en-Provence • Cabourg</span>
                  <span class="calendar-week__status">6 places restantes</span>
                </button>
                <button class="calendar-week" type="button" data-week="2024-07-29" aria-pressed="false">
                  <span class="calendar-week__label">Semaine du 29 juillet au 3 août</span>
                  <span class="calendar-week__locations">Poitiers • Toulouse • Domaine des Landes Girondines</span>
                  <span class="calendar-week__status">8 places restantes</span>
                </button>
                <button class="calendar-week" type="button" data-week="2024-08-05" aria-pressed="false">
                  <span class="calendar-week__label">Semaine du 5 au 10 août</span>
                  <span class="calendar-week__locations">Domaine des Landes Girondines • Cabourg</span>
                  <span class="calendar-week__status">10 places restantes</span>
                </button>
                <button class="calendar-week" type="button" data-week="2024-08-12" aria-pressed="false">
                  <span class="calendar-week__label">Semaine du 12 au 17 août</span>
                  <span class="calendar-week__locations">Poitiers • Aix-en-Provence • Cabourg</span>
                  <span class="calendar-week__status">4 places restantes</span>
                </button>
              </div>
            </div>
            <div class="calendar-summary" id="calendarSummary">
              <div class="calendar-summary__card">
                <strong>Semaine du 8 au 13 juillet</strong>
                <p>Ouverture estivale : lancement technique et matches d’évaluation.</p>
              </div>
              <div class="calendar-summary__card">
                <strong>3 stages disponibles</strong>
                <ul class="calendar-summary__list">
                  <li><strong>Stage Performance Jeunes</strong> — CREPS de Poitiers • 890&nbsp;€</li>
                  <li><strong>Tournée Elite &amp; Tournois</strong> — CREPS de Toulouse • 990&nbsp;€</li>
                  <li><strong>Immersion Terre Battue</strong> — CREPS d'Aix-en-Provence • 860&nbsp;€</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="reservation-section" id="stages">
        <div class="reservation-section__inner">
          <span class="section-eyebrow">Catalogue premium</span>
          <h2>Des stages pensés pour chaque profil</h2>
          <p class="lead">
            Du perfectionnement intensif à la tournée compétition en passant par l'expérience famille, composez un programme
            adapté avec les options de confort qui vous conviennent.
          </p>
          <p class="stage-grid__hint" id="stageHint">Sélection : Semaine du 8 au 13 juillet – stages affichés ci-dessous.</p>
          <div class="stage-grid" id="stageGrid">
            <article class="stage-card">
              <div class="stage-card__header">
                <span class="stage-card__eyebrow">Compétition</span>
                <h3>Stage Performance Jeunes</h3>
                <p class="stage-card__location">CREPS de Poitiers</p>
              </div>
              <p class="stage-card__description">
                Programme intensif pour compétiteurs 12-18 ans avec coaching vidéo et matchs homologués.
              </p>
              <div class="stage-card__tags">
                <span class="stage-card__tag">Analyse vidéo</span>
                <span class="stage-card__tag">Tournoi FFT</span>
                <span class="stage-card__tag">Prépa physique</span>
              </div>
              <div class="stage-card__footer">
                <span class="stage-card__price">890&nbsp;€</span>
                <div class="stage-card__weeks">
                  <span class="stage-card__week is-active">8 → 13 juillet</span>
                  <span class="stage-card__week">15 → 20 juillet</span>
                  <span class="stage-card__week">22 → 27 juillet</span>
                  <span class="stage-card__week">29 juillet → 3 août</span>
                  <span class="stage-card__week">12 → 17 août</span>
                </div>
                <button class="btn-primary" type="button" data-book-stage="performance">Réserver</button>
              </div>
            </article>
            <article class="stage-card">
              <div class="stage-card__header">
                <span class="stage-card__eyebrow">Haut niveau</span>
                <h3>Tournée Elite &amp; Tournois</h3>
                <p class="stage-card__location">CREPS de Toulouse</p>
              </div>
              <p class="stage-card__description">
                Encadrement par nos coaches nationaux avec participation à 2 tournois officiels et suivi mental quotidien.
              </p>
              <div class="stage-card__tags">
                <span class="stage-card__tag">Préparateur mental</span>
                <span class="stage-card__tag">Suivi biomécanique</span>
                <span class="stage-card__tag">Matches filmés</span>
              </div>
              <div class="stage-card__footer">
                <span class="stage-card__price">990&nbsp;€</span>
                <div class="stage-card__weeks">
                  <span class="stage-card__week is-active">8 → 13 juillet</span>
                  <span class="stage-card__week">22 → 27 juillet</span>
                  <span class="stage-card__week">29 juillet → 3 août</span>
                </div>
                <button class="btn-primary" type="button" data-book-stage="elite">Réserver</button>
              </div>
            </article>
            <article class="stage-card">
              <div class="stage-card__header">
                <span class="stage-card__eyebrow">Familles</span>
                <h3>Expérience Premium Famille</h3>
                <p class="stage-card__location">Domaine des Landes Girondines</p>
              </div>
              <p class="stage-card__description">
                Une semaine en résidence haut de gamme avec programme tennis enfants &amp; parents, activités plage et golf.
              </p>
              <div class="stage-card__tags">
                <span class="stage-card__tag">Résidence 4★</span>
                <span class="stage-card__tag">Activités plage</span>
                <span class="stage-card__tag">Coaching parents</span>
              </div>
              <div class="stage-card__footer">
                <span class="stage-card__price">740&nbsp;€</span>
                <div class="stage-card__weeks">
                  <span class="stage-card__week">15 → 20 juillet</span>
                  <span class="stage-card__week">29 juillet → 3 août</span>
                  <span class="stage-card__week">5 → 10 août</span>
                </div>
                <button class="btn-primary" type="button" data-book-stage="premium-family">Réserver</button>
              </div>
            </article>
            <article class="stage-card">
              <div class="stage-card__header">
                <span class="stage-card__eyebrow">Technique</span>
                <h3>Immersion Terre Battue</h3>
                <p class="stage-card__location">CREPS d'Aix-en-Provence</p>
              </div>
              <p class="stage-card__description">
                Volume d’entraînement élevé sur terre battue, routines tactiques et préparation physique personnalisée.
              </p>
              <div class="stage-card__tags">
                <span class="stage-card__tag">Terre battue</span>
                <span class="stage-card__tag">Plan tactique</span>
                <span class="stage-card__tag">Prépa physique</span>
              </div>
              <div class="stage-card__footer">
                <span class="stage-card__price">860&nbsp;€</span>
                <div class="stage-card__weeks">
                  <span class="stage-card__week is-active">8 → 13 juillet</span>
                  <span class="stage-card__week">22 → 27 juillet</span>
                  <span class="stage-card__week">12 → 17 août</span>
                </div>
                <button class="btn-primary" type="button" data-book-stage="intensif-aix">Réserver</button>
              </div>
            </article>
            <article class="stage-card">
              <div class="stage-card__header">
                <span class="stage-card__eyebrow">Compétition</span>
                <h3>Stage Bord de Mer &amp; Tournoi</h3>
                <p class="stage-card__location">Cabourg</p>
              </div>
              <p class="stage-card__description">
                Coaching quotidien, tournoi nocturne et préparation physique sur la plage pour une expérience unique.
              </p>
              <div class="stage-card__tags">
                <span class="stage-card__tag">Nocturnes</span>
                <span class="stage-card__tag">Prépa plage</span>
                <span class="stage-card__tag">Coaching perso</span>
              </div>
              <div class="stage-card__footer">
                <span class="stage-card__price">820&nbsp;€</span>
                <div class="stage-card__weeks">
                  <span class="stage-card__week">15 → 20 juillet</span>
                  <span class="stage-card__week">22 → 27 juillet</span>
                  <span class="stage-card__week">5 → 10 août</span>
                  <span class="stage-card__week">12 → 17 août</span>
                </div>
                <button class="btn-primary" type="button" data-book-stage="cabourg-competition">Réserver</button>
              </div>
            </article>
          </div>
        </div>
      </section>

      <section class="reservation-section" id="lieux">
        <div class="reservation-section__inner">
          <span class="section-eyebrow">Lieux 2024</span>
          <h2>Des infrastructures d'exception</h2>
          <p class="lead">
            Les sites sélectionnés offrent chacun une identité forte : surfaces variées, hébergements qualitatifs et espaces bien-
            être pour récupérer dans les meilleures conditions.
          </p>
          <div class="destinations-grid">
            <article class="destination-card">
              <h3>CREPS de Poitiers</h3>
              <p>Centre d'entraînement complet avec courts couverts, salle vidéo et restauration sportive.</p>
              <ul>
      .cart-item {
        border-radius: var(--reservation-radius-sm);
        border: 1px solid rgba(255, 255, 255, 0.1);
        background: rgba(255, 255, 255, 0.05);
        padding: 18px;
        display: grid;
        gap: 12px;
      }

      .cart-item__header {
        display: flex;
        justify-content: space-between;
        gap: 12px;
      }

      .cart-item__header strong {
        font-family: "Playfair Display", serif;
        font-size: 1.1rem;
      }

      .cart-item__remove {
        background: none;
        border: 0;
        color: rgba(223, 230, 255, 0.65);
        cursor: pointer;
        font-size: 0.85rem;
        letter-spacing: 0.14em;
        text-transform: uppercase;
      }

      .cart-item__remove:hover,
      .cart-item__remove:focus-visible {
        color: var(--reservation-gold);
      }

      .cart-item__meta {
        font-size: 0.88rem;
        color: var(--reservation-muted);
        display: grid;
        gap: 4px;
      }

      .cart-item__controls {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
      }

      .cart-item__quantity {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: rgba(255, 255, 255, 0.05);
        padding: 6px 12px;
      }

      .cart-item__quantity button {
        width: 26px;
        height: 26px;
        border-radius: 50%;
        border: 0;
        background: rgba(245, 196, 81, 0.18);
        color: var(--reservation-gold);
        cursor: pointer;
      }

      .cart-item__options {
        display: grid;
        gap: 8px;
        font-size: 0.9rem;
        color: var(--reservation-muted);
      }

      .cart-item__options label {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        cursor: pointer;
      }

      .cart-item__price {
        text-align: right;
        font-weight: 600;
        color: var(--reservation-gold);
      }

      .reservation-cart__empty {
        border-radius: var(--reservation-radius-sm);
        border: 1px dashed rgba(255, 255, 255, 0.18);
        padding: 24px;
        text-align: center;
        color: var(--reservation-muted);
      }

      .reservation-cart__total {
        border-top: 1px solid rgba(255, 255, 255, 0.12);
        padding-top: 18px;
        display: grid;
        gap: 6px;
        font-size: 0.95rem;
      }

      .reservation-cart__total strong {
        font-size: 1.2rem;
        color: var(--reservation-gold);
      }

      .reservation-cart__fineprint {
        font-size: 0.8rem;
        color: rgba(223, 230, 255, 0.6);
      }

      .reservation-pillars {
        display: grid;
        gap: 18px;
        margin-top: 28px;
      }

      .reservation-pillar {
        border-radius: var(--reservation-radius-sm);
        border: 1px solid rgba(255, 255, 255, 0.08);
        background: rgba(255, 255, 255, 0.05);
        padding: 20px 24px;
        display: grid;
        gap: 10px;
      }

      .reservation-destinations {
        display: grid;
        gap: 18px;
        margin-top: 28px;
      }

      @media (min-width: 760px) {
        .reservation-destinations {
          grid-template-columns: repeat(3, minmax(0, 1fr));
        }
      }

      .reservation-destination {
        border-radius: var(--reservation-radius-sm);
        border: 1px solid rgba(255, 255, 255, 0.08);
        background: rgba(6, 16, 36, 0.72);
        padding: 22px;
        display: grid;
        gap: 8px;
      }

      .reservation-options {
        display: grid;
        gap: 18px;
        margin-top: 28px;
      }

      @media (min-width: 760px) {
        .reservation-options {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
      }

      .reservation-option {
        border-radius: var(--reservation-radius-sm);
        border: 1px solid rgba(255, 255, 255, 0.08);
        background: rgba(255, 255, 255, 0.05);
        padding: 22px;
        display: grid;
        gap: 6px;
      }

      .reservation-option strong {
        color: var(--reservation-contrast);
      }

      .reservation-faq {
        display: grid;
        gap: 18px;
        margin-top: 28px;
      }

      .reservation-faq__item {
        border-radius: var(--reservation-radius-sm);
        border: 1px solid rgba(255, 255, 255, 0.08);
        background: rgba(6, 14, 32, 0.75);
        padding: 22px;
        display: grid;
        gap: 8px;
      }

      .reservation-faq__item h3 {
        margin: 0;
        font-size: 1.1rem;
      }

      .reservation-toast {
        position: fixed;
        inset: auto 50% 32px auto;
        transform: translateX(50%);
        display: none;
        align-items: center;
        gap: 14px;
        padding: 16px 22px;
        border-radius: 999px;
        background: rgba(245, 196, 81, 0.16);
        border: 1px solid rgba(245, 196, 81, 0.4);
        color: var(--reservation-gold);
        font-weight: 600;
        letter-spacing: 0.1em;
        text-transform: uppercase;
        box-shadow: 0 20px 50px rgba(5, 12, 28, 0.4);
        z-index: 100;
      }

      .reservation-toast[data-active="true"] {
        display: inline-flex;
        animation: toast-in 0.4s ease;
      }

      @keyframes toast-in {
        from {
          opacity: 0;
          transform: translateX(50%) translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateX(50%) translateY(0);
        }
      }

      .reservation-modal {
        position: fixed;
        inset: 0;
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 120;
      }

      .reservation-modal[data-open="true"] {
        display: flex;
      }

      .reservation-modal__overlay {
        position: absolute;
        inset: 0;
        background: rgba(2, 8, 22, 0.8);
        backdrop-filter: blur(6px);
      }

      .reservation-modal__dialog {
        position: relative;
        z-index: 1;
        width: min(720px, 92vw);
        border-radius: var(--reservation-radius-lg);
        border: 1px solid rgba(255, 255, 255, 0.08);
        background: linear-gradient(150deg, rgba(6, 16, 36, 0.96), rgba(3, 9, 22, 0.96));
        box-shadow: var(--reservation-shadow);
        padding: clamp(32px, 6vw, 48px);
        display: grid;
        gap: 24px;
      }

      .reservation-modal__close {
        position: absolute;
        inset: 22px 22px auto auto;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        border: 0;
        background: rgba(255, 255, 255, 0.08);
        color: inherit;
        cursor: pointer;
      }

      .reservation-modal h2 {
        margin: 0;
        font-family: "Playfair Display", serif;
        font-size: clamp(1.9rem, 2.6vw, 2.4rem);
      }

      .reservation-modal__summary {
        border-radius: var(--reservation-radius-sm);
        border: 1px solid rgba(255, 255, 255, 0.1);
        background: rgba(255, 255, 255, 0.05);
        padding: 20px 22px;
        display: grid;
        gap: 8px;
        font-size: 0.92rem;
      }

      .reservation-modal__summary strong {
        font-family: "Playfair Display", serif;
        color: var(--reservation-gold);
      }

      .reservation-form {
        display: grid;
        gap: 18px;
      }

      .reservation-form__group {
        display: grid;
        gap: 6px;
      }

      .reservation-form label {
        font-size: 0.82rem;
        letter-spacing: 0.16em;
        text-transform: uppercase;
        color: rgba(223, 230, 255, 0.7);
      }

      .reservation-form input,
      .reservation-form select,
      .reservation-form textarea {
        border-radius: 14px;
        border: 1px solid rgba(255, 255, 255, 0.16);
        background: rgba(255, 255, 255, 0.04);
        color: inherit;
        padding: 14px 16px;
        font: inherit;
        transition: border 0.3s ease;
      }

      .reservation-form input:focus-visible,
      .reservation-form select:focus-visible,
      .reservation-form textarea:focus-visible {
        outline: none;
        border-color: rgba(245, 196, 81, 0.6);
      }

      .reservation-form textarea {
        min-height: 120px;
        resize: vertical;
      }

      .reservation-form__inline {
        display: grid;
        gap: 18px;
      }

      @media (min-width: 640px) {
        .reservation-form__inline {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
      }

      .reservation-form__choices {
        display: grid;
        gap: 12px;
      }

      .reservation-form__choices label {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        cursor: pointer;
      }

      .reservation-form__submit {
        justify-self: start;
      }

      @media (max-width: 1024px) {
        .reservation-navbar__menu {
        .reservation-navbar__menu,
        .reservation-navbar__cta {
          display: none;
        }

        .reservation-navbar__toggle {
          display: inline-flex;
        }

        .reservation-navbar[data-mobile-open="true"] .reservation-navbar__mobile {
          display: block;
        }
      }

      @media (max-width: 820px) {
        body.reservation-page {
          scroll-padding-top: 96px;
        }

        .reservation-body {
          margin: -60px auto 90px;
        }

        .reservation-cart {
          position: static;
        }
      }

      @media (max-width: 640px) {
        .reservation-section {
          margin-bottom: 48px;
        }

        .reservation-hero__stats {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }

        .reservation-toast {
          inset: auto 16px 24px auto;
          transform: none;
        }
      }
    </style>
  </head>
  <body class="reservation-page">
    <header class="navbar" id="top">
      <div class="navbar__inner container">
        <a class="brand" href="index.html#hero" aria-label="Retour à l'accueil">
          <img src="assets/logo/tennis-impact-logo.svg" alt="Logo Tennis Impact" />
          <span>Tennis Impact</span>
        </a>
        <button class="nav-toggle" aria-expanded="false" aria-controls="site-nav">
          <span></span>
          <span></span>
          <span></span>
        </button>
        <nav class="nav-links" id="site-nav">
          <a href="#calendrier">Calendrier</a>
          <a href="#stages">Stages</a>
          <a href="#destinations">Destinations</a>
          <a href="#methodologie">Méthodologie</a>
          <a href="#options">Options</a>
          <a href="#faq">FAQ</a>
          <a href="espace_coach.html">Espace Coach</a>
        </nav>
        <div class="nav-actions">
          <button class="btn btn-gold" data-cart-trigger type="button">Voir le panier</button>
        </div>
    <header class="reservation-navbar" data-reservation-nav>
      <div class="reservation-container reservation-navbar__inner">
        <a class="reservation-navbar__brand" href="index.html">
          <span>Tennis Impact Academy</span>
          <span>Réserver un stage</span>
        </a>
        <button class="reservation-navbar__toggle" type="button" data-nav-toggle aria-expanded="false" aria-controls="reservationNavMenu">
          ☰
        </button>
        <nav class="reservation-navbar__menu" id="reservationNavMenu">
          <a href="index.html#notre-academie">Notre Académie</a>
          <a href="index.html#stage-jeunes">Stages Jeunes</a>
          <a href="index.html#tennis-ecole">Tennis à l'école</a>
          <a href="index.html#lecon-individuelle">Leçons individuelles</a>
          <a href="#calendrier">Calendrier</a>
          <a href="#stages">Programmes</a>
          <a href="#calendrier">Calendrier</a>
          <a href="#stages">Stages</a>
          <a href="#methodologie">Méthodologie</a>
          <a href="#destinations">Lieux</a>
          <a href="#options">Options</a>
          <a href="#faq">FAQ</a>
        </nav>
        <button class="reservation-navbar__cta" type="button" data-open-modal>Voir le panier</button>
      </div>
      <div class="reservation-container reservation-navbar__mobile" data-nav-mobile>
        <a href="index.html#notre-academie">Notre Académie</a>
        <a href="index.html#stage-jeunes">Stages Jeunes</a>
        <a href="index.html#tennis-ecole">Tennis à l'école</a>
        <a href="index.html#lecon-individuelle">Leçons individuelles</a>
        <a href="#calendrier">Calendrier</a>
        <a href="#stages">Programmes</a>
        <a href="#methodologie">Méthodologie</a>
        <a href="#destinations">Lieux</a>
        <a href="#options">Options</a>
        <a class="reservation-navbar__cta" href="#" data-open-modal>Conciergerie</a>
      </div>
      <div class="reservation-container reservation-navbar__mobile" data-nav-mobile>
        <a href="#calendrier">Calendrier</a>
        <a href="#stages">Stages signature</a>
        <a href="#methodologie">Méthodologie</a>
        <a href="#destinations">Destinations</a>
        <a href="#options">Options premium</a>
        <a href="#faq">FAQ</a>
      </div>
    </header>

    <main>
      <section class="reservation-hero" id="hero">
        <div class="reservation-hero__inner">
          <div class="reservation-hero__content">
            <span class="reservation-hero__eyebrow">Réservez votre stage</span>
            <h1 class="reservation-hero__title">Un parcours <span>premium</span> pour réserver votre semaine idéale</h1>
            <p class="reservation-hero__lead">
              Composez une expérience sur-mesure : choisissez votre semaine, votre lieu d'entraînement, ajoutez l'hébergement ou
              le transport et finalisez la réservation en quelques clics.
            </p>
            <div class="reservation-hero__metrics">
              <div class="reservation-hero__metric">
                <strong>5 lieux</strong>
                <span>CREPS de Poitiers, Toulouse, Aix-en-Provence, Domaine des Landes Girondines et Cabourg.</span>
              </div>
              <div class="reservation-hero__metric">
                <strong>30h / semaine</strong>
                <span>Entraînement tennis, préparation physique et ateliers tactiques pour progresser vite.</span>
              </div>
              <div class="reservation-hero__metric">
                <strong>Encadrement FFT</strong>
                <span>Coachs experts, ratio serré et suivi personnalisé pour chaque joueur.</span>
              </div>
            </div>
            <div class="reservation-hero__actions">
              <button class="btn-primary" data-book-stage="performance" type="button">Réserver un stage</button>
              <button class="btn-secondary" data-cart-trigger type="button">Voir le panier</button>
            </div>
          </div>
          <aside class="reservation-hero__card" aria-label="Points forts de l'expérience">
            <h3>Votre dossier de réservation</h3>
            <p>Rassemblez toutes les informations nécessaires avant la validation finale de votre stage.</p>
            <ul class="reservation-hero__list">
              <li>Calendrier actualisé avec les disponibilités par site.</li>
              <li>Panier récapitulatif intelligent et modifiable en temps réel.</li>
              <li>Formulaire premium avec options « hébergement » et « transport ».</li>
              <li>Confirmation directe envoyée à notre équipe Tennis Impact.</li>
            </ul>
            <button class="btn-primary" data-book-stage="performance" type="button">Commencer la réservation</button>
          </aside>
        </div>
      </section>

      <div class="reservation-tabs" aria-label="Navigation de la page">
        <div class="reservation-tabs__inner">
          <a href="#calendrier">Calendrier</a>
          <a href="#stages">Stages</a>
          <a href="#destinations">Destinations</a>
          <a href="#methodologie">Méthodologie</a>
          <a href="#options">Options</a>
          <a href="#faq">FAQ</a>
        </div>
      </div>

      <section class="reservation-section" id="calendrier">
        <div class="reservation-section__inner">
          <span class="section-eyebrow">Calendrier interactif</span>
          <h2>Choisissez votre semaine de stage</h2>
          <p class="lead">
            Chaque créneau ouvre un volume de places limitées pour garantir une immersion haut de gamme. Sélectionnez votre
            semaine pour découvrir les disponibilités et les lieux proposés.
          </p>
          <div class="calendar-layout">
            <div class="calendar-card">
              <div class="calendar-grid" id="calendarGrid" role="listbox" aria-label="Semaines disponibles">
                <button class="calendar-week is-active" type="button" data-week="2024-07-08" aria-pressed="true">
                  <span class="calendar-week__label">Semaine du 8 au 13 juillet</span>
                  <span class="calendar-week__locations">Poitiers • Toulouse • Aix-en-Provence</span>
                  <span class="calendar-week__status">12 places restantes</span>
                </button>
                <button class="calendar-week" type="button" data-week="2024-07-15" aria-pressed="false">
                  <span class="calendar-week__label">Semaine du 15 au 20 juillet</span>
                  <span class="calendar-week__locations">Poitiers • Domaine des Landes Girondines • Cabourg</span>
                  <span class="calendar-week__status">9 places restantes</span>
                </button>
                <button class="calendar-week" type="button" data-week="2024-07-22" aria-pressed="false">
                  <span class="calendar-week__label">Semaine du 22 au 27 juillet</span>
                  <span class="calendar-week__locations">Poitiers • Toulouse • Aix-en-Provence • Cabourg</span>
                  <span class="calendar-week__status">6 places restantes</span>
                </button>
                <button class="calendar-week" type="button" data-week="2024-07-29" aria-pressed="false">
                  <span class="calendar-week__label">Semaine du 29 juillet au 3 août</span>
                  <span class="calendar-week__locations">Poitiers • Toulouse • Domaine des Landes Girondines</span>
                  <span class="calendar-week__status">8 places restantes</span>
                </button>
                <button class="calendar-week" type="button" data-week="2024-08-05" aria-pressed="false">
                  <span class="calendar-week__label">Semaine du 5 au 10 août</span>
                  <span class="calendar-week__locations">Domaine des Landes Girondines • Cabourg</span>
                  <span class="calendar-week__status">10 places restantes</span>
                </button>
                <button class="calendar-week" type="button" data-week="2024-08-12" aria-pressed="false">
                  <span class="calendar-week__label">Semaine du 12 au 17 août</span>
                  <span class="calendar-week__locations">Poitiers • Aix-en-Provence • Cabourg</span>
                  <span class="calendar-week__status">4 places restantes</span>
                </button>
              </div>
            </div>
            <div class="calendar-summary" id="calendarSummary">
              <div class="calendar-summary__card">
                <strong>Semaine du 8 au 13 juillet</strong>
                <p>Ouverture estivale : lancement technique et matches d’évaluation.</p>
              </div>
              <div class="calendar-summary__card">
                <strong>Stages disponibles</strong>
                <ul class="calendar-summary__list">
                  <li><strong>Stage Performance Jeunes</strong> — CREPS de Poitiers • 890&nbsp;€</li>
                  <li><strong>Tournée Elite &amp; Tournois</strong> — CREPS de Toulouse • 990&nbsp;€</li>
                  <li><strong>Immersion Terre Battue</strong> — CREPS d'Aix-en-Provence • 860&nbsp;€</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="reservation-section" id="stages">
        <div class="reservation-section__inner">
          <span class="section-eyebrow">Catalogue premium</span>
          <h2>Des stages pensés pour chaque profil</h2>
          <p class="lead">
            Du perfectionnement intensif à la tournée compétition en passant par l'expérience famille, composez un programme
            adapté avec les options de confort qui vous conviennent.
          </p>
          <div class="stage-grid" id="stageGrid">
            <article class="stage-card">
              <div class="stage-card__header">
                <span class="stage-card__eyebrow">Compétition</span>
                <h3>Stage Performance Jeunes</h3>
                <p class="stage-card__location">CREPS de Poitiers</p>
              </div>
              <p class="stage-card__description">
                Programme intensif pour compétiteurs 12-18 ans avec coaching vidéo et matchs homologués.
              </p>
              <div class="stage-card__tags">
                <span class="stage-card__tag">Analyse vidéo</span>
                <span class="stage-card__tag">Tournoi FFT</span>
                <span class="stage-card__tag">Prépa physique</span>
              </div>
              <div class="stage-card__footer">
                <span class="stage-card__price">890&nbsp;€</span>
                <span class="stage-card__weeks">8 → 13 juillet • 15 → 20 juillet • 22 → 27 juillet • 29 juillet → 3 août • 12 → 17 août</span>
                <button class="btn-primary" type="button" data-book-stage="performance">Réserver</button>
              </div>
            </article>
            <article class="stage-card">
              <div class="stage-card__header">
                <span class="stage-card__eyebrow">Haut niveau</span>
                <h3>Tournée Elite &amp; Tournois</h3>
                <p class="stage-card__location">CREPS de Toulouse</p>
              </div>
              <p class="stage-card__description">
                Encadrement par nos coaches nationaux avec participation à 2 tournois officiels et suivi mental quotidien.
              </p>
              <div class="stage-card__tags">
                <span class="stage-card__tag">Préparateur mental</span>
                <span class="stage-card__tag">Suivi biomécanique</span>
                <span class="stage-card__tag">Matches filmés</span>
              </div>
              <div class="stage-card__footer">
                <span class="stage-card__price">990&nbsp;€</span>
                <span class="stage-card__weeks">8 → 13 juillet • 22 → 27 juillet • 29 juillet → 3 août</span>
                <button class="btn-primary" type="button" data-book-stage="elite">Réserver</button>
              </div>
            </article>
            <article class="stage-card">
              <div class="stage-card__header">
                <span class="stage-card__eyebrow">Familles</span>
                <h3>Expérience Premium Famille</h3>
                <p class="stage-card__location">Domaine des Landes Girondines</p>
              </div>
              <p class="stage-card__description">
                Une semaine en résidence haut de gamme avec programme tennis enfants &amp; parents, activités plage et golf.
              </p>
              <div class="stage-card__tags">
                <span class="stage-card__tag">Résidence 4★</span>
                <span class="stage-card__tag">Activités plage</span>
                <span class="stage-card__tag">Coaching parents</span>
              </div>
              <div class="stage-card__footer">
                <span class="stage-card__price">740&nbsp;€</span>
                <span class="stage-card__weeks">15 → 20 juillet • 29 juillet → 3 août • 5 → 10 août</span>
                <button class="btn-primary" type="button" data-book-stage="premium-family">Réserver</button>
              </div>
            </article>
            <article class="stage-card">
              <div class="stage-card__header">
                <span class="stage-card__eyebrow">Technique</span>
                <h3>Immersion Terre Battue</h3>
                <p class="stage-card__location">CREPS d'Aix-en-Provence</p>
              </div>
              <p class="stage-card__description">
                Volume d’entraînement élevé sur terre battue, routines tactiques et préparation physique personnalisée.
              </p>
              <div class="stage-card__tags">
                <span class="stage-card__tag">Terre battue</span>
                <span class="stage-card__tag">Plan tactique</span>
                <span class="stage-card__tag">Prépa physique</span>
              </div>
              <div class="stage-card__footer">
                <span class="stage-card__price">860&nbsp;€</span>
                <span class="stage-card__weeks">8 → 13 juillet • 22 → 27 juillet • 12 → 17 août</span>
                <button class="btn-primary" type="button" data-book-stage="intensif-aix">Réserver</button>
              </div>
            </article>
            <article class="stage-card">
              <div class="stage-card__header">
                <span class="stage-card__eyebrow">Compétition</span>
                <h3>Stage Bord de Mer &amp; Tournoi</h3>
                <p class="stage-card__location">Cabourg</p>
              </div>
              <p class="stage-card__description">
                Coaching quotidien, tournoi nocturne et préparation physique sur la plage pour une expérience unique.
              </p>
              <div class="stage-card__tags">
                <span class="stage-card__tag">Nocturnes</span>
                <span class="stage-card__tag">Prépa plage</span>
                <span class="stage-card__tag">Coaching perso</span>
              </div>
              <div class="stage-card__footer">
                <span class="stage-card__price">820&nbsp;€</span>
                <span class="stage-card__weeks">15 → 20 juillet • 22 → 27 juillet • 5 → 10 août • 12 → 17 août</span>
                <button class="btn-primary" type="button" data-book-stage="cabourg-competition">Réserver</button>
              </div>
            </article>
          </div>
        </div>
      </section>

      <section class="reservation-section" id="destinations">
        <div class="reservation-section__inner">
          <span class="section-eyebrow">Destinations 2024</span>
          <h2>Des infrastructures d'exception</h2>
          <p class="lead">
            Les sites sélectionnés offrent chacun une identité forte : surfaces variées, hébergements qualitatifs et espaces bien-
            être pour récupérer dans les meilleures conditions.
          </p>
          <div class="destinations-grid">
            <article class="destination-card">
              <h3>CREPS de Poitiers</h3>
              <p>Centre d'entraînement complet avec courts couverts, salle vidéo et restauration sportive.</p>
              <ul>
                <li>10 courts extérieurs &amp; 6 couverts</li>
                <li>Espace récupération et cryothérapie</li>
                <li>Chambres rénovées sur site</li>
              </ul>
            </article>
            <article class="destination-card">
              <h3>CREPS de Toulouse</h3>
              <p>Atmosphère performance avec staff médical et préparation mentale sur place.</p>
              <ul>
                <li>Suivi biomécanique individuel</li>
                <li>Piscine pour récupération active</li>
                <li>Restauration diététique dédiée</li>
              </ul>
            </article>
            <article class="destination-card">
              <h3>CREPS d'Aix-en-Provence</h3>
              <p>Infrastructures méditerranéennes, jeu sur terre battue et conditions météo idéales.</p>
              <ul>
                <li>Programme technique sur terre battue</li>
                <li>Accès fitness &amp; cross-training</li>
                <li>Hôtel partenaire 4★ à proximité</li>
              </ul>
            </article>
            <article class="destination-card">
              <h3>Domaine des Landes Girondines</h3>
              <p>Immersion nature avec courts au cœur de la pinède, hébergements premium et activités outdoor.</p>
              <ul>
                <li>Résidences haut de gamme</li>
                <li>Activités plage &amp; golf</li>
                <li>Coaching individuel chaque soir</li>
              </ul>
            </article>
            <article class="destination-card">
              <h3>Cabourg</h3>
              <p>Ambiance bord de mer, tournoi interne en nocturne et préparation physique sur la plage.</p>
              <ul>
                <li>Courts en dur et terre battue</li>
                <li>Accès centre thalasso partenaire</li>
                <li>Navette gare &amp; hébergement 4★</li>
              </ul>
            </article>
          </div>
        </div>
      </section>

      <section class="reservation-section" id="methodologie">
        <div class="reservation-section__inner">
          <span class="section-eyebrow">Méthodologie</span>
          <h2>Un déroulé clair du lundi au samedi</h2>
          <p class="lead">
            Chaque stage est orchestré par nos directeurs techniques Tennis Impact. Vous recevez avant votre arrivée un carnet de
            route détaillant les thèmes quotidiens et les horaires.
          </p>
          <div class="options-grid">
            <article class="option-card">
              <h3>Analyse individuelle</h3>
              <p>Bilans techniques filmés, feed-back quotidien et plan de progression remis en fin de semaine.</p>
              <ul>
                <li>Diagnostic vidéo jour 1 &amp; 5</li>
                <li>Suivi du ratio de matchs</li>
                <li>Échange tripartite joueur / coach / parents</li>
              </ul>
            </article>
            <article class="option-card">
              <h3>Préparation physique</h3>
              <p>Sessions ciblées mobilité, explosivité et prévention des blessures avec nos préparateurs.</p>
              <ul>
                <li>Tests d'entrée individualisés</li>
                <li>Programme à emporter</li>
                <li>Ateliers récupération et nutrition</li>
              </ul>
            </article>
            <article class="option-card">
              <h3>Accompagnement mental</h3>
              <p>Coaching mental quotidien : routines d'avant-match, gestion du stress et visualisation.</p>
              <ul>
                <li>Ateliers collectifs &amp; briefs individuels</li>
                <li>Suivi par nos préparateurs certifiés</li>
                <li>Fiches d'outils personnalisées</li>
              </ul>
            </article>
          </div>
        </div>
      </section>

      <section class="reservation-section" id="options">
        <div class="reservation-section__inner">
          <span class="section-eyebrow">Options et services</span>
          <h2>Personnalisez votre expérience</h2>
          <p class="lead">
            Ajoutez l'hébergement, le transport ou des séances individuelles supplémentaires depuis le formulaire. Chaque option
            est affichée dans votre panier pour une parfaite transparence.
          </p>
          <div class="options-grid">
            <article class="option-card">
              <h3>Hébergement premium</h3>
              <p>Chambres twin ou individuelles dans nos résidences partenaires avec encadrement 24/24.</p>
              <ul>
                <li>Pension complète équilibrée</li>
                <li>Accompagnateurs Tennis Impact</li>
                <li>Veillées thématiques et sécurité</li>
              </ul>
            </article>
            <article class="option-card">
              <h3>Transport officiel</h3>
              <p>Navettes depuis la gare ou l'aéroport, transferts vers les courts et assistance bagages.</p>
              <ul>
                <li>Accueil personnalisé</li>
                <li>Conducteurs certifiés</li>
                <li>Trajets retours planifiés</li>
              </ul>
            </article>
            <article class="option-card">
              <h3>Coaching individualisé</h3>
              <p>Séances privées supplémentaires en soirée ou tôt le matin pour travailler un axe précis.</p>
              <ul>
                <li>Analyse biomécanique</li>
                <li>Préparation tactique match</li>
                <li>Rapport détaillé remis sous 48h</li>
              </ul>
            </article>
          </div>
        </div>
      </section>

      <section class="reservation-section" id="faq">
        <div class="reservation-section__inner">
          <span class="section-eyebrow">FAQ</span>
          <h2>Questions les plus fréquentes</h2>
          <div class="faq-grid">
            <details class="faq-item">
              <summary>Comment confirmer la réservation après avoir rempli le panier ?</summary>
              <p>
                Une fois votre panier complété, validez le formulaire. Notre équipe reçoit votre demande immédiatement et vous
                recontacte sous 24h pour la signature du contrat et le versement de l'acompte.
              </p>
            </details>
            <details class="faq-item">
              <summary>Peut-on réserver plusieurs semaines ou ajouter un membre de la fratrie ?</summary>
              <p>
                Oui, ajoutez autant de stages que nécessaire dans votre panier en sélectionnant les semaines et options pour
                chaque participant. Les totaux sont mis à jour automatiquement.
              </p>
            </details>
            <details class="faq-item">
              <summary>Les options hébergement et transport sont-elles obligatoires ?</summary>
              <p>
                Non, vous pouvez réserver uniquement la partie sportive. Les options « Hébergement » et « Transport » se
                cochent indépendamment depuis le formulaire popup.
              </p>
            </details>
            <details class="faq-item">
              <summary>Quels moyens de paiement acceptez-vous ?</summary>
              <p>
                Après validation de votre dossier, nous envoyons un lien de paiement sécurisé (CB, virement) ainsi que les
                documents nécessaires. Aucun règlement n'est demandé sur cette page.
              </p>
            </details>
          </div>
        </div>
      </section>
    </main>

    <button class="floating-cart" type="button" data-cart-trigger>
      <span>Panier</span>
      <span data-cart-count>0</span>
    </button>

    <div class="reservation-modal" id="booking-modal" hidden>
      <div class="reservation-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="booking-title">
        <button class="modal-close" type="button" data-close-modal aria-label="Fermer la fenêtre">×</button>
        <div class="reservation-modal__header">
          <p id="booking-eyebrow" class="section-eyebrow" style="margin-bottom: 12px"></p>
          <h3 id="booking-title"></h3>
          <p id="booking-location"></p>
        </div>
        <div class="reservation-modal__body">
          <form class="reservation-form" id="booking-form">
            <input type="hidden" name="stageId" id="booking-stage-id" />
            <div class="form-grid">
              <div class="form-field">
                <label for="booking-week">Semaine souhaitée</label>
                <select id="booking-week" name="week" required></select>
              </div>
              <div class="form-field">
                <label for="booking-participants">Nombre de participants</label>
                <input id="booking-participants" name="participants" type="number" min="1" value="1" required />
              </div>
              <div class="form-field">
                <label for="booking-name">Nom &amp; prénom du participant</label>
                <input id="booking-name" name="name" type="text" autocomplete="name" required />
              </div>
              <div class="form-field">
                <label for="booking-age">Âge du participant</label>
                <input id="booking-age" name="age" type="number" min="5" max="99" />
              </div>
              <div class="form-field">
                <label for="booking-email">Email de contact</label>
                <input id="booking-email" name="email" type="email" autocomplete="email" required />
              </div>
              <div class="form-field">
                <label for="booking-phone">Téléphone</label>
                <input id="booking-phone" name="phone" type="tel" autocomplete="tel" />
              </div>
            </div>

            <div class="option-toggle">
              <label for="booking-lodging">
                <strong>Hébergement premium</strong>
                Nuitées, pension complète et encadrement 24/24.
              </label>
              <input id="booking-lodging" name="lodging" type="checkbox" />
            </div>
            <div class="option-toggle">
              <label for="booking-transport">
                <strong>Transport officiel</strong>
                Navettes aller/retour et transferts vers les courts.
              </label>
              <input id="booking-transport" name="transport" type="checkbox" />
            </div>

            <div class="form-field">
              <label for="booking-message">Informations complémentaires</label>
              <textarea id="booking-message" name="message" placeholder="Besoin d'une navette spécifique, régime alimentaire,
 ou autre demande..."></textarea>
            </div>

            <div class="form-summary">
              <span>Total estimé</span>
              <strong id="booking-total">0 €</strong>
            </div>

            <div class="form-actions">
              <button class="btn-secondary" type="button" data-close-modal>Annuler</button>
              <button class="btn-primary" type="submit">Ajouter au panier</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div class="reservation-modal" id="cart-modal" hidden>
      <div class="reservation-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="cart-title">
        <button class="modal-close" type="button" data-close-modal aria-label="Fermer le panier">×</button>
        <div class="reservation-modal__header">
          <span class="section-eyebrow" style="margin-bottom: 12px">Votre panier</span>
          <h3 id="cart-title">Résumé de votre sélection</h3>
          <p>Modifiez vos semaines, ajoutez des options ou finalisez votre demande de réservation.</p>
        </div>
        <div class="reservation-modal__body">
          <div id="cart-list" class="cart-list" role="list"></div>
          <div class="form-summary">
            <span>Total provisoire</span>
            <strong id="cart-total">0 €</strong>
          </div>
          <div class="form-actions">
            <button class="btn-secondary" type="button" data-close-modal>Continuer mes choix</button>
            <button class="btn-primary" type="button" id="cart-submit">Envoyer ma demande</button>
          </div>
        </div>
      </div>
    </div>

    <script>
      const weeks = [
        {
          id: '2024-07-08',
          label: 'Semaine du 8 au 13 juillet',
          shortLabel: '8 → 13 juillet',
          description: 'Ouverture estivale : lancement technique et matches d’évaluation.',
          locations: ['Poitiers', 'Toulouse', 'Aix-en-Provence'],
          spots: 12
        },
        {
          id: '2024-07-15',
          label: 'Semaine du 15 au 20 juillet',
          shortLabel: '15 → 20 juillet',
          description: 'Bloc intensif compétition avec tournois homologués en fin de semaine.',
          locations: ['Poitiers', 'Domaine des Landes Girondines', 'Cabourg'],
          spots: 9
        },
        {
          id: '2024-07-22',
          label: 'Semaine du 22 au 27 juillet',
          shortLabel: '22 → 27 juillet',
          description: 'Préparation tactique et coaching vidéo quotidien sur les cinq sites.',
          locations: ['Poitiers', 'Toulouse', 'Aix-en-Provence', 'Cabourg'],
          spots: 6
        },
        {
          id: '2024-07-29',
          label: 'Semaine du 29 juillet au 3 août',
          shortLabel: '29 juillet → 3 août',
          description: 'Stage intensif mi-saison avec focus préparation physique & mental.',
          locations: ['Poitiers', 'Toulouse', 'Domaine des Landes Girondines'],
          spots: 8
        },
        {
          id: '2024-08-05',
          label: 'Semaine du 5 au 10 août',
          shortLabel: '5 → 10 août',
          description: 'Semaine familles & fratries avec activités plage, golf et tournois internes.',
          locations: ['Domaine des Landes Girondines', 'Cabourg'],
          spots: 10
        },
        {
          id: '2024-08-12',
          label: 'Semaine du 12 au 17 août',
          shortLabel: '12 → 17 août',
          description: 'Pré-rentrée tournoi : préparation spécifique avant la reprise FFT.',
          locations: ['Poitiers', 'Aix-en-Provence', 'Cabourg'],
          spots: 4
        }
      ];

      const stageCatalog = [
        {
          id: 'performance',
          category: 'Compétition',
          title: 'Stage Performance Jeunes',
          location: 'CREPS de Poitiers',
          description: 'Programme intensif pour compétiteurs 12-18 ans avec coaching vidéo et matchs homologués.',
          price: 890,
          lodgingPrice: 470,
          transportPrice: 160,
          tags: ['Analyse vidéo', 'Tournoi FFT', 'Prépa physique'],
          weeks: ['2024-07-08', '2024-07-15', '2024-07-22', '2024-07-29', '2024-08-12']
        },
        {
          id: 'elite',
          category: 'Haut niveau',
          title: 'Tournée Elite & Tournois',
          location: 'CREPS de Toulouse',
          description: 'Encadrement par nos coaches nationaux avec participation à 2 tournois officiels et suivi mental quotidien.',
          price: 990,
          lodgingPrice: 520,
          transportPrice: 180,
          tags: ['Préparateur mental', 'Suivi biomécanique', 'Matches filmés'],
          weeks: ['2024-07-08', '2024-07-22', '2024-07-29']
        },
        {
          id: 'premium-family',
          category: 'Familles',
          title: 'Expérience Premium Famille',
          location: 'Domaine des Landes Girondines',
          description: 'Une semaine en résidence haut de gamme avec programme tennis enfants & parents, activités plage et golf.',
          price: 740,
          lodgingPrice: 520,
          transportPrice: 140,
          tags: ['Résidence 4★', 'Activités plage', 'Coaching parents'],
          weeks: ['2024-07-15', '2024-07-29', '2024-08-05']
        },
        {
          id: 'intensif-aix',
          category: 'Technique',
          title: 'Immersion Terre Battue',
          location: 'CREPS d\'Aix-en-Provence',
          description: 'Volume d’entraînement élevé sur terre battue, routines tactiques et préparation physique personnalisée.',
          price: 860,
          lodgingPrice: 480,
          transportPrice: 150,
          tags: ['Terre battue', 'Plan tactique', 'Prépa physique'],
          weeks: ['2024-07-08', '2024-07-22', '2024-08-12']
        },
        {
          id: 'cabourg-competition',
          category: 'Compétition',
          title: 'Stage Bord de Mer & Tournoi',
          location: 'Cabourg',
          description: 'Coaching quotidien, tournoi nocturne et préparation physique sur la plage pour une expérience unique.',
          price: 820,
          lodgingPrice: 450,
          transportPrice: 130,
          tags: ['Nocturnes', 'Prépa plage', 'Coaching perso'],
          weeks: ['2024-07-15', '2024-07-22', '2024-08-05', '2024-08-12']
        }
      ];

      const weeksMap = new Map(weeks.map((week) => [week.id, week]));
      const stagesMap = new Map(stageCatalog.map((stage) => [stage.id, stage]));
      let selectedWeekId = weeks.length ? weeks[0].id : null;
      const cart = [];

      const formatCurrency = (value) =>
        new Intl.NumberFormat('fr-FR', { style: 'currency', currency: 'EUR', maximumFractionDigits: 0 }).format(value);

      const calendarGrid = document.getElementById('calendarGrid');
      const calendarSummary = document.getElementById('calendarSummary');
      const stageGrid = document.getElementById('stageGrid');
      const bookingModal = document.getElementById('booking-modal');
      const cartModal = document.getElementById('cart-modal');
      const bookingForm = document.getElementById('booking-form');
      const bookingWeekSelect = document.getElementById('booking-week');
      const bookingParticipants = document.getElementById('booking-participants');
      const bookingLodging = document.getElementById('booking-lodging');
      const bookingTransport = document.getElementById('booking-transport');
      const bookingTotal = document.getElementById('booking-total');
      const bookingStageId = document.getElementById('booking-stage-id');
      const bookingTitle = document.getElementById('booking-title');
      const bookingLocation = document.getElementById('booking-location');
      const bookingEyebrow = document.getElementById('booking-eyebrow');
      const cartList = document.getElementById('cart-list');
      const cartTotal = document.getElementById('cart-total');
      const cartSubmit = document.getElementById('cart-submit');
      const cartCountBadges = document.querySelectorAll('[data-cart-count]');
      const cartTriggers = document.querySelectorAll('[data-cart-trigger]');

      const renderCalendar = () => {
        calendarGrid.innerHTML = weeks
          .map((week) => {
            const isSelected = week.id === selectedWeekId;
            return `
              <button class="calendar-week${isSelected ? ' is-active' : ''}" type="button" data-week="${week.id}" aria-pressed="${isSelected ? 'true' : 'false'}">
                <span class="calendar-week__label">${week.label}</span>
                <span class="calendar-week__locations">${week.locations.join(' • ')}</span>
                <span class="calendar-week__status">${week.spots > 0 ? `${week.spots} places restantes` : 'Complet'}</span>
              </button>
            `;
          })
          .join('');
      };

      const updateCalendarSummary = () => {
        const week = weeksMap.get(selectedWeekId);
        if (!week) {
          calendarSummary.innerHTML = `
            <div class="calendar-summary__card">
              <strong>Vos disponibilités</strong>
              <p>Sélectionnez une semaine pour afficher les lieux et les stages proposés.</p>
            </div>
          `;
          return;
        }

        const stages = stageCatalog.filter((stage) => stage.weeks.includes(week.id));
        calendarSummary.innerHTML = `
          <div class="calendar-summary__card">
            <strong>${week.label}</strong>
            <p>${week.description}</p>
          </div>
          <div class="calendar-summary__card">
            <strong>Stages disponibles</strong>
            <ul class="calendar-summary__list">
              ${stages
                .map(
                  (stage) =>
                    `<li><strong>${stage.title}</strong> — ${stage.location} • ${formatCurrency(stage.price)}</li>`
                )
                .join('')}
            </ul>
          </div>
        `;
      };

      const renderStageCards = () => {
        stageGrid.innerHTML = stageCatalog
          .map((stage) => {
            const weekLabels = stage.weeks.map((id) => weeksMap.get(id)?.shortLabel ?? '').filter(Boolean).join(' • ');
            const tags = stage.tags.map((tag) => `<span class="stage-card__tag">${tag}</span>`).join('');
            return `
              <article class="stage-card">
                <div class="stage-card__header">
                  <span class="stage-card__eyebrow">${stage.category}</span>
                  <h3>${stage.title}</h3>
                  <p class="stage-card__location">${stage.location}</p>
                </div>
                <p class="stage-card__description">${stage.description}</p>
                <div class="stage-card__tags">${tags}</div>
                <div class="stage-card__footer">
                  <span class="stage-card__price">${formatCurrency(stage.price)}</span>
                  <span class="stage-card__weeks">${weekLabels}</span>
                  <button class="btn-primary" type="button" data-book-stage="${stage.id}">Réserver</button>
                </div>
              </article>
            `;
          })
          .join('');
      };

      const openModal = (modal) => {
        modal.removeAttribute('hidden');
        document.body.style.overflow = 'hidden';
      };

      const closeModal = (modal) => {
        modal.setAttribute('hidden', '');
        document.body.style.overflow = '';
        if (modal === bookingModal) {
          bookingForm.reset();
          bookingTotal.textContent = formatCurrency(0);
        }
      };

      const calculateBookingTotal = () => {
        const stage = stagesMap.get(bookingStageId.value);
        if (!stage) return 0;
        const participants = Math.max(1, Number(bookingParticipants.value) || 1);
        let total = stage.price;
        if (bookingLodging.checked) total += stage.lodgingPrice;
        if (bookingTransport.checked) total += stage.transportPrice;
        return total * participants;
      };

      const updateBookingTotal = () => {
        bookingTotal.textContent = formatCurrency(calculateBookingTotal());
      };

      const populateBookingWeeks = (stage) => {
        bookingWeekSelect.innerHTML = stage.weeks
          .map((id) => {
            const week = weeksMap.get(id);
            if (!week) return '';
            const selected = selectedWeekId && selectedWeekId === id;
            return `<option value="${week.id}" ${selected ? 'selected' : ''}>${week.label}</option>`;
          })
          .join('');
        if (!bookingWeekSelect.value && stage.weeks.length > 0) {
          bookingWeekSelect.value = stage.weeks[0];
        }
      };

      const openBookingModal = (stageId) => {
        const stage = stagesMap.get(stageId);
        if (!stage) return;
        bookingStageId.value = stage.id;
        bookingTitle.textContent = stage.title;
        bookingLocation.textContent = stage.location;
        bookingEyebrow.textContent = stage.category;
        populateBookingWeeks(stage);
        bookingParticipants.value = 1;
        bookingLodging.checked = false;
        bookingTransport.checked = false;
        updateBookingTotal();
        openModal(bookingModal);
        bookingWeekSelect.focus();
      };

      const updateCartUI = () => {
        cartList.innerHTML = '';
        if (!cart.length) {
          cartList.innerHTML = '<p class="cart-empty">Votre panier est vide pour le moment.</p>';
        } else {
          cart.forEach((item, index) => {
            const options = [];
            if (item.lodging) options.push('Hébergement');
            if (item.transport) options.push('Transport');
            const optionLabel = options.length ? options.join(' + ') : 'Sans option';
            cartList.insertAdjacentHTML(
              'beforeend',
              `
                <article class="cart-item" data-index="${index}">
                  <div class="cart-item__header">
                    <span class="cart-item__title">${item.stageTitle}</span>
                    <button class="btn-secondary" type="button" data-remove-index="${index}">Retirer</button>
                  </div>
                  <div class="cart-item__meta">${item.weekLabel} • ${item.location}</div>
                  <div class="cart-item__meta">${item.participants} participant(s) — ${optionLabel}</div>
                  <div class="cart-item__footer">
                    <span class="cart-item__price">${formatCurrency(item.total)}</span>
                  </div>
                </article>
              `
            );
          });
        }

        const total = cart.reduce((sum, item) => sum + item.total, 0);
        cartTotal.textContent = formatCurrency(total);
        cartCountBadges.forEach((badge) => (badge.textContent = cart.length));
      };

      const showToast = (message) => {
        const toast = document.createElement('div');
        toast.className = 'toast';
        toast.textContent = message;
        document.body.appendChild(toast);
        setTimeout(() => {
          toast.style.opacity = '0';
          toast.style.transform = 'translate(-50%, 12px)';
          setTimeout(() => toast.remove(), 250);
        }, 2500);
      };

      calendarGrid.addEventListener('click', (event) => {
        const button = event.target.closest('[data-week]');
        if (!button) return;
        selectedWeekId = button.dataset.week;
        renderCalendar();
        updateCalendarSummary();
      });

      stageGrid.addEventListener('click', (event) => {
        const button = event.target.closest('[data-book-stage]');
        if (!button) return;
        openBookingModal(button.dataset.bookStage);
      });

      document.querySelectorAll('[data-book-stage]').forEach((button) => {
        button.addEventListener('click', () => openBookingModal(button.dataset.bookStage));
      });

      document.querySelectorAll('[data-close-modal]').forEach((button) => {
        button.addEventListener('click', () => {
          const modal = button.closest('.reservation-modal');
          if (modal) closeModal(modal);
        });
      });

      [bookingModal, cartModal].forEach((modal) => {
        modal.addEventListener('click', (event) => {
          if (event.target === modal) closeModal(modal);
        });
      });

      document.addEventListener('keydown', (event) => {
        if (event.key === 'Escape') {
          if (!bookingModal.hasAttribute('hidden')) closeModal(bookingModal);
          if (!cartModal.hasAttribute('hidden')) closeModal(cartModal);
        }
      });

      [bookingParticipants, bookingLodging, bookingTransport].forEach((field) =>
        field.addEventListener('input', updateBookingTotal)
      );

      bookingForm.addEventListener('submit', (event) => {
        event.preventDefault();
        const stage = stagesMap.get(bookingStageId.value);
        if (!stage) return;
        const week = weeksMap.get(bookingWeekSelect.value);
        const item = {
          stageId: stage.id,
          stageTitle: stage.title,
          location: stage.location,
          weekId: week?.id ?? '',
          weekLabel: week?.label ?? 'Semaine à confirmer',
          participants: Math.max(1, Number(bookingParticipants.value) || 1),
          lodging: bookingLodging.checked,
          transport: bookingTransport.checked,
          total: calculateBookingTotal()
        };
        cart.push(item);
        updateCartUI();
        showToast('Stage ajouté au panier');
        closeModal(bookingModal);
      });

      cartList.addEventListener('click', (event) => {
        const button = event.target.closest('[data-remove-index]');
        if (!button) return;
        const index = Number(button.dataset.removeIndex);
        cart.splice(index, 1);
        updateCartUI();
        showToast('Stage retiré du panier');
      });

      cartSubmit.addEventListener('click', () => {
        if (!cart.length) {
          showToast('Ajoutez un stage avant de finaliser');
          return;
        }
        closeModal(cartModal);
        showToast('Votre demande a bien été transmise. Nous vous recontactons sous 24h.');
      });

      cartTriggers.forEach((trigger) => trigger.addEventListener('click', () => openModal(cartModal)));

      const navToggle = document.querySelector('.nav-toggle');
      const navLinks = document.getElementById('site-nav');
      const body = document.body;

      if (navToggle && navLinks) {
        const toggleMenu = (open) => {
          const shouldOpen = open ?? !navToggle.classList.contains('is-open');
          navToggle.classList.toggle('is-open', shouldOpen);
          navToggle.setAttribute('aria-expanded', shouldOpen ? 'true' : 'false');
          navLinks.classList.toggle('open', shouldOpen);
          body.classList.toggle('menu-open', shouldOpen);
        };

        navToggle.addEventListener('click', () => toggleMenu());
        navLinks.querySelectorAll('a').forEach((link) => link.addEventListener('click', () => toggleMenu(false)));
        window.addEventListener('resize', () => {
          if (window.innerWidth > 860) toggleMenu(false);
        });
      }

      const sectionLinks = document.querySelectorAll('.reservation-tabs__inner a');
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              sectionLinks.forEach((link) =>
                link.classList.toggle('is-active', link.getAttribute('href').slice(1) === entry.target.id)
              );
            }
          });
        },
        { rootMargin: '-60% 0px -35% 0px', threshold: 0 }
      );

      document.querySelectorAll('main section[id]').forEach((section) => observer.observe(section));

      const init = () => {
        renderCalendar();
        updateCalendarSummary();
        renderStageCards();
        updateCartUI();
      };

      init();
    </script>
  </body>
</html>
            <div class="reservation-hero__metrics">
              <div class="reservation-hero__metric">
                <strong>5 lieux</strong>
                <span>CREPS de Poitiers, Toulouse, Aix-en-Provence, Domaine des Landes Girondines et Cabourg.</span>
              </div>
              <div class="reservation-hero__metric">
                <strong>30h / semaine</strong>
                <span>Entraînement tennis, préparation physique et ateliers tactiques pour progresser vite.</span>
              </div>
              <div class="reservation-hero__metric">
                <strong>Encadrement FFT</strong>
                <span>Coachs experts, ratio serré et suivi personnalisé pour chaque joueur.</span>
              </div>
            </div>
            <div class="reservation-hero__actions">
              <button class="btn-primary" data-book-stage="performance" type="button">Réserver un stage</button>
              <button class="btn-secondary" data-cart-trigger type="button">Voir le panier</button>
            </div>
          </div>
          <aside class="reservation-hero__card" aria-label="Points forts de l'expérience">
            <h3>Votre dossier de réservation</h3>
            <p>Rassemblez toutes les informations nécessaires avant la validation finale de votre stage.</p>
            <ul class="reservation-hero__list">
              <li>Calendrier actualisé avec les disponibilités par site.</li>
              <li>Panier récapitulatif intelligent et modifiable en temps réel.</li>
              <li>Formulaire premium avec options « hébergement » et « transport ».</li>
              <li>Confirmation directe envoyée à notre équipe Tennis Impact.</li>
            </ul>
            <button class="btn-primary" data-book-stage="performance" type="button">Commencer la réservation</button>
          </aside>
        </div>
      </section>

      <div class="reservation-tabs" aria-label="Navigation de la page">
        <div class="reservation-tabs__inner">
          <a href="#calendrier">Calendrier</a>
          <a href="#stages">Stages</a>
          <a href="#destinations">Destinations</a>
          <a href="#methodologie">Méthodologie</a>
          <a href="#options">Options</a>
          <a href="#faq">FAQ</a>
        </div>
      </div>

      <section class="reservation-section" id="calendrier">
        <div class="reservation-section__inner">
          <span class="section-eyebrow">Calendrier interactif</span>
          <h2>Choisissez votre semaine de stage</h2>
          <p class="lead">
            Chaque créneau ouvre un volume de places limitées pour garantir une immersion haut de gamme. Sélectionnez votre
            semaine pour découvrir les disponibilités et les lieux proposés.
          </p>
          <div class="calendar-layout">
            <div class="calendar-card">
              <div class="calendar-grid" id="calendarGrid" role="listbox" aria-label="Semaines disponibles"></div>
            </div>
            <div class="calendar-summary" id="calendarSummary">
              <div class="calendar-summary__card">
                <strong>Vos disponibilités</strong>
                <p>Sélectionnez une semaine pour afficher les lieux et les stages proposés.</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="reservation-section" id="stages">
        <div class="reservation-section__inner">
          <span class="section-eyebrow">Catalogue premium</span>
          <h2>Des stages pensés pour chaque profil</h2>
          <p class="lead">
            Du perfectionnement intensif à la tournée compétition en passant par l'expérience famille, composez un programme
            adapté avec les options de confort qui vous conviennent.
          </p>
          <div class="stage-grid" id="stageGrid"></div>
        </div>
      </section>

      <section class="reservation-section" id="destinations">
        <div class="reservation-section__inner">
          <span class="section-eyebrow">Destinations 2024</span>
          <h2>Des infrastructures d'exception</h2>
          <p class="lead">
            Les sites sélectionnés offrent chacun une identité forte : surfaces variées, hébergements qualitatifs et espaces bien-
            être pour récupérer dans les meilleures conditions.
          </p>
          <div class="destinations-grid">
            <article class="destination-card">
              <h3>CREPS de Poitiers</h3>
              <p>Centre d'entraînement complet avec courts couverts, salle vidéo et restauration sportive.</p>
              <ul>
                <li>10 courts extérieurs &amp; 6 couverts</li>
                <li>Espace récupération et cryothérapie</li>
                <li>Chambres rénovées sur site</li>
              </ul>
            </article>
            <article class="destination-card">
              <h3>CREPS de Toulouse</h3>
              <p>Atmosphère performance avec staff médical et préparation mentale sur place.</p>
              <ul>
                <li>Suivi biomécanique individuel</li>
                <li>Piscine pour récupération active</li>
                <li>Restauration diététique dédiée</li>
              </ul>
            </article>
            <article class="destination-card">
              <h3>CREPS d'Aix-en-Provence</h3>
              <p>Infrastructures méditerranéennes, jeu sur terre battue et conditions météo idéales.</p>
              <ul>
                <li>Programme technique sur terre battue</li>
                <li>Accès fitness &amp; cross-training</li>
                <li>Hôtel partenaire 4★ à proximité</li>
              </ul>
            </article>
            <article class="destination-card">
              <h3>Domaine des Landes Girondines</h3>
              <p>Immersion nature avec courts au cœur de la pinède, hébergements premium et activités outdoor.</p>
              <ul>
                <li>Résidences haut de gamme</li>
                <li>Activités plage &amp; golf</li>
                <li>Coaching individuel chaque soir</li>
              </ul>
            </article>
            <article class="destination-card">
              <h3>Cabourg</h3>
              <p>Ambiance bord de mer, tournoi interne en nocturne et préparation physique sur la plage.</p>
              <ul>
                <li>Courts en dur et terre battue</li>
                <li>Accès centre thalasso partenaire</li>
                <li>Navette gare &amp; hébergement 4★</li>
              </ul>
            </article>
          </div>
        </div>
      </section>

      <section class="reservation-section" id="methodologie">
        <div class="reservation-section__inner">
          <span class="section-eyebrow">Méthodologie</span>
          <h2>Un déroulé clair du lundi au samedi</h2>
          <p class="lead">
            Chaque stage est orchestré par nos directeurs techniques Tennis Impact. Vous recevez avant votre arrivée un carnet de
            route détaillant les thèmes quotidiens et les horaires.
          </p>
          <div class="options-grid">
            <article class="option-card">
              <h3>Analyse individuelle</h3>
              <p>Bilans techniques filmés, feed-back quotidien et plan de progression remis en fin de semaine.</p>
              <ul>
                <li>Diagnostic vidéo jour 1 &amp; 5</li>
                <li>Suivi du ratio de matchs</li>
                <li>Échange tripartite joueur / coach / parents</li>
              </ul>
            </article>
            <article class="option-card">
              <h3>Préparation physique</h3>
              <p>Sessions ciblées mobilité, explosivité et prévention des blessures avec nos préparateurs.</p>
              <ul>
                <li>Tests d'entrée individualisés</li>
                <li>Programme à emporter</li>
                <li>Ateliers récupération et nutrition</li>
              </ul>
            </article>
            <article class="option-card">
              <h3>Accompagnement mental</h3>
              <p>Coaching mental quotidien : routines d'avant-match, gestion du stress et visualisation.</p>
              <ul>
                <li>Ateliers collectifs &amp; briefs individuels</li>
                <li>Suivi par nos préparateurs certifiés</li>
                <li>Fiches d'outils personnalisées</li>
              </ul>
            </article>
          </div>
        </div>
      </section>

      <section class="reservation-section" id="options">
        <div class="reservation-section__inner">
          <span class="section-eyebrow">Options et services</span>
          <h2>Personnalisez votre expérience</h2>
          <p class="lead">
            Ajoutez l'hébergement, le transport ou des séances individuelles supplémentaires depuis le formulaire. Chaque option
            est affichée dans votre panier pour une parfaite transparence.
          </p>
          <div class="options-grid">
            <article class="option-card">
              <h3>Hébergement premium</h3>
              <p>Chambres twin ou individuelles dans nos résidences partenaires avec encadrement 24/24.</p>
              <ul>
                <li>Pension complète équilibrée</li>
                <li>Accompagnateurs Tennis Impact</li>
                <li>Veillées thématiques et sécurité</li>
              </ul>
            </article>
            <article class="option-card">
              <h3>Transport officiel</h3>
              <p>Navettes depuis la gare ou l'aéroport, transferts vers les courts et assistance bagages.</p>
              <ul>
                <li>Accueil personnalisé</li>
                <li>Conducteurs certifiés</li>
                <li>Trajets retours planifiés</li>
              </ul>
            </article>
            <article class="option-card">
              <h3>Coaching individualisé</h3>
              <p>Séances privées supplémentaires en soirée ou tôt le matin pour travailler un axe précis.</p>
              <ul>
                <li>Analyse biomécanique</li>
                <li>Préparation tactique match</li>
                <li>Rapport détaillé remis sous 48h</li>
              </ul>
            </article>
          </div>
        </div>
      </section>

      <section class="reservation-section" id="faq">
        <div class="reservation-section__inner">
          <span class="section-eyebrow">FAQ</span>
          <h2>Questions les plus fréquentes</h2>
          <div class="faq-grid">
            <details class="faq-item">
              <summary>Comment confirmer la réservation après avoir rempli le panier ?</summary>
              <p>
                Une fois votre panier complété, validez le formulaire. Notre équipe reçoit votre demande immédiatement et vous
                recontacte sous 24h pour la signature du contrat et le versement de l'acompte.
              </p>
            </details>
            <details class="faq-item">
              <summary>Peut-on réserver plusieurs semaines ou ajouter un membre de la fratrie ?</summary>
              <p>
                Oui, ajoutez autant de stages que nécessaire dans votre panier en sélectionnant les semaines et options pour
                chaque participant. Les totaux sont mis à jour automatiquement.
              </p>
            </details>
            <details class="faq-item">
              <summary>Les options hébergement et transport sont-elles obligatoires ?</summary>
              <p>
                Non, vous pouvez réserver uniquement la partie sportive. Les options « Hébergement » et « Transport » se
                cochent indépendamment depuis le formulaire popup.
              </p>
            </details>
            <details class="faq-item">
              <summary>Quels moyens de paiement acceptez-vous ?</summary>
              <p>
                Après validation de votre dossier, nous envoyons un lien de paiement sécurisé (CB, virement) ainsi que les
                documents nécessaires. Aucun règlement n'est demandé sur cette page.
              </p>
            </details>
          </div>
        </div>
      </section>
    </main>

    <button class="floating-cart" type="button" data-cart-trigger>
      <span>Panier</span>
      <span data-cart-count>0</span>
    </button>

    <div class="reservation-modal" id="booking-modal" hidden>
      <div class="reservation-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="booking-title">
        <button class="modal-close" type="button" data-close-modal aria-label="Fermer la fenêtre">×</button>
        <div class="reservation-modal__header">
          <p id="booking-eyebrow" class="section-eyebrow" style="margin-bottom: 12px"></p>
          <h3 id="booking-title"></h3>
          <p id="booking-location"></p>
        </div>
        <div class="reservation-modal__body">
          <form class="reservation-form" id="booking-form">
            <input type="hidden" name="stageId" id="booking-stage-id" />
            <div class="form-grid">
              <div class="form-field">
                <label for="booking-week">Semaine souhaitée</label>
                <select id="booking-week" name="week" required></select>
              </div>
              <div class="form-field">
                <label for="booking-participants">Nombre de participants</label>
                <input id="booking-participants" name="participants" type="number" min="1" value="1" required />
              </div>
              <div class="form-field">
                <label for="booking-name">Nom &amp; prénom du participant</label>
                <input id="booking-name" name="name" type="text" autocomplete="name" required />
              </div>
              <div class="form-field">
                <label for="booking-age">Âge du participant</label>
                <input id="booking-age" name="age" type="number" min="5" max="99" />
              </div>
              <div class="form-field">
                <label for="booking-email">Email de contact</label>
                <input id="booking-email" name="email" type="email" autocomplete="email" required />
              </div>
              <div class="form-field">
                <label for="booking-phone">Téléphone</label>
                <input id="booking-phone" name="phone" type="tel" autocomplete="tel" />
              </div>
            </div>

            <div class="option-toggle">
              <label for="booking-lodging">
                <strong>Hébergement premium</strong>
                Nuitées, pension complète et encadrement 24/24.
              </label>
              <input id="booking-lodging" name="lodging" type="checkbox" />
            </div>
            <div class="option-toggle">
              <label for="booking-transport">
                <strong>Transport officiel</strong>
                Navettes aller/retour et transferts vers les courts.
              </label>
              <input id="booking-transport" name="transport" type="checkbox" />
            </div>

            <div class="form-field">
              <label for="booking-message">Informations complémentaires</label>
              <textarea id="booking-message" name="message" placeholder="Besoin d'une navette spécifique, régime alimentaire,
 ou autre demande..."></textarea>
            </div>

            <div class="form-summary">
              <span>Total estimé</span>
              <strong id="booking-total">0 €</strong>
            </div>

            <div class="form-actions">
              <button class="btn-secondary" type="button" data-close-modal>Annuler</button>
              <button class="btn-primary" type="submit">Ajouter au panier</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div class="reservation-modal" id="cart-modal" hidden>
      <div class="reservation-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="cart-title">
        <button class="modal-close" type="button" data-close-modal aria-label="Fermer le panier">×</button>
        <div class="reservation-modal__header">
          <span class="section-eyebrow" style="margin-bottom: 12px">Votre panier</span>
          <h3 id="cart-title">Résumé de votre sélection</h3>
          <p>Modifiez vos semaines, ajoutez des options ou finalisez votre demande de réservation.</p>
        </div>
        <div class="reservation-modal__body">
          <div id="cart-list" class="cart-list" role="list"></div>
          <div class="form-summary">
            <span>Total provisoire</span>
            <strong id="cart-total">0 €</strong>
          </div>
          <div class="form-actions">
            <button class="btn-secondary" type="button" data-close-modal>Continuer mes choix</button>
            <button class="btn-primary" type="button" id="cart-submit">Envoyer ma demande</button>
          </div>
        </div>
      </div>
    </div>

    <script>
      const weeks = [
        {
          id: '2024-07-08',
          label: 'Semaine du 8 au 13 juillet',
          shortLabel: '8 → 13 juillet',
          description: 'Ouverture estivale : lancement technique et matches d’évaluation.',
          locations: ['Poitiers', 'Toulouse', 'Aix-en-Provence'],
          spots: 12
        },
        {
          id: '2024-07-15',
          label: 'Semaine du 15 au 20 juillet',
          shortLabel: '15 → 20 juillet',
          description: 'Bloc intensif compétition avec tournois homologués en fin de semaine.',
          locations: ['Poitiers', 'Domaine des Landes Girondines', 'Cabourg'],
          spots: 9
        },
        {
          id: '2024-07-22',
          label: 'Semaine du 22 au 27 juillet',
          shortLabel: '22 → 27 juillet',
          description: 'Préparation tactique et coaching vidéo quotidien sur les cinq sites.',
          locations: ['Poitiers', 'Toulouse', 'Aix-en-Provence', 'Cabourg'],
          spots: 6
        },
        {
          id: '2024-07-29',
          label: 'Semaine du 29 juillet au 3 août',
          shortLabel: '29 juillet → 3 août',
          description: 'Stage intensif mi-saison avec focus préparation physique & mental.',
          locations: ['Poitiers', 'Toulouse', 'Domaine des Landes Girondines'],
          spots: 8
        },
        {
          id: '2024-08-05',
          label: 'Semaine du 5 au 10 août',
          shortLabel: '5 → 10 août',
          description: 'Semaine familles & fratries avec activités plage, golf et tournois internes.',
          locations: ['Domaine des Landes Girondines', 'Cabourg'],
          spots: 10
        },
        {
          id: '2024-08-12',
          label: 'Semaine du 12 au 17 août',
          shortLabel: '12 → 17 août',
          description: 'Pré-rentrée tournoi : préparation spécifique avant la reprise FFT.',
          locations: ['Poitiers', 'Aix-en-Provence', 'Cabourg'],
          spots: 4
        }
      ];

      const stageCatalog = [
        {
          id: 'performance',
          category: 'Compétition',
          title: 'Stage Performance Jeunes',
          location: 'CREPS de Poitiers',
          description: 'Programme intensif pour compétiteurs 12-18 ans avec coaching vidéo et matchs homologués.',
          price: 890,
          lodgingPrice: 470,
          transportPrice: 160,
          tags: ['Analyse vidéo', 'Tournoi FFT', 'Prépa physique'],
          weeks: ['2024-07-08', '2024-07-15', '2024-07-22', '2024-07-29', '2024-08-12']
        },
        {
          id: 'elite',
          category: 'Haut niveau',
          title: 'Tournée Elite & Tournois',
          location: 'CREPS de Toulouse',
          description: 'Encadrement par nos coaches nationaux avec participation à 2 tournois officiels et suivi mental quotidien.',
          price: 990,
          lodgingPrice: 520,
          transportPrice: 180,
          tags: ['Préparateur mental', 'Suivi biomécanique', 'Matches filmés'],
          weeks: ['2024-07-08', '2024-07-22', '2024-07-29']
        },
        {
          id: 'premium-family',
          category: 'Familles',
          title: 'Expérience Premium Famille',
          location: 'Domaine des Landes Girondines',
          description: 'Une semaine en résidence haut de gamme avec programme tennis enfants & parents, activités plage et golf.',
          price: 740,
          lodgingPrice: 520,
          transportPrice: 140,
          tags: ['Résidence 4★', 'Activités plage', 'Coaching parents'],
          weeks: ['2024-07-15', '2024-07-29', '2024-08-05']
        },
        {
          id: 'intensif-aix',
          category: 'Technique',
          title: 'Immersion Terre Battue',
          location: 'CREPS d\'Aix-en-Provence',
          description: 'Volume d’entraînement élevé sur terre battue, routines tactiques et préparation physique personnalisée.',
          price: 860,
          lodgingPrice: 480,
          transportPrice: 150,
          tags: ['Terre battue', 'Plan tactique', 'Prépa physique'],
          weeks: ['2024-07-08', '2024-07-22', '2024-08-12']
        },
        {
          id: 'cabourg-competition',
          category: 'Compétition',
          title: 'Stage Bord de Mer & Tournoi',
          location: 'Cabourg',
          description: 'Coaching quotidien, tournoi nocturne et préparation physique sur la plage pour une expérience unique.',
          price: 820,
          lodgingPrice: 450,
          transportPrice: 130,
          tags: ['Nocturnes', 'Prépa plage', 'Coaching perso'],
          weeks: ['2024-07-15', '2024-07-22', '2024-08-05', '2024-08-12']
        }
      ];

      const weeksMap = new Map(weeks.map((week) => [week.id, week]));
      const stagesMap = new Map(stageCatalog.map((stage) => [stage.id, stage]));
      let selectedWeekId = weeks.length ? weeks[0].id : null;
      const cart = [];

      const formatCurrency = (value) =>
        new Intl.NumberFormat('fr-FR', { style: 'currency', currency: 'EUR', maximumFractionDigits: 0 }).format(value);

      const calendarGrid = document.getElementById('calendarGrid');
      const calendarSummary = document.getElementById('calendarSummary');
      const stageGrid = document.getElementById('stageGrid');
      const stageHint = document.getElementById('stageHint');
      const bookingModal = document.getElementById('booking-modal');
      const cartModal = document.getElementById('cart-modal');
      const bookingForm = document.getElementById('booking-form');
      const bookingWeekSelect = document.getElementById('booking-week');
      const bookingParticipants = document.getElementById('booking-participants');
      const bookingLodging = document.getElementById('booking-lodging');
      const bookingTransport = document.getElementById('booking-transport');
      const bookingTotal = document.getElementById('booking-total');
      const bookingStageId = document.getElementById('booking-stage-id');
      const bookingTitle = document.getElementById('booking-title');
      const bookingLocation = document.getElementById('booking-location');
      const bookingEyebrow = document.getElementById('booking-eyebrow');
      const cartList = document.getElementById('cart-list');
      const cartTotal = document.getElementById('cart-total');
      const cartSubmit = document.getElementById('cart-submit');
      const cartCountBadges = document.querySelectorAll('[data-cart-count]');
      const cartTriggers = document.querySelectorAll('[data-cart-trigger]');

      const renderCalendar = () => {
        calendarGrid.innerHTML = weeks
          .map((week) => {
            const isSelected = week.id === selectedWeekId;
            return `
              <button class="calendar-week${isSelected ? ' is-active' : ''}" type="button" data-week="${week.id}" aria-pressed="${isSelected ? 'true' : 'false'}">
                <span class="calendar-week__label">${week.label}</span>
                <span class="calendar-week__locations">${week.locations.join(' • ')}</span>
                <span class="calendar-week__status">${week.spots > 0 ? `${week.spots} places restantes` : 'Complet'}</span>
              </button>
            `;
          })
          .join('');
      };

      const updateCalendarSummary = () => {
        const week = weeksMap.get(selectedWeekId);
        if (!week) {
          calendarSummary.innerHTML = `
            <div class="calendar-summary__card">
              <strong>Vos disponibilités</strong>
              <p>Sélectionnez une semaine pour afficher les lieux et les stages proposés.</p>
            </div>
          `;
          return;
        }

        const stages = stageCatalog.filter((stage) => stage.weeks.includes(week.id));
        const stageList = stages.length
          ? `<ul class="calendar-summary__list">
              ${stages
                .map(
                  (stage) =>
                    `<li><strong>${stage.title}</strong> — ${stage.location} • ${formatCurrency(stage.price)}</li>`
                )
                .join('')}
            </ul>`
          : '<p class="calendar-summary__empty">Aucun stage n’est disponible sur cette semaine pour le moment.</p>';
        calendarSummary.innerHTML = `
          <div class="calendar-summary__card">
            <strong>${week.label}</strong>
            <p>${week.description}</p>
          </div>
          <div class="calendar-summary__card">
            <strong>${stages.length} stage${stages.length > 1 ? 's' : ''} disponible${stages.length > 1 ? 's' : ''}</strong>
            ${stageList}
          </div>
        `;
      };

      const updateStageHint = () => {
        if (!stageHint) return;
        const week = weeksMap.get(selectedWeekId);
        stageHint.textContent = week
          ? `Sélection : ${week.label} – stages affichés ci-dessous.`
          : 'Sélectionnez une semaine pour afficher les stages disponibles.';
      };

      const getVisibleStages = () =>
        selectedWeekId ? stageCatalog.filter((stage) => stage.weeks.includes(selectedWeekId)) : stageCatalog;

      const renderStageCards = () => {
        const stages = getVisibleStages();
        if (!stages.length) {
          stageGrid.innerHTML = '<p class="stage-grid__empty">Aucun stage n’est disponible pour cette semaine pour le moment.</p>';
          return;
        }

        stageGrid.innerHTML = stages
          .map((stage) => {
            const tags = stage.tags.map((tag) => `<span class="stage-card__tag">${tag}</span>`).join('');
            const weekChips = stage.weeks
              .map((id) => {
                const week = weeksMap.get(id);
                if (!week) return '';
                const isActive = selectedWeekId === id;
                const label = week.shortLabel ?? week.label;
                return `<span class="stage-card__week${isActive ? ' is-active' : ''}">${label}</span>`;
              })
              .join('');

            return `
              <article class="stage-card">
                <div class="stage-card__header">
                  <span class="stage-card__eyebrow">${stage.category}</span>
                  <h3>${stage.title}</h3>
                  <p class="stage-card__location">${stage.location}</p>
                </div>
                <p class="stage-card__description">${stage.description}</p>
                <div class="stage-card__tags">${tags}</div>
                <div class="stage-card__footer">
                  <span class="stage-card__price">${formatCurrency(stage.price)}</span>
                  <div class="stage-card__weeks">${weekChips}</div>
                  <button class="btn-primary" type="button" data-book-stage="${stage.id}">Réserver</button>
                </div>
              </article>
            `;
          })
          .join('');
      };

      const openModal = (modal) => {
        modal.removeAttribute('hidden');
        document.body.style.overflow = 'hidden';
      };

      const closeModal = (modal) => {
        modal.setAttribute('hidden', '');
        document.body.style.overflow = '';
        if (modal === bookingModal) {
          bookingForm.reset();
          bookingTotal.textContent = formatCurrency(0);
        }
      };

      const calculateBookingTotal = () => {
        const stage = stagesMap.get(bookingStageId.value);
        if (!stage) return 0;
        const participants = Math.max(1, Number(bookingParticipants.value) || 1);
        let total = stage.price;
        if (bookingLodging.checked) total += stage.lodgingPrice;
        if (bookingTransport.checked) total += stage.transportPrice;
        return total * participants;
      };

      const updateBookingTotal = () => {
        bookingTotal.textContent = formatCurrency(calculateBookingTotal());
      };

      const populateBookingWeeks = (stage) => {
        bookingWeekSelect.innerHTML = stage.weeks
          .map((id) => {
            const week = weeksMap.get(id);
            if (!week) return '';
            const selected = selectedWeekId && selectedWeekId === id;
            return `<option value="${week.id}" ${selected ? 'selected' : ''}>${week.label}</option>`;
          })
          .join('');
        if (!bookingWeekSelect.value) {
          const defaultWeek = stage.weeks.find((id) => weeksMap.has(id));
          if (defaultWeek) bookingWeekSelect.value = defaultWeek;
        }
      };

      const openBookingModal = (stageId) => {
        const stage = stagesMap.get(stageId);
        if (!stage) return;
        bookingStageId.value = stage.id;
        bookingTitle.textContent = stage.title;
        bookingLocation.textContent = stage.location;
        bookingEyebrow.textContent = stage.category;
        populateBookingWeeks(stage);
        bookingParticipants.value = 1;
        bookingLodging.checked = false;
        bookingTransport.checked = false;
        updateBookingTotal();
        openModal(bookingModal);
        bookingWeekSelect.focus();
      };

      const updateCartUI = () => {
        cartList.innerHTML = '';
        if (!cart.length) {
          cartList.innerHTML = '<p class="cart-empty">Votre panier est vide pour le moment.</p>';
        } else {
          cart.forEach((item, index) => {
            const options = [];
            if (item.lodging) options.push('Hébergement');
            if (item.transport) options.push('Transport');
            const optionLabel = options.length ? options.join(' + ') : 'Sans option';
            cartList.insertAdjacentHTML(
              'beforeend',
              `
                <article class="cart-item" data-index="${index}">
                  <div class="cart-item__header">
                    <span class="cart-item__title">${item.stageTitle}</span>
                    <button class="btn-secondary" type="button" data-remove-index="${index}">Retirer</button>
                  </div>
                  <div class="cart-item__meta">${item.weekLabel} • ${item.location}</div>
                  <div class="cart-item__meta">${item.participants} participant(s) — ${optionLabel}</div>
                  <div class="cart-item__footer">
                    <span class="cart-item__price">${formatCurrency(item.total)}</span>
                  </div>
                </article>
              `
            );
          });
        }

        const total = cart.reduce((sum, item) => sum + item.total, 0);
        cartTotal.textContent = formatCurrency(total);
        cartCountBadges.forEach((badge) => (badge.textContent = cart.length));
      };

      const showToast = (message) => {
        const toast = document.createElement('div');
        toast.className = 'toast';
        toast.textContent = message;
        document.body.appendChild(toast);
        setTimeout(() => {
          toast.style.opacity = '0';
          toast.style.transform = 'translate(-50%, 12px)';
          setTimeout(() => toast.remove(), 250);
        }, 2500);
      };

      calendarGrid.addEventListener('click', (event) => {
        const button = event.target.closest('[data-week]');
        if (!button) return;
        selectedWeekId = button.dataset.week;
        renderCalendar();
        updateCalendarSummary();
        updateStageHint();
        renderStageCards();
      });

      stageGrid.addEventListener('click', (event) => {
        const button = event.target.closest('[data-book-stage]');
        if (!button) return;
        openBookingModal(button.dataset.bookStage);
      });

      document.querySelectorAll('[data-book-stage]').forEach((button) => {
        button.addEventListener('click', () => openBookingModal(button.dataset.bookStage));
      });

      document.querySelectorAll('[data-close-modal]').forEach((button) => {
        button.addEventListener('click', () => {
          const modal = button.closest('.reservation-modal');
          if (modal) closeModal(modal);
        });
      });

      [bookingModal, cartModal].forEach((modal) => {
        modal.addEventListener('click', (event) => {
          if (event.target === modal) closeModal(modal);
        });
      });

      document.addEventListener('keydown', (event) => {
        if (event.key === 'Escape') {
          if (!bookingModal.hasAttribute('hidden')) closeModal(bookingModal);
          if (!cartModal.hasAttribute('hidden')) closeModal(cartModal);
        }
      });

      [bookingParticipants, bookingLodging, bookingTransport].forEach((field) =>
        field.addEventListener('input', updateBookingTotal)
      );

      bookingForm.addEventListener('submit', (event) => {
        event.preventDefault();
        const stage = stagesMap.get(bookingStageId.value);
        if (!stage) return;
        const week = weeksMap.get(bookingWeekSelect.value);
        const item = {
          stageId: stage.id,
          stageTitle: stage.title,
          location: stage.location,
          weekId: week?.id ?? '',
          weekLabel: week?.label ?? 'Semaine à confirmer',
          participants: Math.max(1, Number(bookingParticipants.value) || 1),
          lodging: bookingLodging.checked,
          transport: bookingTransport.checked,
          total: calculateBookingTotal()
        };
        cart.push(item);
        updateCartUI();
        showToast('Stage ajouté au panier');
        closeModal(bookingModal);
      });

      cartList.addEventListener('click', (event) => {
        const button = event.target.closest('[data-remove-index]');
        if (!button) return;
        const index = Number(button.dataset.removeIndex);
        cart.splice(index, 1);
        updateCartUI();
        showToast('Stage retiré du panier');
      });

      cartSubmit.addEventListener('click', () => {
        if (!cart.length) {
          showToast('Ajoutez un stage avant de finaliser');
          return;
        }
        closeModal(cartModal);
        showToast('Votre demande a bien été transmise. Nous vous recontactons sous 24h.');
      });

      cartTriggers.forEach((trigger) => trigger.addEventListener('click', () => openModal(cartModal)));

      const navToggle = document.querySelector('.nav-toggle');
      const navLinks = document.getElementById('site-nav');
      const body = document.body;

      if (navToggle && navLinks) {
        const toggleMenu = (open) => {
          const shouldOpen = open ?? !navToggle.classList.contains('is-open');
          navToggle.classList.toggle('is-open', shouldOpen);
          navToggle.setAttribute('aria-expanded', shouldOpen ? 'true' : 'false');
          navLinks.classList.toggle('open', shouldOpen);
          body.classList.toggle('menu-open', shouldOpen);
        };

        navToggle.addEventListener('click', () => toggleMenu());
        navLinks.querySelectorAll('a').forEach((link) => link.addEventListener('click', () => toggleMenu(false)));
        window.addEventListener('resize', () => {
          if (window.innerWidth > 860) toggleMenu(false);
        });
      }

      const sectionLinks = document.querySelectorAll('.reservation-tabs__inner a');
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              sectionLinks.forEach((link) =>
                link.classList.toggle('is-active', link.getAttribute('href').slice(1) === entry.target.id)
              );
            }
          });
        },
        { rootMargin: '-60% 0px -35% 0px', threshold: 0 }
      );

      document.querySelectorAll('main section[id]').forEach((section) => observer.observe(section));

      const init = () => {
        renderCalendar();
        updateCalendarSummary();
        updateStageHint();
        renderStageCards();
        updateCartUI();
      };

      init();
    </script>
  </body>
</html>
      </section>

      <section class="reservation-section" id="methodologie">
        <div class="reservation-section__inner">
          <span class="section-eyebrow">Méthodologie</span>
          <h2>Un déroulé clair du lundi au samedi</h2>
          <p class="lead">
            Chaque stage est orchestré par nos directeurs techniques Tennis Impact. Vous recevez avant votre arrivée un carnet de
            route détaillant les thèmes quotidiens et les horaires.
          </p>
          <div class="options-grid">
            <article class="option-card">
              <h3>Analyse individuelle</h3>
              <p>Bilans techniques filmés, feed-back quotidien et plan de progression remis en fin de semaine.</p>
              <ul>
                <li>Diagnostic vidéo jour 1 &amp; 5</li>
                <li>Suivi du ratio de matchs</li>
                <li>Échange tripartite joueur / coach / parents</li>
              </ul>
            </article>
            <article class="option-card">
              <h3>Préparation physique</h3>
              <p>Sessions ciblées mobilité, explosivité et prévention des blessures avec nos préparateurs.</p>
              <ul>
                <li>Tests d'entrée individualisés</li>
                <li>Programme à emporter</li>
                <li>Ateliers récupération et nutrition</li>
              </ul>
            </article>
            <article class="option-card">
              <h3>Accompagnement mental</h3>
              <p>Coaching mental quotidien : routines d'avant-match, gestion du stress et visualisation.</p>
              <ul>
                <li>Ateliers collectifs &amp; briefs individuels</li>
                <li>Suivi par nos préparateurs certifiés</li>
                <li>Fiches d'outils personnalisées</li>
              </ul>
            </article>
          </div>
        </div>
      </section>

      <section class="reservation-section" id="options">
        <div class="reservation-section__inner">
          <span class="section-eyebrow">Options et services</span>
          <h2>Personnalisez votre expérience</h2>
          <p class="lead">
            Ajoutez l'hébergement, le transport ou des séances individuelles supplémentaires depuis le formulaire. Chaque option
            est affichée dans votre panier pour une parfaite transparence.
          </p>
          <div class="options-grid">
            <article class="option-card">
              <h3>Hébergement premium</h3>
              <p>Chambres twin ou individuelles dans nos résidences partenaires avec encadrement 24/24.</p>
              <ul>
                <li>Pension complète équilibrée</li>
                <li>Accompagnateurs Tennis Impact</li>
                <li>Veillées thématiques et sécurité</li>
              </ul>
            </article>
            <article class="option-card">
              <h3>Transport officiel</h3>
              <p>Navettes depuis la gare ou l'aéroport, transferts vers les courts et assistance bagages.</p>
              <ul>
                <li>Accueil personnalisé</li>
                <li>Conducteurs certifiés</li>
                <li>Trajets retours planifiés</li>
              </ul>
            </article>
            <article class="option-card">
              <h3>Coaching individualisé</h3>
              <p>Séances privées supplémentaires en soirée ou tôt le matin pour travailler un axe précis.</p>
              <ul>
                <li>Analyse biomécanique</li>
                <li>Préparation tactique match</li>
                <li>Rapport détaillé remis sous 48h</li>
              </ul>
            </article>
          </div>
        </div>
      </section>

      <section class="reservation-section" id="faq">
        <div class="reservation-section__inner">
          <span class="section-eyebrow">FAQ</span>
          <h2>Questions les plus fréquentes</h2>
          <div class="faq-grid">
            <details class="faq-item">
              <summary>Comment confirmer la réservation après avoir rempli le panier ?</summary>
              <p>
                Une fois votre panier complété, validez le formulaire. Notre équipe reçoit votre demande immédiatement et vous
                recontacte sous 24h pour la signature du contrat et le versement de l'acompte.
              </p>
            </details>
            <details class="faq-item">
              <summary>Peut-on réserver plusieurs semaines ou ajouter un membre de la fratrie ?</summary>
              <p>
                Oui, ajoutez autant de stages que nécessaire dans votre panier en sélectionnant les semaines et options pour
                chaque participant. Les totaux sont mis à jour automatiquement.
              </p>
            </details>
            <details class="faq-item">
              <summary>Les options hébergement et transport sont-elles obligatoires ?</summary>
              <p>
                Non, vous pouvez réserver uniquement la partie sportive. Les options « Hébergement » et « Transport » se
                cochent indépendamment depuis le formulaire popup.
              </p>
            </details>
            <details class="faq-item">
              <summary>Quels moyens de paiement acceptez-vous ?</summary>
              <p>
                Après validation de votre dossier, nous envoyons un lien de paiement sécurisé (CB, virement) ainsi que les
                documents nécessaires. Aucun règlement n'est demandé sur cette page.
              </p>
            </details>
          </div>
        </div>
      </section>
    </main>

    <button class="floating-cart" type="button" data-cart-trigger>
      <span>Panier</span>
      <span data-cart-count>0</span>
    </button>

    <div class="reservation-modal" id="booking-modal" hidden>
      <div class="reservation-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="booking-title">
        <button class="modal-close" type="button" data-close-modal aria-label="Fermer la fenêtre">×</button>
        <div class="reservation-modal__header">
          <p id="booking-eyebrow" class="section-eyebrow" style="margin-bottom: 12px"></p>
          <h3 id="booking-title"></h3>
          <p id="booking-location"></p>
        </div>
        <div class="reservation-modal__body">
          <form class="reservation-form" id="booking-form">
            <input type="hidden" name="stageId" id="booking-stage-id" />
            <div class="form-grid">
              <div class="form-field">
                <label for="booking-week">Semaine souhaitée</label>
                <select id="booking-week" name="week" required></select>
              </div>
              <div class="form-field">
                <label for="booking-participants">Nombre de participants</label>
                <input id="booking-participants" name="participants" type="number" min="1" value="1" required />
              </div>
              <div class="form-field">
                <label for="booking-name">Nom &amp; prénom du participant</label>
                <input id="booking-name" name="name" type="text" autocomplete="name" required />
              </div>
              <div class="form-field">
                <label for="booking-age">Âge du participant</label>
                <input id="booking-age" name="age" type="number" min="5" max="99" />
              </div>
              <div class="form-field">
                <label for="booking-email">Email de contact</label>
                <input id="booking-email" name="email" type="email" autocomplete="email" required />
              </div>
              <div class="form-field">
                <label for="booking-phone">Téléphone</label>
                <input id="booking-phone" name="phone" type="tel" autocomplete="tel" />
              </div>
            </div>

            <div class="option-toggle">
              <label for="booking-lodging">
                <strong>Hébergement premium</strong>
                Nuitées, pension complète et encadrement 24/24.
              </label>
              <input id="booking-lodging" name="lodging" type="checkbox" />
            </div>
            <div class="option-toggle">
              <label for="booking-transport">
                <strong>Transport officiel</strong>
                Navettes aller/retour et transferts vers les courts.
              </label>
              <input id="booking-transport" name="transport" type="checkbox" />
            </div>

            <div class="form-field">
              <label for="booking-message">Informations complémentaires</label>
              <textarea id="booking-message" name="message" placeholder="Besoin d'une navette spécifique, régime alimentaire,
 ou autre demande..."></textarea>
            </div>

            <div class="form-summary">
              <span>Total estimé</span>
              <strong id="booking-total">0 €</strong>
            </div>

            <div class="form-actions">
              <button class="btn-secondary" type="button" data-close-modal>Annuler</button>
              <button class="btn-primary" type="submit">Ajouter au panier</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div class="reservation-modal" id="cart-modal" hidden>
      <div class="reservation-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="cart-title">
        <button class="modal-close" type="button" data-close-modal aria-label="Fermer le panier">×</button>
        <div class="reservation-modal__header">
          <span class="section-eyebrow" style="margin-bottom: 12px">Votre panier</span>
          <h3 id="cart-title">Résumé de votre sélection</h3>
          <p>Modifiez vos semaines, ajoutez des options ou finalisez votre demande de réservation.</p>
        </div>
        <div class="reservation-modal__body">
          <div id="cart-list" class="cart-list" role="list"></div>
          <div class="form-summary">
            <span>Total provisoire</span>
            <strong id="cart-total">0 €</strong>
          </div>
          <div class="form-actions">
            <button class="btn-secondary" type="button" data-close-modal>Continuer mes choix</button>
            <button class="btn-primary" type="button" id="cart-submit">Envoyer ma demande</button>
          </div>
        </div>
      </div>
    </div>

    <script>
      const weeks = [
        {
          id: '2024-07-08',
          label: 'Semaine du 8 au 13 juillet',
          shortLabel: '8 → 13 juillet',
          description: 'Ouverture estivale : lancement technique et matches d’évaluation.',
          locations: ['Poitiers', 'Toulouse', 'Aix-en-Provence'],
          spots: 12
        },
        {
          id: '2024-07-15',
          label: 'Semaine du 15 au 20 juillet',
          shortLabel: '15 → 20 juillet',
          description: 'Bloc intensif compétition avec tournois homologués en fin de semaine.',
          locations: ['Poitiers', 'Domaine des Landes Girondines', 'Cabourg'],
          spots: 9
        },
        {
          id: '2024-07-22',
          label: 'Semaine du 22 au 27 juillet',
          shortLabel: '22 → 27 juillet',
          description: 'Préparation tactique et coaching vidéo quotidien sur les cinq sites.',
          locations: ['Poitiers', 'Toulouse', 'Aix-en-Provence', 'Cabourg'],
          spots: 6
        },
        {
          id: '2024-07-29',
          label: 'Semaine du 29 juillet au 3 août',
          shortLabel: '29 juillet → 3 août',
          description: 'Stage intensif mi-saison avec focus préparation physique & mental.',
          locations: ['Poitiers', 'Toulouse', 'Domaine des Landes Girondines'],
          spots: 8
        },
        {
          id: '2024-08-05',
          label: 'Semaine du 5 au 10 août',
          shortLabel: '5 → 10 août',
          description: 'Semaine familles & fratries avec activités plage, golf et tournois internes.',
          locations: ['Domaine des Landes Girondines', 'Cabourg'],
          spots: 10
        },
        {
          id: '2024-08-12',
          label: 'Semaine du 12 au 17 août',
          shortLabel: '12 → 17 août',
          description: 'Pré-rentrée tournoi : préparation spécifique avant la reprise FFT.',
          locations: ['Poitiers', 'Aix-en-Provence', 'Cabourg'],
          spots: 4
        }
      ];

      const stageCatalog = [
        {
          id: 'performance',
          category: 'Compétition',
          title: 'Stage Performance Jeunes',
          location: 'CREPS de Poitiers',
          description: 'Programme intensif pour compétiteurs 12-18 ans avec coaching vidéo et matchs homologués.',
          price: 890,
          lodgingPrice: 470,
          transportPrice: 160,
          tags: ['Analyse vidéo', 'Tournoi FFT', 'Prépa physique'],
          weeks: ['2024-07-08', '2024-07-15', '2024-07-22', '2024-07-29', '2024-08-12']
        },
        {
          id: 'elite',
          category: 'Haut niveau',
          title: 'Tournée Elite & Tournois',
          location: 'CREPS de Toulouse',
          description: 'Encadrement par nos coaches nationaux avec participation à 2 tournois officiels et suivi mental quotidien.',
          price: 990,
          lodgingPrice: 520,
          transportPrice: 180,
          tags: ['Préparateur mental', 'Suivi biomécanique', 'Matches filmés'],
          weeks: ['2024-07-08', '2024-07-22', '2024-07-29']
        },
        {
          id: 'premium-family',
          category: 'Familles',
          title: 'Expérience Premium Famille',
          location: 'Domaine des Landes Girondines',
          description: 'Une semaine en résidence haut de gamme avec programme tennis enfants & parents, activités plage et golf.',
          price: 740,
          lodgingPrice: 520,
          transportPrice: 140,
          tags: ['Résidence 4★', 'Activités plage', 'Coaching parents'],
          weeks: ['2024-07-15', '2024-07-29', '2024-08-05']
        },
        {
          id: 'intensif-aix',
          category: 'Technique',
          title: 'Immersion Terre Battue',
          location: 'CREPS d\'Aix-en-Provence',
          description: 'Volume d’entraînement élevé sur terre battue, routines tactiques et préparation physique personnalisée.',
          price: 860,
          lodgingPrice: 480,
          transportPrice: 150,
          tags: ['Terre battue', 'Plan tactique', 'Prépa physique'],
          weeks: ['2024-07-08', '2024-07-22', '2024-08-12']
        },
        {
          id: 'cabourg-competition',
          category: 'Compétition',
          title: 'Stage Bord de Mer & Tournoi',
          location: 'Cabourg',
          description: 'Coaching quotidien, tournoi nocturne et préparation physique sur la plage pour une expérience unique.',
          price: 820,
          lodgingPrice: 450,
          transportPrice: 130,
          tags: ['Nocturnes', 'Prépa plage', 'Coaching perso'],
          weeks: ['2024-07-15', '2024-07-22', '2024-08-05', '2024-08-12']
        }
      ];

      const weeksMap = new Map(weeks.map((week) => [week.id, week]));
      const stagesMap = new Map(stageCatalog.map((stage) => [stage.id, stage]));
      let selectedWeekId = null;
      const cart = [];

      const formatCurrency = (value) =>
        new Intl.NumberFormat('fr-FR', { style: 'currency', currency: 'EUR', maximumFractionDigits: 0 }).format(value);

      const calendarGrid = document.getElementById('calendarGrid');
      const calendarSummary = document.getElementById('calendarSummary');
      const stageGrid = document.getElementById('stageGrid');
      const bookingModal = document.getElementById('booking-modal');
      const cartModal = document.getElementById('cart-modal');
      const bookingForm = document.getElementById('booking-form');
      const bookingWeekSelect = document.getElementById('booking-week');
      const bookingParticipants = document.getElementById('booking-participants');
      const bookingLodging = document.getElementById('booking-lodging');
      const bookingTransport = document.getElementById('booking-transport');
      const bookingTotal = document.getElementById('booking-total');
      const bookingStageId = document.getElementById('booking-stage-id');
      const bookingTitle = document.getElementById('booking-title');
      const bookingLocation = document.getElementById('booking-location');
      const bookingEyebrow = document.getElementById('booking-eyebrow');
      const cartList = document.getElementById('cart-list');
      const cartTotal = document.getElementById('cart-total');
      const cartSubmit = document.getElementById('cart-submit');
      const cartCountBadges = document.querySelectorAll('[data-cart-count]');
      const cartTriggers = document.querySelectorAll('[data-cart-trigger]');

      const renderCalendar = () => {
        calendarGrid.innerHTML = weeks
          .map((week) => {
            const isSelected = week.id === selectedWeekId;
            return `
              <button class="calendar-week${isSelected ? ' is-active' : ''}" type="button" data-week="${week.id}" aria-pressed="${
              isSelected ? 'true' : 'false'
            }">
                <span class="calendar-week__label">${week.label}</span>
                <span class="calendar-week__locations">${week.locations.join(' • ')}</span>
                <span class="calendar-week__status">${week.spots > 0 ? `${week.spots} places restantes` : 'Complet'}</span>
              </button>
            `;
          })
          .join('');
      };

      const updateCalendarSummary = () => {
        const week = weeksMap.get(selectedWeekId);
        if (!week) {
          calendarSummary.innerHTML = `
            <div class="calendar-summary__card">
              <strong>Vos disponibilités</strong>
              <p>Sélectionnez une semaine pour afficher les lieux et les stages proposés.</p>
            </div>
          `;
          return;
        }

        const stages = stageCatalog.filter((stage) => stage.weeks.includes(week.id));
        calendarSummary.innerHTML = `
          <div class="calendar-summary__card">
            <strong>${week.label}</strong>
            <p>${week.description}</p>
          </div>
          <div class="calendar-summary__card">
            <strong>Stages disponibles</strong>
            <ul class="calendar-summary__list">
              ${stages
                .map(
                  (stage) =>
                    `<li><strong>${stage.title}</strong> — ${stage.location} • ${formatCurrency(stage.price)}</li>`
                )
                .join('')}
            </ul>
          </div>
        `;
      };

      const renderStageCards = () => {
        stageGrid.innerHTML = stageCatalog
          .map((stage) => {
            const weekLabels = stage.weeks.map((id) => weeksMap.get(id)?.shortLabel ?? '').filter(Boolean).join(' • ');
            const tags = stage.tags.map((tag) => `<span class="stage-card__tag">${tag}</span>`).join('');
            return `
              <article class="stage-card">
                <div class="stage-card__header">
                  <span class="stage-card__eyebrow">${stage.category}</span>
                  <h3>${stage.title}</h3>
                  <p class="stage-card__location">${stage.location}</p>
                </div>
                <p class="stage-card__description">${stage.description}</p>
                <div class="stage-card__tags">${tags}</div>
                <div class="stage-card__footer">
                  <span class="stage-card__price">${formatCurrency(stage.price)}</span>
                  <span class="stage-card__weeks">${weekLabels}</span>
                  <button class="btn-primary" type="button" data-book-stage="${stage.id}">Réserver</button>
                </div>
              </article>
            `;
          })
          .join('');
      };

      const openModal = (modal) => {
        modal.removeAttribute('hidden');
        document.body.style.overflow = 'hidden';
      };

      const closeModal = (modal) => {
        modal.setAttribute('hidden', '');
        document.body.style.overflow = '';
        if (modal === bookingModal) {
          bookingForm.reset();
          bookingTotal.textContent = formatCurrency(0);
        }
      };

      const calculateBookingTotal = () => {
        const stage = stagesMap.get(bookingStageId.value);
        if (!stage) return 0;
        const participants = Math.max(1, Number(bookingParticipants.value) || 1);
        let total = stage.price;
        if (bookingLodging.checked) total += stage.lodgingPrice;
        if (bookingTransport.checked) total += stage.transportPrice;
        return total * participants;
      };

      const updateBookingTotal = () => {
        bookingTotal.textContent = formatCurrency(calculateBookingTotal());
      };

      const populateBookingWeeks = (stage) => {
        bookingWeekSelect.innerHTML = stage.weeks
          .map((id) => {
            const week = weeksMap.get(id);
            if (!week) return '';
            const selected = selectedWeekId && selectedWeekId === id;
            return `<option value="${week.id}" ${selected ? 'selected' : ''}>${week.label}</option>`;
          })
          .join('');
        if (!bookingWeekSelect.value && stage.weeks.length > 0) {
          bookingWeekSelect.value = stage.weeks[0];
        }
      };

      const openBookingModal = (stageId) => {
        const stage = stagesMap.get(stageId);
        if (!stage) return;
        bookingStageId.value = stage.id;
        bookingTitle.textContent = stage.title;
        bookingLocation.textContent = stage.location;
        bookingEyebrow.textContent = stage.category;
        populateBookingWeeks(stage);
        bookingParticipants.value = 1;
        bookingLodging.checked = false;
        bookingTransport.checked = false;
        updateBookingTotal();
        openModal(bookingModal);
        bookingWeekSelect.focus();
      };

      const updateCartUI = () => {
        cartList.innerHTML = '';
        if (!cart.length) {
          cartList.innerHTML = '<p class="cart-empty">Votre panier est vide pour le moment.</p>';
        } else {
          cart.forEach((item, index) => {
            const options = [];
            if (item.lodging) options.push('Hébergement');
            if (item.transport) options.push('Transport');
            const optionLabel = options.length ? options.join(' + ') : 'Sans option';
            cartList.insertAdjacentHTML(
              'beforeend',
              `
                <article class="cart-item" data-index="${index}">
                  <div class="cart-item__header">
                    <span class="cart-item__title">${item.stageTitle}</span>
                    <button class="btn-secondary" type="button" data-remove-index="${index}">Retirer</button>
                  </div>
                  <div class="cart-item__meta">${item.weekLabel} • ${item.location}</div>
                  <div class="cart-item__meta">${item.participants} participant(s) — ${optionLabel}</div>
                  <div class="cart-item__footer">
                    <span class="cart-item__price">${formatCurrency(item.total)}</span>
                  </div>
                </article>
              `
            );
          });
        }

        const total = cart.reduce((sum, item) => sum + item.total, 0);
        cartTotal.textContent = formatCurrency(total);
        cartCountBadges.forEach((badge) => (badge.textContent = cart.length));
      };

      const showToast = (message) => {
        const toast = document.createElement('div');
        toast.className = 'toast';
        toast.textContent = message;
        document.body.appendChild(toast);
        setTimeout(() => {
          toast.style.opacity = '0';
          toast.style.transform = 'translate(-50%, 12px)';
          setTimeout(() => toast.remove(), 250);
        }, 2500);
      };

      calendarGrid.addEventListener('click', (event) => {
        const button = event.target.closest('[data-week]');
        if (!button) return;
        selectedWeekId = button.dataset.week;
        renderCalendar();
        updateCalendarSummary();
      });

      stageGrid.addEventListener('click', (event) => {
        const button = event.target.closest('[data-book-stage]');
        if (!button) return;
        openBookingModal(button.dataset.bookStage);
      });

      document.querySelectorAll('[data-book-stage]').forEach((button) => {
        button.addEventListener('click', () => openBookingModal(button.dataset.bookStage));
      });

      document.querySelectorAll('[data-close-modal]').forEach((button) => {
        button.addEventListener('click', () => {
          const modal = button.closest('.reservation-modal');
          if (modal) closeModal(modal);
        });
      });

      [bookingModal, cartModal].forEach((modal) => {
        modal.addEventListener('click', (event) => {
          if (event.target === modal) closeModal(modal);
        });
      });

      document.addEventListener('keydown', (event) => {
        if (event.key === 'Escape') {
          if (!bookingModal.hasAttribute('hidden')) closeModal(bookingModal);
          if (!cartModal.hasAttribute('hidden')) closeModal(cartModal);
        }
      });

      [bookingParticipants, bookingLodging, bookingTransport].forEach((field) =>
        field.addEventListener('input', updateBookingTotal)
      );

      bookingForm.addEventListener('submit', (event) => {
        event.preventDefault();
        const stage = stagesMap.get(bookingStageId.value);
        if (!stage) return;
        const week = weeksMap.get(bookingWeekSelect.value);
        const item = {
          stageId: stage.id,
          stageTitle: stage.title,
          location: stage.location,
          weekId: week?.id ?? '',
          weekLabel: week?.label ?? 'Semaine à confirmer',
          participants: Math.max(1, Number(bookingParticipants.value) || 1),
          lodging: bookingLodging.checked,
          transport: bookingTransport.checked,
          total: calculateBookingTotal()
        };
        cart.push(item);
        updateCartUI();
        showToast('Stage ajouté au panier');
        closeModal(bookingModal);
      });

      cartList.addEventListener('click', (event) => {
        const button = event.target.closest('[data-remove-index]');
        if (!button) return;
        const index = Number(button.dataset.removeIndex);
        cart.splice(index, 1);
        updateCartUI();
        showToast('Stage retiré du panier');
      });

      cartSubmit.addEventListener('click', () => {
        if (!cart.length) {
          showToast('Ajoutez un stage avant de finaliser');
          return;
        }
        closeModal(cartModal);
        showToast('Votre demande a bien été transmise. Nous vous recontactons sous 24h.');
      });

      cartTriggers.forEach((trigger) => trigger.addEventListener('click', () => openModal(cartModal)));

      const navToggle = document.querySelector('.nav-toggle');
      const navLinks = document.getElementById('site-nav');
      const body = document.body;

      if (navToggle && navLinks) {
        const toggleMenu = (open) => {
          const shouldOpen = open ?? !navToggle.classList.contains('is-open');
          navToggle.classList.toggle('is-open', shouldOpen);
          navToggle.setAttribute('aria-expanded', shouldOpen ? 'true' : 'false');
          navLinks.classList.toggle('open', shouldOpen);
          body.classList.toggle('menu-open', shouldOpen);
        };

        navToggle.addEventListener('click', () => toggleMenu());
        navLinks.querySelectorAll('a').forEach((link) => link.addEventListener('click', () => toggleMenu(false)));
        window.addEventListener('resize', () => {
          if (window.innerWidth > 860) toggleMenu(false);
        });
      }

      const sectionLinks = document.querySelectorAll('.reservation-tabs__inner a');
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              sectionLinks.forEach((link) =>
                link.classList.toggle('is-active', link.getAttribute('href').slice(1) === entry.target.id)
              );
            }
          });
        },
        { rootMargin: '-60% 0px -35% 0px', threshold: 0 }
      );

      document.querySelectorAll('main section[id]').forEach((section) => observer.observe(section));

      const init = () => {
        renderCalendar();
        updateCalendarSummary();
        renderStageCards();
        updateCartUI();
      };

      init();
    </script>
  </body>
</html>
      <section class="reservation-hero" id="top">
        <div class="reservation-container reservation-hero__inner">
          <span class="reservation-hero__badge">Expérience Signature</span>
          <h1>Réservez votre stage premium en ligne</h1>
          <p>
            Composez votre séjour d&rsquo;exception&nbsp;: sélectionnez vos dates, ajoutez vos options et validez votre demande directement sur le site.
            Notre équipe vous accompagne à chaque étape.
          </p>
          <div class="reservation-hero__cta">
            <a class="reservation-button reservation-button--primary" href="#calendrier">Explorer le calendrier</a>
            <button class="reservation-button" type="button" data-open-modal>Voir mon panier</button>
          <h1>Réservez votre stage premium avec notre conciergerie dédiée</h1>
          <p>
            Composez votre séjour d&rsquo;exception&nbsp;: sélectionnez vos dates, ajoutez les options hôtelières et transport, puis laissez notre équipe
            conciergerie orchestrer chaque détail pour vous.
          </p>
          <div class="reservation-hero__cta">
            <a class="reservation-button reservation-button--primary" href="#calendrier">Explorer le calendrier</a>
            <button class="reservation-button" type="button" data-open-modal>Parler à la conciergerie</button>
          </div>
          <div class="reservation-hero__stats">
            <div class="reservation-hero__stat">
              <strong>12 coachs experts</strong>
              <span>Préparateurs physiques, mental &amp; vidéo dédiés à votre progression</span>
            </div>
            <div class="reservation-hero__stat">
              <strong>5 destinations</strong>
              <span>CREPS et domaines partenaires sélectionnés partout en France</span>
            </div>
            <div class="reservation-hero__stat">
              <strong>100% sur-mesure</strong>
              <span>Options hébergement et transport à activer selon vos besoins</span>
              <strong>4 destinations</strong>
              <span>Académies &amp; resorts partenaires en France et à l&rsquo;international</span>
            </div>
            <div class="reservation-hero__stat">
              <strong>100% sur-mesure</strong>
              <span>Options hébergement, transport et conciergerie privée</span>
            </div>
          </div>
        </div>
      </section>

      <div class="reservation-container reservation-body">
        <div class="reservation-content">
          <section class="reservation-section" id="calendrier">
            <span class="reservation-section__eyebrow">Planifiez votre venue</span>
            <h2>Un calendrier interactif pour trouver le stage idéal</h2>
            <p>
              Naviguez dans nos prochaines sessions, découvrez les disponibilités en temps réel et ajoutez vos stages préférés à votre panier.
              Naviguez dans nos prochaines sessions, découvrez les disponibilités en temps réel et ajoutez vos stages préférés à votre panier intelligent.
            </p>
            <div class="calendar-shell">
              <div class="calendar-card">
                <div class="calendar-nav">
                  <button class="calendar-nav__button" type="button" data-calendar-prev aria-label="Mois précédent">‹</button>
                  <span class="calendar-nav__label" data-calendar-label>Juillet 2024</span>
                  <button class="calendar-nav__button" type="button" data-calendar-next aria-label="Mois suivant">›</button>
                </div>
                <div class="calendar-grid" data-calendar-grid>
                  <div class="calendar-grid__dayname">Lun</div>
                  <div class="calendar-grid__dayname">Mar</div>
                  <div class="calendar-grid__dayname">Mer</div>
                  <div class="calendar-grid__dayname">Jeu</div>
                  <div class="calendar-grid__dayname">Ven</div>
                  <div class="calendar-grid__dayname">Sam</div>
                  <div class="calendar-grid__dayname">Dim</div>
                </div>
              </div>
              <aside class="calendar-details" data-calendar-details>
                <span class="calendar-details__badge">Sélection</span>
                <h3>Choisissez une date pour afficher un stage</h3>
                <div class="calendar-details__meta">
                  <span>Nos disponibilités s&rsquo;actualisent en continu.</span>
                  <span>Utilisez le calendrier pour sélectionner vos semaines idéales et ajoutez-les au panier.</span>
                </div>
              </aside>
            </div>
          </section>

          <section class="reservation-section" id="stages">
            <span class="reservation-section__eyebrow">Nos programmes signature</span>
            <h2>Des stages premium adaptés à chaque profil</h2>
            <p>
              Elite, performance ou détente active&nbsp;: sélectionnez le stage qui correspond à vos objectifs. Chaque réservation peut être accompagnée
              d&rsquo;options personnalisées.
            </p>
            <div class="stage-grid" data-stage-list></div>
          </section>

          <section class="reservation-section" id="methodologie">
            <span class="reservation-section__eyebrow">Notre méthodologie</span>
            <h2>Une méthode éprouvée pour des résultats durables</h2>
            <p>
              Notre équipe conjugue expertise technique, préparation physique et suivi mental pour un accompagnement à 360°. Chaque participant
              bénéficie d&rsquo;un diagnostic individuel et d&rsquo;un plan de progression personnalisé.
            </p>
            <div class="reservation-pillars">
              <div class="reservation-pillar">
                <strong>Coaching quotidien</strong>
                <span>4h d&rsquo;entraînement terrain, ateliers tactiques et séances vidéo pour affiner votre jeu.</span>
              </div>
              <div class="reservation-pillar">
                <strong>Suivi performance</strong>
                <span>Bilans de début et fin de stage, statistiques clés et recommandations d&rsquo;entraînement.</span>
              </div>
              <div class="reservation-pillar">
                <strong>Bien-être &amp; récupération</strong>
                <span>Préparation physique, cryothérapie, nutrition personnalisée et accès spa selon destination.</span>
              </div>
            </div>
          </section>

          <section class="reservation-section" id="destinations">
            <span class="reservation-section__eyebrow">Nos destinations</span>
            <h2>Des cadres d&rsquo;exception pour vivre le tennis autrement</h2>
            <p>
              Les stages Tennis Impact se déroulent dans des infrastructures d&rsquo;élite, choisies pour la qualité des terrains, de l&rsquo;hébergement et de l&rsquo;encadrement.
            </p>
            <div class="reservation-destinations">
              <div class="reservation-destination">
                <strong>CREPS de Poitiers</strong>
                <span>Centre fédéral dédié à la haute performance, courts couverts et extérieurs, hébergements rénovés sur place.</span>
              </div>
              <div class="reservation-destination">
                <strong>CREPS de Toulouse</strong>
                <span>Installations modernes, préparation physique intégrée et atmosphère dynamique au cœur de l’Occitanie.</span>
              </div>
              <div class="reservation-destination">
                <strong>CREPS d&rsquo;Aix-en-Provence</strong>
                <span>Climat méditerranéen, équipes médicales sur site et courts en terre battue pour un jeu tout en toucher.</span>
              </div>
              <div class="reservation-destination">
                <strong>Domaine des Landes Girondines</strong>
                <span>Immersion nature, hébergements lodges et terrains au milieu de la forêt pour un stage intensif et ressourçant.</span>
              </div>
              <div class="reservation-destination">
                <strong>Cabourg</strong>
                <span>Station balnéaire mythique, courts en bord de mer et ambiance conviviale pour conjuguer progrès et évasion.</span>
              Sélectionnez votre atmosphère&nbsp;: académie intensive, resort 5 étoiles ou immersion nature. Chaque lieu propose un service conciergerie.
            </p>
            <div class="reservation-destinations">
              <div class="reservation-destination">
                <strong>Arcachon – Côte Atlantique</strong>
                <span>Résidence 5★ avec spa marin, accès direct aux courts en terre battue et coaching personnalisé sur place.</span>
              </div>
              <div class="reservation-destination">
                <strong>Paris – Lagardère Paris Racing</strong>
                <span>Club privé iconique, cours couverts &amp; extérieurs, accès lounge et services premium en centre-ville.</span>
              </div>
              <div class="reservation-destination">
                <strong>Val d&rsquo;Isère – Alpes</strong>
                <span>Altitude &amp; oxygénation, sessions outdoor et préparation physique ciblée avec activités montagne.</span>
              </div>
              <div class="reservation-destination">
                <strong>Marbella – Espagne</strong>
                <span>Resort balnéaire, 10 courts, club house gastronomique et conciergerie francophone.</span>
              </div>
              <div class="reservation-destination">
                <strong>Hostens – Landes</strong>
                <span>Immersion nature avec hébergements éco-responsables, programme intensif &amp; activités lacustres.</span>
              </div>
              <div class="reservation-destination">
                <strong>Monaco – Monte-Carlo</strong>
                <span>Accès privilégié aux installations du Monte-Carlo Country Club et service chauffeur dédié.</span>
              </div>
            </div>
          </section>

          <section class="reservation-section" id="options">
            <span class="reservation-section__eyebrow">Options sur-mesure</span>
            <h2>Composez votre expérience à la carte</h2>
            <p>
              Hébergement, transport, suivi vidéo ou préparation mentale&nbsp;: activez les services complémentaires qui rendent votre stage totalement personnalisé.
            </p>
            <div class="reservation-options">
              <div class="reservation-option">
                <strong>Hébergement premium</strong>
                <span>Chambres sur site ou partenaires 4★/5★ avec pension complète et espaces bien-être dédiés.</span>
              </div>
              <div class="reservation-option">
                <strong>Transferts organisés</strong>
                <span>Accueil gare ou aéroport, navettes quotidiennes et coordination des déplacements pendant le stage.</span>
            <h2>Composez votre expérience avec notre conciergerie</h2>
            <p>
              Hébergement, transport, soirées privées ou accompagnement scolaire&nbsp;: notre équipe personnalise chaque séjour pour qu&rsquo;il soit à la
              hauteur de vos attentes.
            </p>
            <div class="reservation-options">
              <div class="reservation-option">
                <strong>Hébergement 5★ partenaire</strong>
                <span>Chambres premium avec petit-déjeuner gourmet, room service et accès spa illimité.</span>
              </div>
              <div class="reservation-option">
                <strong>Transferts &amp; chauffeur privé</strong>
                <span>Accueil aéroport/gare, chauffeur dédié et déplacements locaux organisés par la conciergerie.</span>
              </div>
              <div class="reservation-option">
                <strong>Nutrition &amp; bien-être</strong>
                <span>Programme nutritionnel, séances de stretching, cryothérapie et massages sportifs sur réservation.</span>
              </div>
              <div class="reservation-option">
                <strong>Expériences exclusives</strong>
                <span>Rencontre avec des joueurs professionnels, soirées privées et visites backstage de tournois.</span>
              </div>
            </div>
          </section>

          <section class="reservation-section" id="faq">
            <span class="reservation-section__eyebrow">FAQ</span>
            <h2>Vos questions fréquentes</h2>
            <p>
              Notre équipe est disponible 7j/7 pour répondre à vos demandes spécifiques et préparer votre séjour de rêve.
            </p>
            <div class="reservation-faq">
              <div class="reservation-faq__item">
                <h3>Quand dois-je réserver mon hébergement&nbsp;?</h3>
                <p>Nous vous conseillons de réserver 4 à 6 semaines à l&rsquo;avance pour garantir la disponibilité des suites partenaires.</p>
              </div>
              <div class="reservation-faq__item">
                <h3>Puis-je venir accompagné&nbsp;?</h3>
                <p>Oui, nous adaptons l&rsquo;hébergement et les options bien-être pour les accompagnants (parents, conjoints, amis).</p>
              </div>
              <div class="reservation-faq__item">
                <h3>Le transport est-il inclus&nbsp;?</h3>
                <p>Le transport est optionnel. Vous pouvez sélectionner les transferts depuis la gare ou l&rsquo;aéroport directement dans le panier.</p>
              </div>
              <div class="reservation-faq__item">
                <h3>Comment se passe la confirmation&nbsp;?</h3>
                <p>Une fois votre demande envoyée, un membre de l&rsquo;équipe Tennis Impact vous contacte sous 24h pour finaliser votre réservation.</p>
                <p>Une fois votre demande envoyée, un membre de la conciergerie vous contacte sous 24h pour finaliser votre réservation.</p>
              </div>
            </div>
          </section>
        </div>

        <aside class="reservation-cart" aria-label="Panier de réservation">
          <div class="reservation-cart__header">
            <span>Votre sélection</span>
            <h3>Panier de réservation</h3>
            <h3>Panier intelligent</h3>
          </div>
          <div class="reservation-cart__items" data-cart-items></div>
          <div class="reservation-cart__total" data-cart-total>
            <span>Total provisoire</span>
            <strong>0&nbsp;€</strong>
          </div>
          <p class="reservation-cart__fineprint">
            L&rsquo;ajout au panier ne bloque pas encore vos places. Notre équipe vous confirme la disponibilité et organise le paiement sécurisé sous 24h ouvrées.
          </p>
          <button class="reservation-button reservation-button--primary" type="button" data-open-modal data-cart-cta disabled>
            Finaliser ma réservation
            L&rsquo;ajout au panier ne bloque pas encore vos places. La conciergerie vous recontacte pour confirmation et paiement sécurisé.
          </p>
          <button class="reservation-button reservation-button--primary" type="button" data-open-modal data-cart-cta disabled>
            Finaliser ma demande
          </button>
        </aside>
      </div>
    </main>

    <div class="reservation-toast" data-toast>Ajouté au panier</div>

    <div class="reservation-modal" data-modal aria-hidden="true">
      <div class="reservation-modal__overlay" data-modal-dismiss></div>
      <div class="reservation-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="reservationModalTitle">
        <button class="reservation-modal__close" type="button" data-modal-dismiss aria-label="Fermer la fenêtre">✕</button>
        <div>
          <span class="reservation-section__eyebrow">Réservation</span>
          <h2 id="reservationModalTitle">Formulaire de réservation premium</h2>
          <p>
            Validez votre panier, précisez vos besoins en hébergement ou transport et recevez la confirmation personnalisée d&rsquo;un membre de l&rsquo;équipe
            Tennis Impact.
          <span class="reservation-section__eyebrow">Conciergerie</span>
          <h2 id="reservationModalTitle">Formulaire de réservation premium</h2>
          <p>
            Validez votre panier, précisez vos besoins en hébergement ou transport et recevez la confirmation personnalisée d&rsquo;un membre de notre
            conciergerie dans les 24h.
          </p>
        </div>
        <div class="reservation-modal__summary" data-modal-summary>
          Votre panier est vide pour le moment. Ajoutez un stage avant de finaliser votre demande.
        </div>
        <form class="reservation-form" data-reservation-form>
          <div class="reservation-form__inline">
            <div class="reservation-form__group">
              <label for="reservation-name">Nom &amp; prénom</label>
              <input id="reservation-name" name="name" type="text" required autocomplete="name" />
            </div>
            <div class="reservation-form__group">
              <label for="reservation-email">Email</label>
              <input id="reservation-email" name="email" type="email" required autocomplete="email" />
            </div>
          </div>
          <div class="reservation-form__inline">
            <div class="reservation-form__group">
              <label for="reservation-phone">Téléphone</label>
              <input id="reservation-phone" name="phone" type="tel" required autocomplete="tel" />
            </div>
            <div class="reservation-form__group">
              <label for="reservation-participants">Nombre de participants</label>
              <select id="reservation-participants" name="participants">
                <option value="1">1 participant</option>
                <option value="2">2 participants</option>
                <option value="3">3 participants</option>
                <option value="4">4 participants</option>
              </select>
            </div>
          </div>
          <div class="reservation-form__group">
            <label>Souhaitez-vous l&rsquo;hébergement proposé&nbsp;?</label>
            <div class="reservation-form__choices">
              <label><input type="radio" name="housing" value="oui" /> Oui, ajoutez l&rsquo;hébergement recommandé</label>
            <label>Souhaitez-vous l&rsquo;hébergement premium&nbsp;?</label>
            <div class="reservation-form__choices">
              <label><input type="radio" name="housing" value="oui" /> Oui, ajoutez l&rsquo;hébergement 5★</label>
              <label><input type="radio" name="housing" value="non" checked /> Non, je gère l&rsquo;hébergement</label>
            </div>
          </div>
          <div class="reservation-form__group">
            <label>Souhaitez-vous les transferts organisés&nbsp;?</label>
            <div class="reservation-form__choices">
              <label><input type="radio" name="transport" value="oui" /> Oui, je souhaite les transferts</label>
            <label>Souhaitez-vous le transport privé&nbsp;?</label>
            <div class="reservation-form__choices">
              <label><input type="radio" name="transport" value="oui" /> Oui, transferts et chauffeur</label>
              <label><input type="radio" name="transport" value="non" checked /> Non, je gère mes déplacements</label>
            </div>
          </div>
          <div class="reservation-form__group">
            <label for="reservation-message">Message pour l&rsquo;équipe</label>
            <label for="reservation-message">Message à la conciergerie</label>
            <textarea id="reservation-message" name="message" placeholder="Précisez vos attentes, régime alimentaire, horaires d&rsquo;arrivée..."></textarea>
          </div>
          <button class="reservation-button reservation-button--primary reservation-form__submit" type="submit">Envoyer ma demande</button>
          <p class="reservation-cart__fineprint">
            Vos informations sont utilisées exclusivement pour organiser votre séjour. Un devis personnalisé vous sera envoyé pour validation.
          </p>
        </form>
        <div class="reservation-modal__confirmation" data-modal-confirmation hidden>
          <h3>Merci&nbsp;! Votre demande est enregistrée</h3>
          <p>
            Nous avons bien reçu votre demande. Un membre de l&rsquo;équipe vous contactera sous 24h pour finaliser votre réservation et sécuriser vos
            options.
          </p>
        </div>
      </div>
    </div>

    <script>
      const stageCatalogue = [
        {
          id: "poitiers-ete",
          name: "Stage Intensif CREPS Poitiers",
          category: "Compétiteurs 12-18 ans",
          start: "2024-07-08",
          end: "2024-07-13",
          location: "CREPS de Poitiers",
          price: 990,
          housingPrice: 320,
          transportPrice: 140,
          spots: 12,
          description: "Stage intensif au cœur du centre fédéral avec suivi vidéo quotidien et préparation physique ciblée.",
          features: [
            "4h de terrain &amp; prépa physique par jour",
            "Bilan de performance individuel",
            "Accès aux espaces de récupération du CREPS"
          ]
        },
        {
          id: "toulouse-ete",
          name: "Stage Performance CREPS Toulouse",
          category: "Adultes classés",
          start: "2024-07-22",
          end: "2024-07-27",
          location: "CREPS de Toulouse",
          price: 950,
          housingPrice: 300,
          transportPrice: 130,
          spots: 10,
          description: "Programme intensif sur dur extérieur avec sparring et coaching tactique personnalisé.",
          features: [
            "Groupes de 4 joueurs maximum",
            "Analyse vidéo service &amp; retour",
            "Accès salle de musculation et balnéo"
          ]
        },
        {
          id: "aix-aout",
          name: "Stage Elite CREPS Aix-en-Provence",
          category: "Jeunes espoirs",
          start: "2024-08-19",
          end: "2024-08-24",
          location: "CREPS d'Aix-en-Provence",
          price: 1020,
          housingPrice: 340,
          transportPrice: 150,
          spots: 14,
          description: "Immersion sur terre battue méditerranéenne avec coaching mental et séances spécifiques service.",
          features: [
            "Diagnostic vidéo d'entrée et de sortie",
            "Séances de préparation mentale",
            "Accès aux installations médicales du CREPS"
          ]
        },
        {
          id: "landes-automne",
          name: "Stage Intensif Domaine Landes Girondines",
          category: "Académie jeunes",
          start: "2024-10-21",
          end: "2024-10-26",
          location: "Domaine des Landes Girondines",
          price: 780,
          housingPrice: 260,
          transportPrice: 110,
          spots: 16,
          description: "Immersion nature avec sessions physiques outdoor, coaching tactique et ateliers cohésion d'équipe.",
          features: [
            "Triple séance quotidienne",
            "Encadrement 1 coach / 4 joueurs",
            "Activités lacustres et récupération en forêt"
          ]
        },
        {
          id: "cabourg-toussaint",
          name: "Stage Signature Cabourg",
          category: "Loisirs &amp; accompagnants",
          start: "2024-11-04",
          end: "2024-11-09",
          location: "Cabourg – Tennis Club",
          price: 860,
          housingPrice: 300,
          transportPrice: 120,
          spots: 18,
          description: "Semaine balnéaire mêlant coaching technique, séances bien-être et animations bord de mer.",
          features: [
            "2h30 de coaching quotidien",
            "Séances yoga &amp; mobilité",
            "Accès lounge et cocktail de clôture"
          ]
        }
      ];

      const monthNames = [
        "Janvier",
        "Février",
        "Mars",
        "Avril",
        "Mai",
        "Juin",
        "Juillet",
        "Août",
        "Septembre",
        "Octobre",
        "Novembre",
        "Décembre"
      ];

      const calendarState = (() => {
        const now = new Date();
        const firstStage = stageCatalogue[0];
        if (!firstStage) {
          return { year: now.getFullYear(), month: now.getMonth() };
        }
        const startDate = new Date(firstStage.start);
        return { year: startDate.getFullYear(), month: startDate.getMonth() };
      })();

      const cart = [];

      const nav = document.querySelector("[data-reservation-nav]");
      const navToggle = document.querySelector("[data-nav-toggle]");
      const navMobile = document.querySelector("[data-nav-mobile]");
      const toast = document.querySelector("[data-toast]");
      const cartItemsContainer = document.querySelector("[data-cart-items]");
      const cartTotal = document.querySelector("[data-cart-total]");
      const cartCta = document.querySelector("[data-cart-cta]");
      const stageListContainer = document.querySelector("[data-stage-list]");
      const calendarGrid = document.querySelector("[data-calendar-grid]");
      const calendarLabel = document.querySelector("[data-calendar-label]");
      const calendarDetails = document.querySelector("[data-calendar-details]");
      const modal = document.querySelector("[data-modal]");
      const modalSummary = document.querySelector("[data-modal-summary]");
      const modalConfirmation = document.querySelector("[data-modal-confirmation]");
      const reservationForm = document.querySelector("[data-reservation-form]");

      function formatDateRange(start, end) {
        const startDate = new Date(start);
        const endDate = new Date(end);
        const startDay = startDate.getDate();
        const endDay = endDate.getDate();
        const month = monthNames[startDate.getMonth()];
        return `${startDay} – ${endDay} ${month}`;
      }

      function formatPrice(value) {
        return new Intl.NumberFormat("fr-FR", { style: "currency", currency: "EUR" }).format(value);
      }

      function renderCalendar() {
        const { year, month } = calendarState;
        calendarLabel.textContent = `${monthNames[month]} ${year}`;

        const firstDay = new Date(year, month, 1);
        const daysInMonth = new Date(year, month + 1, 0).getDate();
        const offset = (firstDay.getDay() + 6) % 7;

        calendarGrid.querySelectorAll(".calendar-day").forEach((node) => node.remove());

        for (let i = 0; i < offset; i += 1) {
          const filler = document.createElement("div");
          filler.className = "calendar-day calendar-day--empty";
          calendarGrid.appendChild(filler);
        }

        for (let day = 1; day <= daysInMonth; day += 1) {
          const dateIso = `${year}-${String(month + 1).padStart(2, "0")}-${String(day).padStart(2, "0")}`;
          const stage = stageCatalogue.find((item) => item.start === dateIso);
          const dayEl = document.createElement(stage ? "button" : "div");
          if (stage) {
            dayEl.type = "button";
          }
          dayEl.className = "calendar-day";
          dayEl.innerHTML = `<span class="calendar-day__number">${day}</span>`;

          if (stage) {
            dayEl.classList.add("calendar-day--selectable");
            dayEl.dataset.stageId = stage.id;
            dayEl.innerHTML += `<span class="calendar-day__stage">Stage</span>`;
            dayEl.addEventListener("click", () => {
              document.querySelectorAll(".calendar-day--active").forEach((node) => node.classList.remove("calendar-day--active"));
              dayEl.classList.add("calendar-day--active");
              showStageDetails(stage);
            });
          }

          calendarGrid.appendChild(dayEl);
        }
      }

      function showStageDetails(stage) {
        calendarDetails.innerHTML = `
          <span class="calendar-details__badge">Sélection</span>
          <h3>${stage.name}</h3>
          <div class="calendar-details__meta">
            <span><strong>Période :</strong> ${formatDateRange(stage.start, stage.end)}</span>
            <span><strong>Lieu :</strong> ${stage.location}</span>
            <span><strong>Places disponibles :</strong> ${stage.spots}</span>
            <span><strong>Investissement :</strong> ${formatPrice(stage.price)}</span>
          </div>
          <p>${stage.description}</p>
          <ul class="calendar-details__features">
            ${stage.features.map((feature) => `<li>${feature}</li>`).join("")}
          </ul>
          <div class="stage-card__actions">
            <button class="reservation-button reservation-button--primary" type="button" data-add-stage="${stage.id}">
              Ajouter au panier
            </button>
            <button class="reservation-button" type="button" data-open-modal>
              Finaliser ma réservation
            </button>
          </div>
        `;
      }

      function renderStageCards() {
        stageListContainer.innerHTML = stageCatalogue
          .map(
            (stage) => `
              <article class="stage-card">
                <div class="stage-card__header">
                  <span class="stage-card__eyebrow">${stage.category}</span>
                  <h3>${stage.name}</h3>
                  <span class="stage-card__price">${formatPrice(stage.price)}</span>
                </div>
                <div class="stage-card__meta">
                  <span><strong>Période :</strong> ${formatDateRange(stage.start, stage.end)}</span>
                  <span><strong>Lieu :</strong> ${stage.location}</span>
                  <span><strong>Places :</strong> ${stage.spots} participants</span>
                </div>
                <p>${stage.description}</p>
                <ul class="stage-card__features">
                  ${stage.features.map((feature) => `<li>${feature}</li>`).join("")}
                </ul>
                <div class="stage-card__actions">
                  <button class="reservation-button reservation-button--primary" type="button" data-add-stage="${stage.id}">
                    Ajouter au panier
                  </button>
                  <button class="reservation-button" type="button" data-open-modal>
                    Voir le panier
                  </button>
                </div>
              </article>
            `
          )
          .join("");
      }

      function findCartItem(stageId) {
        return cart.find((item) => item.id === stageId);
      }

      function updateCartDisplay() {
        if (!cart.length) {
          cartItemsContainer.innerHTML = '<div class="reservation-cart__empty">Ajoutez un stage pour démarrer votre réservation.</div>';
          cartTotal.querySelector("strong").textContent = "0 €";
          cartCta.disabled = true;
          return;
        }

        cartItemsContainer.innerHTML = cart
          .map((item) => {
            const stage = stageCatalogue.find((stageItem) => stageItem.id === item.id);
            const linePrice = item.quantity * stage.price;
            const housingPrice = item.housing ? item.quantity * stage.housingPrice : 0;
            const transportPrice = item.transport ? item.quantity * stage.transportPrice : 0;
            const total = linePrice + housingPrice + transportPrice;
            return `
              <div class="cart-item" data-cart-item="${item.id}">
                <div class="cart-item__header">
                  <strong>${stage.name}</strong>
                  <button class="cart-item__remove" type="button" data-remove-stage="${item.id}">Retirer</button>
                </div>
                <div class="cart-item__meta">
                  <span>${formatDateRange(stage.start, stage.end)}</span>
                  <span>${stage.location}</span>
                </div>
                <div class="cart-item__controls">
                  <span>Participants</span>
                  <div class="cart-item__quantity">
                    <button type="button" data-qty="minus" aria-label="Réduire">−</button>
                    <span>${item.quantity}</span>
                    <button type="button" data-qty="plus" aria-label="Augmenter">+</button>
                  </div>
                </div>
                <div class="cart-item__options">
                  <label>
                    <input type="checkbox" data-toggle-option="housing" ${item.housing ? "checked" : ""} /> Hébergement + ${formatPrice(stage.housingPrice)} / pers.
                  </label>
                  <label>
                    <input type="checkbox" data-toggle-option="transport" ${item.transport ? "checked" : ""} /> Transport + ${formatPrice(stage.transportPrice)} / pers.
                  </label>
                </div>
                <div class="cart-item__price">${formatPrice(total)}</div>
              </div>
            `;
          })
          .join("");

        const totalValue = cart.reduce((acc, item) => {
          const stage = stageCatalogue.find((stageItem) => stageItem.id === item.id);
          if (!stage) return acc;
          let subtotal = item.quantity * stage.price;
          if (item.housing) subtotal += item.quantity * stage.housingPrice;
          if (item.transport) subtotal += item.quantity * stage.transportPrice;
          return acc + subtotal;
        }, 0);

        cartTotal.querySelector("strong").textContent = formatPrice(totalValue);
        cartCta.disabled = false;
      }

      function addStageToCart(stageId) {
        const stage = stageCatalogue.find((item) => item.id === stageId);
        if (!stage) return;
        const existing = findCartItem(stageId);
        if (existing) {
          existing.quantity += 1;
        } else {
          cart.push({ id: stageId, quantity: 1, housing: false, transport: false });
        }
        updateCartDisplay();
        showToast(`${stage.name} ajouté au panier`);
      }

      function showToast(message) {
        if (!toast) return;
        toast.textContent = message;
        toast.dataset.active = "true";
        setTimeout(() => {
          delete toast.dataset.active;
        }, 2500);
      }

      function handleCartInteraction(event) {
        const target = event.target;
        const cartItemEl = target.closest("[data-cart-item]");
        if (!cartItemEl) return;
        const stageId = cartItemEl.dataset.cartItem;
        const item = findCartItem(stageId);
        if (!item) return;

        if (target.matches("[data-remove-stage]")) {
          const index = cart.findIndex((entry) => entry.id === stageId);
          if (index > -1) {
            cart.splice(index, 1);
            updateCartDisplay();
          }
          return;
        }

        if (target.matches("[data-qty]") || target.closest("[data-qty]") === target) {
          if (target.dataset.qty === "minus" && item.quantity > 1) {
            item.quantity -= 1;
          }
          if (target.dataset.qty === "plus") {
            item.quantity += 1;
          }
          updateCartDisplay();
          return;
        }

        if (target.matches("[data-toggle-option]") || target.closest("[data-toggle-option]") === target) {
          const option = target.dataset.toggleOption;
          if (option === "housing") {
            item.housing = !item.housing;
          }
          if (option === "transport") {
            item.transport = !item.transport;
          }
          updateCartDisplay();
        }
      }

      function openModal() {
        if (cart.length === 0) {
          showToast("Ajoutez un stage avant de finaliser");
          return;
        }
        modal.dataset.open = "true";
        modal.setAttribute("aria-hidden", "false");
        updateModalSummary();
        modalConfirmation.hidden = true;
        reservationForm.hidden = false;
        const firstField = reservationForm.querySelector("input, select, textarea");
        if (firstField) {
          firstField.focus();
        }
      }

      function closeModal() {
        delete modal.dataset.open;
        modal.setAttribute("aria-hidden", "true");
      }

      function updateModalSummary() {
        if (!cart.length) {
          modalSummary.innerHTML = "Votre panier est vide pour le moment.";
          return;
        }
        const summaryHtml = cart
          .map((item) => {
            const stage = stageCatalogue.find((stageItem) => stageItem.id === item.id);
            if (!stage) return "";
            const options = [
              item.housing ? "Hébergement premium" : null,
              item.transport ? "Transferts privés" : null
            ]
              .filter(Boolean)
              .join(" · ");
            return `
              <div>
                <strong>${stage.name}</strong>
                <div>${formatDateRange(stage.start, stage.end)} &ndash; ${stage.location}</div>
                <div>${item.quantity} participant${item.quantity > 1 ? "s" : ""}${options ? ` · ${options}` : ""}</div>
              </div>
            `;
          })
          .join("");
        modalSummary.innerHTML = summaryHtml;
      }

      function handleFormSubmit(event) {
        event.preventDefault();
        reservationForm.hidden = true;
        modalConfirmation.hidden = false;
      }

      function bindEvents() {
        document.querySelectorAll("[data-open-modal]").forEach((button) => {
          button.addEventListener("click", openModal);
        });

        document.querySelectorAll("[data-modal-dismiss]").forEach((button) => {
          button.addEventListener("click", closeModal);
        });

        document.addEventListener("keydown", (event) => {
          if (event.key === "Escape" && modal.dataset.open === "true") {
            closeModal();
          }
        });

        navToggle.addEventListener("click", () => {
          const isOpen = nav.getAttribute("data-mobile-open") === "true";
          nav.setAttribute("data-mobile-open", String(!isOpen));
          navToggle.setAttribute("aria-expanded", String(!isOpen));
        });

        navMobile.querySelectorAll("a").forEach((link) => {
          link.addEventListener("click", () => {
            nav.setAttribute("data-mobile-open", "false");
            navToggle.setAttribute("aria-expanded", "false");
          });
        });

        stageListContainer.addEventListener("click", (event) => {
          const button = event.target.closest("[data-add-stage]");
          if (!button) return;
          addStageToCart(button.dataset.addStage);
        });

        calendarDetails.addEventListener("click", (event) => {
          const button = event.target.closest("[data-add-stage]");
          if (!button) return;
          addStageToCart(button.dataset.addStage);
        });

        cartItemsContainer.addEventListener("click", handleCartInteraction);

        document.querySelector("[data-calendar-prev]").addEventListener("click", () => {
          if (calendarState.month === 0) {
            calendarState.month = 11;
            calendarState.year -= 1;
          } else {
            calendarState.month -= 1;
          }
          renderCalendar();
        });

        document.querySelector("[data-calendar-next]").addEventListener("click", () => {
          if (calendarState.month === 11) {
            calendarState.month = 0;
            calendarState.year += 1;
          } else {
            calendarState.month += 1;
          }
          renderCalendar();
        });

        reservationForm.addEventListener("submit", handleFormSubmit);
      }

      renderCalendar();
      renderStageCards();
      updateCartDisplay();
      bindEvents();
    </script>
  </body>
</html>
          <h3>Merci&nbsp;! Votre conciergerie prend le relais</h3>
          <p>
            Nous avons bien reçu votre demande. Un membre de l&rsquo;équipe vous contactera sous 24h pour finaliser votre réservation et sécuriser vos
            options premium.
          </p>
        </div>
      </div>
    </div>

    <script>
      const stageCatalogue = [
        {
          id: "elite-juillet",
          name: "Stage Elite Performance",
          category: "Compétiteurs 12-18 ans",
          start: "2024-07-08",
          end: "2024-07-14",
          location: "Arcachon – Résidence 5★",
          price: 1290,
          housingPrice: 420,
          transportPrice: 160,
          spots: 10,
          description: "Stage intensif avec préparation physique quotidienne et analyses vidéo.",
          features: [
            "4h de terrain &amp; prépa physique chaque jour",
            "Coaching mental &amp; routines de match",
            "Accès exclusif au spa marin en fin de journée"
          ]
        },
        {
          id: "performance-aout",
          name: "Stage Performance Adultes",
          category: "Adultes classés",
          start: "2024-08-12",
          end: "2024-08-17",
          location: "Marbella – Resort privé",
          price: 1150,
          housingPrice: 480,
          transportPrice: 190,
          spots: 12,
          description: "Programme performance sur terre battue avec sparring international.",
          features: [
            "Groupes de 4 joueurs maximum",
            "Analyse vidéo service &amp; revers",
            "Cocktail networking et dîner signature"
          ]
        },
        {
          id: "decouverte-septembre",
          name: "Stage Découverte Premium",
          category: "Loisirs &amp; accompagnants",
          start: "2024-09-09",
          end: "2024-09-13",
          location: "Paris – Lagardère Paris Racing",
          price: 890,
          housingPrice: 320,
          transportPrice: 110,
          spots: 14,
          description: "Initiation haut de gamme avec ateliers bien-être et visites culturelles.",
          features: [
            "2h30 de coaching quotidien",
            "Séance yoga &amp; mobilité",
            "Accès lounge et cocktail de clôture"
          ]
        },
        {
          id: "hostens-octobre",
          name: "Stage Intensif Hostens",
          category: "Académie jeunes",
          start: "2024-10-21",
          end: "2024-10-26",
          location: "Hostens – Domaine nature",
          price: 760,
          housingPrice: 260,
          transportPrice: 90,
          spots: 16,
          description: "Immersion nature avec sessions physiques en extérieur et cohésion d'équipe.",
          features: [
            "Triple séance quotidienne",
            "Encadrement 1 coach / 4 joueurs",
            "Activités lacustres et team building"
          ]
        },
        {
          id: "monaco-novembre",
          name: "Masterclass Monte-Carlo",
          category: "Coaching privé",
          start: "2024-11-18",
          end: "2024-11-21",
          location: "Monte-Carlo Country Club",
          price: 2150,
          housingPrice: 680,
          transportPrice: 260,
          spots: 6,
          description: "Coaching individuel sur les installations mythiques de Monaco.",
          features: [
            "2h de cours privés par jour",
            "Rencontre avec un joueur du circuit",
            "Accès lounge Monte-Carlo &amp; dîner gastronomique"
          ]
        }
      ];

      const monthNames = [
        "Janvier",
        "Février",
        "Mars",
        "Avril",
        "Mai",
        "Juin",
        "Juillet",
        "Août",
        "Septembre",
        "Octobre",
        "Novembre",
        "Décembre"
      ];

      const calendarState = (() => {
        const now = new Date();
        const firstStage = stageCatalogue[0];
        if (!firstStage) {
          return { year: now.getFullYear(), month: now.getMonth() };
        }
        const startDate = new Date(firstStage.start);
        return { year: startDate.getFullYear(), month: startDate.getMonth() };
      })();

      const cart = [];

      const nav = document.querySelector("[data-reservation-nav]");
      const navToggle = document.querySelector("[data-nav-toggle]");
      const navMobile = document.querySelector("[data-nav-mobile]");
      const toast = document.querySelector("[data-toast]");
      const cartItemsContainer = document.querySelector("[data-cart-items]");
      const cartTotal = document.querySelector("[data-cart-total]");
      const cartCta = document.querySelector("[data-cart-cta]");
      const stageListContainer = document.querySelector("[data-stage-list]");
      const calendarGrid = document.querySelector("[data-calendar-grid]");
      const calendarLabel = document.querySelector("[data-calendar-label]");
      const calendarDetails = document.querySelector("[data-calendar-details]");
      const modal = document.querySelector("[data-modal]");
      const modalSummary = document.querySelector("[data-modal-summary]");
      const modalConfirmation = document.querySelector("[data-modal-confirmation]");
      const reservationForm = document.querySelector("[data-reservation-form]");

      function formatDateRange(start, end) {
        const startDate = new Date(start);
        const endDate = new Date(end);
        const startDay = startDate.getDate();
        const endDay = endDate.getDate();
        const month = monthNames[startDate.getMonth()];
        return `${startDay} – ${endDay} ${month}`;
      }

      function formatPrice(value) {
        return new Intl.NumberFormat("fr-FR", { style: "currency", currency: "EUR" }).format(value);
      }

      function renderCalendar() {
        const { year, month } = calendarState;
        calendarLabel.textContent = `${monthNames[month]} ${year}`;

        const firstDay = new Date(year, month, 1);
        const daysInMonth = new Date(year, month + 1, 0).getDate();
        const offset = (firstDay.getDay() + 6) % 7;

        calendarGrid.querySelectorAll(".calendar-day").forEach((node) => node.remove());

        for (let i = 0; i < offset; i += 1) {
          const filler = document.createElement("div");
          filler.className = "calendar-day calendar-day--empty";
          calendarGrid.appendChild(filler);
        }

        for (let day = 1; day <= daysInMonth; day += 1) {
          const dateIso = `${year}-${String(month + 1).padStart(2, "0")}-${String(day).padStart(2, "0")}`;
          const stage = stageCatalogue.find((item) => item.start === dateIso);
          const dayEl = document.createElement(stage ? "button" : "div");
          if (stage) {
            dayEl.type = "button";
          }
          dayEl.className = "calendar-day";
          dayEl.innerHTML = `<span class="calendar-day__number">${day}</span>`;

          if (stage) {
            dayEl.classList.add("calendar-day--selectable");
            dayEl.dataset.stageId = stage.id;
            dayEl.innerHTML += `<span class="calendar-day__stage">Stage</span>`;
            dayEl.addEventListener("click", () => {
              document.querySelectorAll(".calendar-day--active").forEach((node) => node.classList.remove("calendar-day--active"));
              dayEl.classList.add("calendar-day--active");
              showStageDetails(stage);
            });
          }

          calendarGrid.appendChild(dayEl);
        }
      }

      function showStageDetails(stage) {
        calendarDetails.innerHTML = `
          <span class="calendar-details__badge">Sélection</span>
          <h3>${stage.name}</h3>
          <div class="calendar-details__meta">
            <span><strong>Période :</strong> ${formatDateRange(stage.start, stage.end)}</span>
            <span><strong>Lieu :</strong> ${stage.location}</span>
            <span><strong>Places disponibles :</strong> ${stage.spots}</span>
            <span><strong>Investissement :</strong> ${formatPrice(stage.price)}</span>
          </div>
          <p>${stage.description}</p>
          <ul class="calendar-details__features">
            ${stage.features.map((feature) => `<li>${feature}</li>`).join("")}
          </ul>
          <div class="stage-card__actions">
            <button class="reservation-button reservation-button--primary" type="button" data-add-stage="${stage.id}">
              Ajouter au panier
            </button>
            <button class="reservation-button" type="button" data-open-modal>
              Réserver avec la conciergerie
            </button>
          </div>
        `;
      }

      function renderStageCards() {
        stageListContainer.innerHTML = stageCatalogue
          .map(
            (stage) => `
              <article class="stage-card">
                <div class="stage-card__header">
                  <span class="stage-card__eyebrow">${stage.category}</span>
                  <h3>${stage.name}</h3>
                  <span class="stage-card__price">${formatPrice(stage.price)}</span>
                </div>
                <div class="stage-card__meta">
                  <span><strong>Période :</strong> ${formatDateRange(stage.start, stage.end)}</span>
                  <span><strong>Lieu :</strong> ${stage.location}</span>
                  <span><strong>Places :</strong> ${stage.spots} participants</span>
                </div>
                <p>${stage.description}</p>
                <ul class="stage-card__features">
                  ${stage.features.map((feature) => `<li>${feature}</li>`).join("")}
                </ul>
                <div class="stage-card__actions">
                  <button class="reservation-button reservation-button--primary" type="button" data-add-stage="${stage.id}">
                    Ajouter au panier
                  </button>
                  <button class="reservation-button" type="button" data-open-modal>
                    Contacter la conciergerie
                  </button>
                </div>
              </article>
            `
          )
          .join("");
      }

      function findCartItem(stageId) {
        return cart.find((item) => item.id === stageId);
      }

      function updateCartDisplay() {
        if (!cart.length) {
          cartItemsContainer.innerHTML = '<div class="reservation-cart__empty">Ajoutez un stage pour démarrer votre réservation.</div>';
          cartTotal.querySelector("strong").textContent = "0 €";
          cartCta.disabled = true;
          return;
        }

        cartItemsContainer.innerHTML = cart
          .map((item) => {
            const stage = stageCatalogue.find((stageItem) => stageItem.id === item.id);
            const linePrice = item.quantity * stage.price;
            const housingPrice = item.housing ? item.quantity * stage.housingPrice : 0;
            const transportPrice = item.transport ? item.quantity * stage.transportPrice : 0;
            const total = linePrice + housingPrice + transportPrice;
            return `
              <div class="cart-item" data-cart-item="${item.id}">
                <div class="cart-item__header">
                  <strong>${stage.name}</strong>
                  <button class="cart-item__remove" type="button" data-remove-stage="${item.id}">Retirer</button>
                </div>
                <div class="cart-item__meta">
                  <span>${formatDateRange(stage.start, stage.end)}</span>
                  <span>${stage.location}</span>
                </div>
                <div class="cart-item__controls">
                  <span>Participants</span>
                  <div class="cart-item__quantity">
                    <button type="button" data-qty="minus" aria-label="Réduire">−</button>
                    <span>${item.quantity}</span>
                    <button type="button" data-qty="plus" aria-label="Augmenter">+</button>
                  </div>
                </div>
                <div class="cart-item__options">
                  <label>
                    <input type="checkbox" data-toggle-option="housing" ${item.housing ? "checked" : ""} /> Hébergement + ${formatPrice(stage.housingPrice)} / pers.
                  </label>
                  <label>
                    <input type="checkbox" data-toggle-option="transport" ${item.transport ? "checked" : ""} /> Transport + ${formatPrice(stage.transportPrice)} / pers.
                  </label>
                </div>
                <div class="cart-item__price">${formatPrice(total)}</div>
              </div>
            `;
          })
          .join("");

        const totalValue = cart.reduce((acc, item) => {
          const stage = stageCatalogue.find((stageItem) => stageItem.id === item.id);
          if (!stage) return acc;
          let subtotal = item.quantity * stage.price;
          if (item.housing) subtotal += item.quantity * stage.housingPrice;
          if (item.transport) subtotal += item.quantity * stage.transportPrice;
          return acc + subtotal;
        }, 0);

        cartTotal.querySelector("strong").textContent = formatPrice(totalValue);
        cartCta.disabled = false;
      }

      function addStageToCart(stageId) {
        const stage = stageCatalogue.find((item) => item.id === stageId);
        if (!stage) return;
        const existing = findCartItem(stageId);
        if (existing) {
          existing.quantity += 1;
        } else {
          cart.push({ id: stageId, quantity: 1, housing: false, transport: false });
        }
        updateCartDisplay();
        showToast(`${stage.name} ajouté au panier`);
      }

      function showToast(message) {
        if (!toast) return;
        toast.textContent = message;
        toast.dataset.active = "true";
        setTimeout(() => {
          delete toast.dataset.active;
        }, 2500);
      }

      function handleCartInteraction(event) {
        const target = event.target;
        const cartItemEl = target.closest("[data-cart-item]");
        if (!cartItemEl) return;
        const stageId = cartItemEl.dataset.cartItem;
        const item = findCartItem(stageId);
        if (!item) return;

        if (target.matches("[data-remove-stage]")) {
          const index = cart.findIndex((entry) => entry.id === stageId);
          if (index > -1) {
            cart.splice(index, 1);
            updateCartDisplay();
          }
          return;
        }

        if (target.matches("[data-qty]") || target.closest("[data-qty]") === target) {
          if (target.dataset.qty === "minus" && item.quantity > 1) {
            item.quantity -= 1;
          }
          if (target.dataset.qty === "plus") {
            item.quantity += 1;
          }
          updateCartDisplay();
          return;
        }

        if (target.matches("[data-toggle-option]") || target.closest("[data-toggle-option]") === target) {
          const option = target.dataset.toggleOption;
          if (option === "housing") {
            item.housing = !item.housing;
          }
          if (option === "transport") {
            item.transport = !item.transport;
          }
          updateCartDisplay();
        }
      }

      function openModal() {
        if (cart.length === 0) {
          showToast("Ajoutez un stage avant de finaliser");
          return;
        }
        modal.dataset.open = "true";
        modal.setAttribute("aria-hidden", "false");
        updateModalSummary();
        modalConfirmation.hidden = true;
        reservationForm.hidden = false;
        const firstField = reservationForm.querySelector("input, select, textarea");
        if (firstField) {
          firstField.focus();
        }
      }

      function closeModal() {
        delete modal.dataset.open;
        modal.setAttribute("aria-hidden", "true");
      }

      function updateModalSummary() {
        if (!cart.length) {
          modalSummary.innerHTML = "Votre panier est vide pour le moment.";
          return;
        }
        const summaryHtml = cart
          .map((item) => {
            const stage = stageCatalogue.find((stageItem) => stageItem.id === item.id);
            if (!stage) return "";
            const options = [
              item.housing ? "Hébergement premium" : null,
              item.transport ? "Transferts privés" : null
            ]
              .filter(Boolean)
              .join(" · ");
            return `
              <div>
                <strong>${stage.name}</strong>
                <div>${formatDateRange(stage.start, stage.end)} &ndash; ${stage.location}</div>
                <div>${item.quantity} participant${item.quantity > 1 ? "s" : ""}${options ? ` · ${options}` : ""}</div>
              </div>
            `;
          })
          .join("");
        modalSummary.innerHTML = summaryHtml;
      }

      function handleFormSubmit(event) {
        event.preventDefault();
        reservationForm.hidden = true;
        modalConfirmation.hidden = false;
      }

      function bindEvents() {
        document.querySelectorAll("[data-open-modal]").forEach((button) => {
          button.addEventListener("click", openModal);
        });

        document.querySelectorAll("[data-modal-dismiss]").forEach((button) => {
          button.addEventListener("click", closeModal);
        });

        document.addEventListener("keydown", (event) => {
          if (event.key === "Escape" && modal.dataset.open === "true") {
            closeModal();
          }
        });

        navToggle.addEventListener("click", () => {
          const isOpen = nav.getAttribute("data-mobile-open") === "true";
          nav.setAttribute("data-mobile-open", String(!isOpen));
          navToggle.setAttribute("aria-expanded", String(!isOpen));
        });

        navMobile.querySelectorAll("a").forEach((link) => {
          link.addEventListener("click", () => {
            nav.setAttribute("data-mobile-open", "false");
            navToggle.setAttribute("aria-expanded", "false");
          });
        });

        stageListContainer.addEventListener("click", (event) => {
          const button = event.target.closest("[data-add-stage]");
          if (!button) return;
          addStageToCart(button.dataset.addStage);
        });

        calendarDetails.addEventListener("click", (event) => {
          const button = event.target.closest("[data-add-stage]");
          if (!button) return;
          addStageToCart(button.dataset.addStage);
        });

        cartItemsContainer.addEventListener("click", handleCartInteraction);

        document.querySelector("[data-calendar-prev]").addEventListener("click", () => {
          if (calendarState.month === 0) {
            calendarState.month = 11;
            calendarState.year -= 1;
          } else {
            calendarState.month -= 1;
          }
          renderCalendar();
        });

        document.querySelector("[data-calendar-next]").addEventListener("click", () => {
          if (calendarState.month === 11) {
            calendarState.month = 0;
            calendarState.year += 1;
          } else {
            calendarState.month += 1;
          }
          renderCalendar();
        });

        reservationForm.addEventListener("submit", handleFormSubmit);
      }

      renderCalendar();
      renderStageCards();
      updateCartDisplay();
      bindEvents();
    </script>
  </body>
</html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Réservez votre stage premium - Tennis Impact Academy</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap"
    rel="stylesheet"
  />
  <link rel="stylesheet" href="style.css" />
  <style>
    body.reservation-page,
    body.reservation-page *,
    body.reservation-page *::before,
    body.reservation-page *::after {
      box-sizing: border-box;
    }

    body.reservation-page {
      --nav-height: 78px;
      --bg-body: radial-gradient(circle at 15% 20%, rgba(15, 32, 72, 0.28), transparent 52%),
        linear-gradient(160deg, #040916 0%, #020512 45%, #050a1f 100%);
      --bg-surface: linear-gradient(155deg, rgba(8, 18, 42, 0.82), rgba(5, 14, 34, 0.85));
      --bg-soft: rgba(8, 20, 46, 0.55);
      --border-soft: rgba(255, 255, 255, 0.08);
      --text-primary: #f5f7ff;
      --text-secondary: rgba(222, 231, 255, 0.75);
      --accent: #f5c451;
      --accent-strong: #f0ad2c;
      --accent-soft: rgba(245, 196, 81, 0.18);
      --shadow-soft: 0 26px 72px rgba(2, 10, 32, 0.45);
      margin: 0;
      font-family: "Poppins", "Segoe UI", sans-serif;
      background: var(--bg-body);
      color: var(--text-primary);
      line-height: 1.7;
      min-height: 100vh;
      scroll-padding-top: calc(var(--nav-height) + 36px);
    }

    body.reservation-page a {
      color: inherit;
      text-decoration: none;
    }

    body.reservation-page a:hover,
    body.reservation-page a:focus-visible {
      color: var(--accent);
    }

    body.reservation-page ::selection {
      background: var(--accent);
      color: #041021;
    }

    .reservation-page .container {
      width: min(1120px, 92vw);
      margin: 0 auto;
    }

    .reservation-section {
      position: relative;
      padding: clamp(64px, 9vw, 110px) 0;
      overflow: hidden;
    }

    .reservation-section::after {
      content: "";
      position: absolute;
      inset: 0;
      pointer-events: none;
      opacity: 0.4;
      mix-blend-mode: screen;
      background: radial-gradient(circle at 18% 20%, rgba(245, 196, 81, 0.1), transparent 45%),
        radial-gradient(circle at 82% 26%, rgba(92, 125, 255, 0.12), transparent 60%);
    }

    .reservation-section > * {
      position: relative;
      z-index: 1;
    }

    .reservation-section--surface {
      background: linear-gradient(155deg, rgba(7, 16, 38, 0.82), rgba(6, 18, 45, 0.9));
    }

    .reservation-section--deep {
      background: linear-gradient(150deg, rgba(3, 9, 24, 0.94), rgba(4, 12, 32, 0.96));
    }

    .section-intro {
      max-width: 720px;
      margin: 0 auto clamp(38px, 6vw, 64px);
      text-align: center;
    }

    .section-eyebrow {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      font-size: 0.85rem;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      color: var(--accent);
    }

    .section-eyebrow::before,
    .section-eyebrow::after {
      content: "";
      display: block;
      height: 1px;
      width: 44px;
      background: var(--accent-soft);
    }

    .section-intro h2 {
      font-family: "Playfair Display", serif;
      font-size: clamp(2.3rem, 3.2vw, 3.2rem);
      margin: 16px 0 18px;
      color: var(--text-primary);
    }

    .section-intro p {
      margin: 0;
      color: var(--text-secondary);
    }

    .reservation-hero {
      position: relative;
      display: grid;
      place-items: center;
      min-height: clamp(520px, 72vh, 680px);
      padding: clamp(72px, 12vw, 128px) clamp(20px, 6vw, 72px);
      background: linear-gradient(135deg, rgba(6, 14, 32, 0.82), rgba(7, 17, 40, 0.78)),
        url("assets/photos/3.png") center/cover;
      overflow: hidden;
    }

    .reservation-hero::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(3, 9, 24, 0.85), rgba(7, 16, 38, 0.68));
      backdrop-filter: blur(5px);
    }

    .reservation-hero::after {
      content: "";
      position: absolute;
      inset: 0;
      opacity: 0.6;
      background: radial-gradient(circle at 20% 24%, rgba(245, 196, 81, 0.25), transparent 52%),
        radial-gradient(circle at 78% 30%, rgba(82, 122, 255, 0.18), transparent 60%);
    }

    .hero-content {
      position: relative;
      z-index: 2;
      width: min(1040px, 100%);
      margin: 0 auto;
      max-width: 880px;
      background: linear-gradient(160deg, rgba(10, 22, 52, 0.78), rgba(7, 14, 36, 0.72));
      border-radius: 32px;
      padding: clamp(36px, 6vw, 68px);
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(255, 255, 255, 0.06);
    }

    .hero-shell {
      display: grid;
      gap: clamp(28px, 4vw, 42px);
      align-items: center;
    }

    @media (min-width: 980px) {
      .hero-shell {
        grid-template-columns: minmax(0, 1fr) minmax(280px, 36%);
      }
    }

    .hero-copy {
      display: grid;
      gap: clamp(22px, 3vw, 32px);
      text-align: left;
      justify-items: start;
    }

      text-align: center;
      border: 1px solid rgba(255, 255, 255, 0.06);
    }

    .hero-kicker {
      display: inline-flex;
      align-items: center;
      gap: 14px;
      font-size: 0.95rem;
      letter-spacing: 0.38em;
      text-transform: uppercase;
      color: var(--accent);
      margin-bottom: clamp(18px, 3vw, 28px);
    }

    .hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 8px 18px;
      border-radius: 999px;
      background: rgba(245, 196, 81, 0.16);
      color: var(--accent);
      font-size: 0.8rem;
      letter-spacing: 0.28em;
      text-transform: uppercase;
      margin-bottom: 8px;
    }

    .hero-badge::before {
      content: "";
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: currentColor;
      opacity: 0.8;
    }

    .hero-kicker::before,
    .hero-kicker::after {
      content: "";
      display: block;
      height: 1px;
      width: 48px;
      background: var(--accent-soft);
    }

    .hero-title {
      font-family: "Playfair Display", serif;
      font-size: clamp(2.8rem, 4vw, 4rem);
      margin: 0 0 18px;
      letter-spacing: -0.01em;
    }

    .hero-subtitle {
      margin: 0;
      margin-bottom: clamp(24px, 4vw, 32px);
      margin: 0 auto clamp(28px, 4vw, 38px);
      max-width: 640px;
      color: var(--text-secondary);
      font-size: clamp(1.05rem, 1.2vw, 1.25rem);
    }

    .hero-cta {
      display: flex;
      flex-wrap: wrap;
      justify-content: flex-start;
      justify-content: center;
      gap: 18px;
      margin-bottom: clamp(32px, 5vw, 48px);
    }

    .hero-metrics {
      margin: 0;
      padding: 0;
      list-style: none;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
      gap: 16px;
      width: 100%;
    }

    .hero-metric {
      padding: 18px 20px;
      border-radius: 20px;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.08);
      display: grid;
      gap: 4px;
    }

    .hero-metric strong {
      font-family: "Playfair Display", serif;
      font-size: clamp(1.6rem, 2vw, 2rem);
      color: var(--accent);
      line-height: 1.1;
    }

    .hero-metric span {
      color: var(--text-secondary);
      font-size: 0.92rem;
    }

    .btn {
      --btn-bg: rgba(255, 255, 255, 0.05);
      --btn-color: var(--text-primary);
      --btn-border: rgba(255, 255, 255, 0.14);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      padding: 14px 26px;
      border-radius: 999px;
      border: 1px solid var(--btn-border);
      background: var(--btn-bg);
      color: var(--btn-color);
      font-weight: 600;
      letter-spacing: 0.02em;
      transition: transform 0.25s ease, box-shadow 0.25s ease, background 0.25s ease, color 0.25s ease,
        border-color 0.25s ease;
      cursor: pointer;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 16px 48px rgba(6, 16, 40, 0.45);
    }

    .btn:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    .btn--primary {
      --btn-bg: linear-gradient(135deg, var(--accent) 0%, var(--accent-strong) 100%);
      --btn-border: transparent;
      --btn-color: #041021;
      box-shadow: 0 14px 42px rgba(245, 196, 81, 0.32);
    }

    .btn--ghost {
      --btn-bg: rgba(255, 255, 255, 0.06);
    }

    .hero-benefits {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 22px;
      text-align: left;
    }

    .hero-benefit {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 18px 22px;
      border-radius: 20px;
      background: rgba(8, 20, 46, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.08);
    }

    .hero-benefit span {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 36px;
      height: 36px;
      border-radius: 10px;
      background: rgba(245, 196, 81, 0.18);
      color: var(--accent);
      font-size: 1.05rem;
      flex-shrink: 0;
    }

    .hero-note {
      margin-top: clamp(24px, 3vw, 34px);
      color: rgba(235, 240, 255, 0.64);
      font-size: 0.94rem;
    }

    .hero-visual {
      position: relative;
      display: grid;
      gap: 22px;
      align-content: center;
      justify-items: center;
    }

    .hero-pass {
      width: min(340px, 100%);
      padding: clamp(22px, 3vw, 32px);
      border-radius: 28px;
      background: linear-gradient(145deg, rgba(245, 196, 81, 0.22), rgba(98, 132, 255, 0.14));
      border: 1px solid rgba(255, 255, 255, 0.18);
      box-shadow: 0 32px 64px rgba(3, 10, 32, 0.45);
      display: grid;
      gap: 18px;
      color: #041021;
      text-align: left;
      backdrop-filter: blur(14px);
    }

    .hero-pass__title {
      font-family: "Playfair Display", serif;
      font-size: clamp(1.4rem, 2vw, 1.7rem);
      margin: 0;
      color: #041021;
    }

    .hero-pass__subtitle {
      margin: 0;
      color: rgba(4, 16, 35, 0.7);
      font-size: 0.95rem;
    }

    .hero-pass__list {
      list-style: none;
      padding: 0;
      margin: 0;
      display: grid;
      gap: 10px;
      font-size: 0.95rem;
      color: rgba(4, 16, 35, 0.82);
    }

    .hero-pass__list li {
      display: inline-flex;
      align-items: center;
      gap: 10px;
    }

    .hero-pass__list li::before {
      content: "⟢";
      color: var(--accent-strong);
      font-size: 0.85rem;
    }

    .hero-seal {
      width: min(160px, 36vw);
      aspect-ratio: 1;
      border-radius: 50%;
      display: grid;
      place-items: center;
      padding: 18px;
      border: 1px solid rgba(245, 196, 81, 0.38);
      background: rgba(5, 14, 34, 0.72);
      box-shadow: 0 24px 46px rgba(2, 8, 24, 0.55);
      text-transform: uppercase;
      font-size: 0.75rem;
      letter-spacing: 0.22em;
      text-align: center;
      color: var(--accent);
    }

    .hero-seal span {
      display: block;
      font-family: "Playfair Display", serif;
      font-size: 1.35rem;
      letter-spacing: 0.04em;
      color: var(--text-primary);
      margin-top: 6px;
    }

    .reservation-nav {
      position: sticky;
      top: 0;
      z-index: 50;
      background: rgba(4, 10, 24, 0.82);
      backdrop-filter: blur(14px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.06);
    }

    .reservation-nav ul {
      list-style: none;
      display: flex;
      gap: 12px;
      margin: 0;
      padding: 16px clamp(18px, 6vw, 48px);
      overflow-x: auto;
      scrollbar-width: none;
    }

    .reservation-nav ul::-webkit-scrollbar {
      display: none;
    }

    .reservation-nav a {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 10px 18px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.06);
      color: rgba(236, 240, 255, 0.75);
      border: 1px solid transparent;
      white-space: nowrap;
      font-size: 0.95rem;
      transition: background 0.25s ease, color 0.25s ease, border-color 0.25s ease;
    }

    .reservation-nav a[aria-current="true"],
    .reservation-nav a:hover {
      background: rgba(245, 196, 81, 0.18);
      color: var(--accent);
      border-color: rgba(245, 196, 81, 0.4);
    }

    .stage-layout {
      display: grid;
      gap: clamp(32px, 4vw, 48px);
      grid-template-areas:
        'list'
        'summary';
    }

    .stage-list {
      grid-area: list;
      display: grid;
      gap: clamp(28px, 3vw, 34px);
    }

    .stage-card {
      background: var(--bg-surface);
      border-radius: 28px;
      border: 1px solid var(--border-soft);
      padding: clamp(26px, 4vw, 36px);
      display: grid;
      gap: 24px;
      box-shadow: var(--shadow-soft);
    }

    .stage-card__header {
      display: grid;
      gap: 10px;
    }

    .stage-card__tagline {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      font-size: 0.82rem;
      letter-spacing: 0.36em;
      margin: 0;
      font-family: "Poppins", "Segoe UI", sans-serif;
      background: var(--bg-body);
      color: var(--text-primary);
      line-height: 1.7;
      min-height: 100vh;
      scroll-padding-top: calc(var(--nav-height) + 36px);
    }

    body.reservation-page a {
      color: inherit;
      text-decoration: none;
    }

    body.reservation-page a:hover,
    body.reservation-page a:focus-visible {
      color: var(--accent);
    }

    body.reservation-page ::selection {
      background: var(--accent);
      color: #041021;
    }

    .reservation-page .container {
      width: min(1120px, 92vw);
      margin: 0 auto;
    }

    .reservation-section {
      position: relative;
      padding: clamp(64px, 9vw, 110px) 0;
      overflow: hidden;
    }

    .reservation-section::after {
      content: "";
      position: absolute;
      inset: 0;
      pointer-events: none;
      opacity: 0.4;
      mix-blend-mode: screen;
      background: radial-gradient(circle at 18% 20%, rgba(245, 196, 81, 0.1), transparent 45%),
        radial-gradient(circle at 82% 26%, rgba(92, 125, 255, 0.12), transparent 60%);
    }

    .reservation-section > * {
      position: relative;
      z-index: 1;
    }

    .reservation-section--surface {
      background: linear-gradient(155deg, rgba(7, 16, 38, 0.82), rgba(6, 18, 45, 0.9));
    }

    .reservation-section--deep {
      background: linear-gradient(150deg, rgba(3, 9, 24, 0.94), rgba(4, 12, 32, 0.96));
    }

    .section-intro {
      max-width: 720px;
      margin: 0 auto clamp(38px, 6vw, 64px);
      text-align: center;
    }

    .section-eyebrow {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      font-size: 0.85rem;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      color: var(--accent);
    }

    .stage-card__tagline::before,
    .stage-card__tagline::after {
      content: "";
      display: block;
      height: 1px;
      width: 34px;
      background: var(--accent-soft);
    }

    .stage-card__title {
      font-family: "Playfair Display", serif;
      font-size: clamp(1.8rem, 2.4vw, 2.4rem);
      margin: 0;
    }

    .stage-card__audience {
      margin: 0;
      color: var(--accent);
      font-weight: 600;
    }

    .stage-card__description {
      margin: 0;
      color: var(--text-secondary);
    }

    .stage-card__highlights {
      list-style: none;
      margin: 0;
      padding: 0;
      display: grid;
      gap: 12px;
    }

    .stage-card__highlights li {
      position: relative;
      padding-left: 26px;
      color: rgba(236, 240, 255, 0.82);
      font-size: 0.96rem;
    }

    .stage-card__highlights li::before {
      content: "★";
      position: absolute;
      left: 0;
      top: 0;
      color: var(--accent);
      font-size: 0.9rem;
    }

    .stage-card__sessions {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 22px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 20px;
      display: grid;
      gap: 16px;
    }

    .stage-card__sessions label {
      font-weight: 600;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .stage-card__sessions select {
      width: 100%;
      margin-top: 10px;
      padding: 12px 14px;
      border-radius: 16px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: rgba(7, 16, 38, 0.6);
      color: var(--text-primary);
      font-size: 1rem;
    }

    .stage-card__sessions select:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    .stage-card__session-info {
      display: grid;
      gap: 6px;
      color: var(--text-secondary);
      font-size: 0.95rem;
    }

    .stage-card__session-info strong {
      color: var(--text-primary);
      font-weight: 600;
    }

    .stage-card__actions {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      gap: 14px;
    }

    .stage-card__price {
      display: grid;
      gap: 4px;
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    .stage-card__price strong {
      font-size: 1.2rem;
      color: var(--text-primary);
    }

    .stage-summary {
      grid-area: summary;
      background: rgba(6, 14, 34, 0.82);
      border-radius: 28px;
      border: 1px solid var(--border-soft);
      padding: clamp(24px, 3vw, 32px);
      display: grid;
      gap: 22px;
      position: relative;
      top: auto;
      box-shadow: var(--shadow-soft);
    }

    @media (min-width: 1080px) {
      .stage-layout {
        grid-template-columns: minmax(0, 1fr) 360px;
        align-items: start;
        grid-template-areas: 'list summary';
      }

      .stage-summary {
        position: sticky;
        top: calc(var(--nav-height) + 24px);
      }
    }

    .stage-summary h3 {
      margin: 0;
      font-family: "Playfair Display", serif;
      font-size: clamp(1.4rem, 2.1vw, 1.9rem);
    }

    .cart-empty {
      margin: 0;
      color: var(--text-secondary);
      text-align: center;
      border: 1px dashed rgba(255, 255, 255, 0.12);
      border-radius: 18px;
      padding: 18px;
      background: rgba(255, 255, 255, 0.05);
    }

    .cart-items {
      display: grid;
      gap: 18px;
    }

    .cart-item {
      display: grid;
      gap: 12px;
      padding: 18px;
      border-radius: 20px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      background: rgba(255, 255, 255, 0.06);
    }

    .cart-item__header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 12px;
    }

    .cart-item__title {
      margin: 0;
      font-weight: 600;
    }

    .cart-item__meta {
      margin: 0;
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    .cart-remove {
      background: none;
      border: none;
      color: rgba(236, 240, 255, 0.68);
      cursor: pointer;
    .section-eyebrow::before,
    .section-eyebrow::after {
      content: "";
      display: block;
      height: 1px;
      width: 44px;
      background: var(--accent-soft);
    }

    .section-intro h2 {
      font-family: "Playfair Display", serif;
      font-size: clamp(2.3rem, 3.2vw, 3.2rem);
      margin: 16px 0 18px;
      color: var(--text-primary);
    }

    .section-intro p {
      margin: 0;
      color: var(--text-secondary);
    }

    .reservation-hero {
      position: relative;
      display: grid;
      place-items: center;
      min-height: clamp(520px, 72vh, 680px);
      padding: clamp(72px, 12vw, 128px) clamp(20px, 6vw, 72px);
      background: linear-gradient(135deg, rgba(6, 14, 32, 0.82), rgba(7, 17, 40, 0.78)),
        url("assets/photos/3.png") center/cover;
      overflow: hidden;
    }

    .reservation-hero::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(3, 9, 24, 0.85), rgba(7, 16, 38, 0.68));
      backdrop-filter: blur(5px);
    }

    .reservation-hero::after {
      content: "";
      position: absolute;
      inset: 0;
      opacity: 0.6;
      background: radial-gradient(circle at 20% 24%, rgba(245, 196, 81, 0.25), transparent 52%),
        radial-gradient(circle at 78% 30%, rgba(82, 122, 255, 0.18), transparent 60%);
    }

    .hero-content {
      position: relative;
      z-index: 2;
      max-width: 880px;
      background: linear-gradient(160deg, rgba(10, 22, 52, 0.78), rgba(7, 14, 36, 0.72));
      border-radius: 32px;
      padding: clamp(36px, 6vw, 68px);
      box-shadow: var(--shadow-soft);
      text-align: center;
      border: 1px solid rgba(255, 255, 255, 0.06);
    }

    .hero-kicker {
      display: inline-flex;
      align-items: center;
      gap: 14px;
      font-size: 0.95rem;
      letter-spacing: 0.38em;
      text-transform: uppercase;
      color: var(--accent);
      margin-bottom: clamp(18px, 3vw, 28px);
    }

    .hero-kicker::before,
    .hero-kicker::after {
      content: "";
      display: block;
      height: 1px;
      width: 48px;
      background: var(--accent-soft);
    }

    .hero-title {
      font-family: "Playfair Display", serif;
      font-size: clamp(2.8rem, 4vw, 4rem);
      margin: 0 0 18px;
      letter-spacing: -0.01em;
    }

    .hero-subtitle {
      margin: 0 auto clamp(28px, 4vw, 38px);
      max-width: 640px;
      color: var(--text-secondary);
      font-size: clamp(1.05rem, 1.2vw, 1.25rem);
    }

    .hero-cta {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 18px;
      margin-bottom: clamp(32px, 5vw, 48px);
    }

    .btn {
      --btn-bg: rgba(255, 255, 255, 0.05);
      --btn-color: var(--text-primary);
      --btn-border: rgba(255, 255, 255, 0.14);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      padding: 14px 26px;
      border-radius: 999px;
      border: 1px solid var(--btn-border);
      background: var(--btn-bg);
      color: var(--btn-color);
      font-weight: 600;
      letter-spacing: 0.02em;
      transition: transform 0.25s ease, box-shadow 0.25s ease, background 0.25s ease, color 0.25s ease,
        border-color 0.25s ease;
      cursor: pointer;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 16px 48px rgba(6, 16, 40, 0.45);
    }

    .btn:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    .btn--primary {
      --btn-bg: linear-gradient(135deg, var(--accent) 0%, var(--accent-strong) 100%);
      --btn-border: transparent;
      --btn-color: #041021;
      box-shadow: 0 14px 42px rgba(245, 196, 81, 0.32);
    }

    .btn--ghost {
      --btn-bg: rgba(255, 255, 255, 0.06);
    }

    .hero-benefits {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 22px;
      text-align: left;
    }

    .hero-benefit {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 18px 22px;
      border-radius: 20px;
      background: rgba(8, 20, 46, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.08);
    }

    .hero-benefit span {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 36px;
      height: 36px;
      border-radius: 10px;
      background: rgba(245, 196, 81, 0.18);
      color: var(--accent);
      font-size: 1.05rem;
      flex-shrink: 0;
    }

    .hero-note {
      margin-top: clamp(24px, 3vw, 34px);
      color: rgba(235, 240, 255, 0.64);
      font-size: 0.94rem;
    }

    .reservation-nav {
      position: sticky;
      top: 0;
      z-index: 50;
      background: rgba(4, 10, 24, 0.82);
      backdrop-filter: blur(14px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.06);
    }

    .reservation-nav ul {
      list-style: none;
      display: flex;
      gap: 12px;
      margin: 0;
      padding: 16px clamp(18px, 6vw, 48px);
      overflow-x: auto;
      scrollbar-width: none;
    }

    .reservation-nav ul::-webkit-scrollbar {
      display: none;
    }

    .reservation-nav a {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 10px 18px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.06);
      color: rgba(236, 240, 255, 0.75);
      border: 1px solid transparent;
      white-space: nowrap;
      font-size: 0.95rem;
      transition: background 0.25s ease, color 0.25s ease, border-color 0.25s ease;
    }

    .reservation-nav a[aria-current="true"],
    .reservation-nav a:hover {
      background: rgba(245, 196, 81, 0.18);
      color: var(--accent);
      border-color: rgba(245, 196, 81, 0.4);
    }

    .stage-layout {
      display: grid;
      gap: clamp(32px, 4vw, 48px);
    }

    @media (min-width: 1080px) {
      .stage-layout {
        grid-template-columns: minmax(0, 1fr) 360px;
        align-items: start;
      }
    }

    .stage-list {
      display: grid;
      gap: clamp(28px, 3vw, 34px);
    }

    .stage-card {
      background: var(--bg-surface);
      border-radius: 28px;
      border: 1px solid var(--border-soft);
      padding: clamp(26px, 4vw, 36px);
      display: grid;
      gap: 24px;
      box-shadow: var(--shadow-soft);
    }

    .stage-card__header {
      display: grid;
      gap: 10px;
    }

    .stage-card__tagline {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      font-size: 0.82rem;
      letter-spacing: 0.36em;
      text-transform: uppercase;
      color: var(--accent);
    }

    .stage-card__tagline::before,
    .stage-card__tagline::after {
      content: "";
      display: block;
      height: 1px;
      width: 34px;
      background: var(--accent-soft);
    }

    .stage-card__title {
      font-family: "Playfair Display", serif;
      font-size: clamp(1.8rem, 2.4vw, 2.4rem);
      margin: 0;
    }

    .stage-card__audience {
      margin: 0;
      color: var(--accent);
      font-weight: 600;
    }

    .stage-card__description {
      margin: 0;
      color: var(--text-secondary);
    }

    .stage-card__highlights {
      list-style: none;
      margin: 0;
      padding: 0;
      display: grid;
      gap: 12px;
    }

    .stage-card__highlights li {
      position: relative;
      padding-left: 26px;
      color: rgba(236, 240, 255, 0.82);
      font-size: 0.96rem;
    }

    .stage-card__highlights li::before {
      content: "★";
      position: absolute;
      left: 0;
      top: 0;
      color: var(--accent);
      font-size: 0.9rem;
    }

    .stage-card__sessions {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 22px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 20px;
      display: grid;
      gap: 16px;
    }

    .stage-card__sessions label {
      font-weight: 600;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .stage-card__sessions select {
      width: 100%;
      margin-top: 10px;
      padding: 12px 14px;
      border-radius: 16px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: rgba(7, 16, 38, 0.6);
      color: var(--text-primary);
      font-size: 1rem;
    }

    .stage-card__sessions select:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    .stage-card__session-info {
      display: grid;
      gap: 6px;
      color: var(--text-secondary);
      font-size: 0.95rem;
    }

    .stage-card__session-info strong {
      color: var(--text-primary);
      font-weight: 600;
    }

    .stage-card__actions {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      gap: 14px;
    }

    .stage-card__price {
      display: grid;
      gap: 4px;
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    .stage-card__price strong {
      font-size: 1.2rem;
      color: var(--text-primary);
    }

    .stage-summary {
      background: rgba(6, 14, 34, 0.82);
      border-radius: 28px;
      border: 1px solid var(--border-soft);
      padding: clamp(24px, 3vw, 32px);
      display: grid;
      gap: 22px;
      position: sticky;
      top: calc(var(--nav-height) + 24px);
      box-shadow: var(--shadow-soft);
    }

    .stage-summary h3 {
      margin: 0;
      font-family: "Playfair Display", serif;
      font-size: clamp(1.4rem, 2.1vw, 1.9rem);
    }

    .cart-empty {
      margin: 0;
      color: var(--text-secondary);
      text-align: center;
      border: 1px dashed rgba(255, 255, 255, 0.12);
      border-radius: 18px;
      padding: 18px;
      background: rgba(255, 255, 255, 0.05);
    }

    .cart-items {
      display: grid;
      gap: 18px;
    }

    .cart-item {
      display: grid;
      gap: 12px;
      padding: 18px;
      border-radius: 20px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      background: rgba(255, 255, 255, 0.06);
    }

    .cart-item__header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 12px;
    }

    .cart-item__title {
      margin: 0;
      font-weight: 600;
    }

    .cart-item__meta {
      margin: 0;
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    .cart-remove {
      background: none;
      border: none;
      color: rgba(236, 240, 255, 0.68);
      cursor: pointer;
      padding: 4px;
      font-size: 0.85rem;
    }

    .cart-remove:hover {
      color: var(--accent);
    }

    .cart-options {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .cart-chip {
      position: relative;
    }

    .cart-chip input {
      position: absolute;
      inset: 0;
      opacity: 0;
      cursor: pointer;
    }

    .cart-chip span {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 14px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: rgba(255, 255, 255, 0.06);
      font-size: 0.85rem;
      transition: background 0.2s ease, border-color 0.2s ease, color 0.2s ease;
    }

    .cart-chip input:checked + span {
      background: rgba(245, 196, 81, 0.22);
      border-color: rgba(245, 196, 81, 0.45);
      color: var(--accent);
    }

    .cart-item__total {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 0.95rem;
      color: var(--text-secondary);
    }

    .cart-item__total strong {
      color: var(--text-primary);
      font-size: 1.05rem;
    }

    .cart-total {
      border-top: 1px solid rgba(255, 255, 255, 0.12);
      padding-top: 18px;
      display: grid;
      gap: 10px;
    }

    .cart-total__row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: var(--text-secondary);
    }

    .cart-total__amount {
      font-size: 1.4rem;
      font-weight: 600;
      color: var(--text-primary);
    }

    .cart-note {
      margin: 0;
      color: rgba(236, 240, 255, 0.68);
      font-size: 0.85rem;
    }

    .calendar-grid {
      display: grid;
      gap: clamp(24px, 3vw, 32px);
    }

    .calendar-month {
      border-radius: 28px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 24px;
      display: grid;
      gap: 18px;
    }

    .calendar-month h3 {
      margin: 0;
      font-family: "Playfair Display", serif;
      font-size: 1.6rem;
    }

    .calendar-entry {
      display: grid;
      gap: 6px;
      padding: 18px;
      border-radius: 18px;
      background: rgba(8, 20, 46, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.08);
    }

    .calendar-entry__actions {
      display: flex;
      justify-content: flex-start;
      gap: 12px;
      flex-wrap: wrap;
    }

    .calendar-legend {
      margin-top: clamp(22px, 3vw, 32px);
      color: rgba(236, 240, 255, 0.68);
      text-align: center;
      font-size: 0.95rem;
    }

    .calendar-entry__header {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
    }

    .calendar-entry__dates {
      font-weight: 600;
      color: var(--accent);
    }

    .calendar-entry__meta {
      margin: 0;
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    .features-grid {
      display: grid;
      gap: clamp(20px, 3vw, 32px);
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    }

    .feature-card {
      padding: 24px;
      border-radius: 24px;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.08);
      display: grid;
      gap: 12px;
    }

    .feature-card h3 {
      margin: 0;
      font-size: 1.2rem;
    }

    .feature-card p {
      margin: 0;
      color: var(--text-secondary);
    }

    .locations-grid {
      display: grid;
      gap: clamp(20px, 3vw, 32px);
    }

    @media (min-width: 860px) {
      .locations-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }
    }

    .location-card {
      padding: 26px;
      border-radius: 24px;
      background: rgba(8, 20, 46, 0.62);
      border: 1px solid rgba(255, 255, 255, 0.08);
      display: grid;
      gap: 12px;
    }

    .location-card h3 {
      margin: 0;
      font-size: 1.25rem;
    }

    .location-card ul {
      margin: 0;
      padding-left: 20px;
      color: var(--text-secondary);
    }

    .options-grid {
      display: grid;
      gap: clamp(24px, 4vw, 40px);
      grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
    }

    .option-block {
      padding: 26px;
      border-radius: 24px;
      background: linear-gradient(150deg, rgba(8, 18, 44, 0.82), rgba(6, 14, 34, 0.72));
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: 0 22px 48px rgba(2, 8, 24, 0.4);
      display: grid;
      gap: 12px;
    }

    .option-block h3 {
      margin: 0;
      font-size: 1.2rem;
    }

    .option-block p {
      margin: 0;
      color: var(--text-secondary);
    }

    .faq-list {
      display: grid;
      gap: 16px;
    }

    .faq-list details {
      border-radius: 20px;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 18px 22px;
    }

    .faq-list summary {
      cursor: pointer;
      font-weight: 600;
      list-style: none;
    }

    .faq-list summary::marker,
    .faq-list summary::-webkit-details-marker {
      display: none;
    }

    .faq-list details p {
      margin: 14px 0 0;
      color: var(--text-secondary);
    }

    .reservation-form {
      display: grid;
      gap: clamp(24px, 3vw, 36px);
      padding: clamp(26px, 4vw, 36px);
      border-radius: 28px;
      background: rgba(6, 14, 34, 0.84);
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: var(--shadow-soft);
    }

    .form-grid {
      display: grid;
      gap: 18px;
    }

    @media (min-width: 860px) {
      .form-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    .form-control {
      display: grid;
      gap: 8px;
    }

    .form-control label {
      font-weight: 600;
    }

    .form-control input,
    .form-control select,
    .form-control textarea {
      width: 100%;
      padding: 14px 16px;
      border-radius: 16px;
      border: 1px solid rgba(255, 255, 255, 0.14);
      background: rgba(8, 18, 44, 0.6);
      color: var(--text-primary);
      font-size: 1rem;
    }

    .form-control textarea {
      min-height: 140px;
      resize: vertical;
    }

    .form-control input:focus-visible,
    .form-control select:focus-visible,
    .form-control textarea:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    .option-selector {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .option-selector label {
      position: relative;
    }

    .option-selector input {
      position: absolute;
      inset: 0;
      opacity: 0;
    }

    .option-selector span {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 18px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.14);
      background: rgba(255, 255, 255, 0.06);
      font-size: 0.92rem;
    }

    .option-selector input:checked + span {
      background: rgba(245, 196, 81, 0.22);
      border-color: rgba(245, 196, 81, 0.45);
      color: var(--accent);
    }

    .form-selection {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 20px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 18px;
      display: grid;
      gap: 14px;
    }

    .form-selection__item {
      display: grid;
      gap: 4px;
      font-size: 0.95rem;
    }

    .form-selection__empty {
      margin: 0;
      color: var(--text-secondary);
    }

    .form-selection__total {
      margin-top: 6px;
      font-size: 1.05rem;
      color: var(--accent);
    }

    .form-actions {
      display: flex;
      flex-direction: column;
      gap: 12px;
      align-items: flex-start;
    }

    .form-feedback {
      margin: 0;
      font-size: 0.95rem;
      color: var(--accent);
    }

    .reservation-footer {
      text-align: center;
      padding: 48px 20px;
      color: rgba(222, 231, 255, 0.68);
      font-size: 0.9rem;
    }

    .reservation-toast {
      position: fixed;
      bottom: 24px;
      left: 50%;
      right: auto;
      background: rgba(6, 14, 34, 0.9);
      border-radius: 18px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 14px 18px;
      color: var(--text-primary);
      font-size: 0.95rem;
      box-shadow: 0 18px 46px rgba(2, 8, 24, 0.55);
      opacity: 0;
      transform: translate(-50%, 12px);
      transition: opacity 0.3s ease, transform 0.3s ease;
      pointer-events: none;
      z-index: 200;
    }

    .reservation-toast.is-visible {
      opacity: 1;
      transform: translate(-50%, 0);
    }

    @media (max-width: 720px) {
      body.reservation-page {
        --nav-height: 62px;
      }

      .hero-content {
        padding: 30px 22px;
      }

      .hero-copy {
        text-align: center;
        justify-items: center;
      }

      .hero-subtitle {
        margin-left: auto;
        margin-right: auto;
      }

      .hero-cta {
        justify-content: center;
      }

      .hero-metrics {
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      }

      .hero-metric {
        text-align: center;
      }

      .hero-badge {
        letter-spacing: 0.22em;
      }

      .hero-visual {
        gap: 18px;
      }

      .hero-kicker {
        justify-content: center;
        flex-wrap: wrap;
        gap: 10px;
        letter-spacing: 0.26em;
      }

      .hero-kicker::before,
      .hero-kicker::after {
        width: 32px;
      }

      .reservation-nav {
        top: auto;
      }

      .stage-card__actions {
        flex-direction: column;
        align-items: stretch;
      }

      .btn {
        width: 100%;
      }

      .stage-summary {
        padding: 24px 22px;
        gap: 20px;
      }

      .cart-options {
        flex-direction: column;
        align-items: stretch;
        gap: 12px;
      }

      .cart-chip span {
        width: 100%;
        justify-content: center;
      }

      .reservation-form {
        padding: 26px 20px;
      }

      .reservation-toast {
        max-width: calc(100% - 32px);
      }
    }

    @media (max-width: 600px) {
      .stage-card {
        padding: 24px 22px;
        border-radius: 24px;
      }

      .stage-card__sessions {
        padding: 18px;
      }

      .stage-summary {
        padding: 24px 20px;
      }

      .calendar-entry__header {
        flex-direction: column;
        align-items: flex-start;
        gap: 6px;
      }

      .calendar-month {
        padding: 20px;
      }

      .calendar-entry {
        padding: 16px;
      }

      .calendar-entry__actions {
        width: 100%;
      }

      .calendar-entry__actions .btn {
        width: 100%;
      }
    }

    @media (max-width: 480px) {
      .hero-badge {
        letter-spacing: 0.18em;
        padding-inline: 16px;
      }

      .hero-kicker::before,
      .hero-kicker::after {
        display: none;
      }

      .hero-pass {
        padding: 24px 20px;
      }

      .hero-metrics {
        grid-template-columns: minmax(0, 1fr);
      }

      .cart-item {
        padding: 16px;
      }

      .option-block {
        padding: 22px;
      }
    }
  </style>
</head>
<body class="reservation-page">
  <header class="reservation-hero" id="top">
    <div class="hero-content">
      <div class="hero-shell">
        <div class="hero-copy">
          <span class="hero-badge">Collection Signature 2024</span>
          <span class="hero-kicker">Tennis Impact Academy</span>
          <h1 class="hero-title">Réservez votre stage premium</h1>
          <p class="hero-subtitle">
            Choisissez votre programme idéal, vos dates et vos options pour vivre une semaine d'entraînement haute
            intensité aux côtés de notre équipe élite. Nous orchestrons l'accueil, les repas, l'hébergement et le suivi
            personnalisé dès votre demande.
          </p>
          <div class="hero-cta">
            <a class="btn btn--primary" href="#stages">Découvrir les stages</a>
            <a class="btn btn--ghost" href="tel:+33607080910">Parler à un conseiller</a>
          </div>
          <ul class="hero-metrics">
            <li class="hero-metric">
              <strong>98&nbsp;%</strong>
              <span>Satisfaction familles sur la saison 2023</span>
            </li>
            <li class="hero-metric">
              <strong>1 coach / 4</strong>
              <span>Ratio d'encadrement garanti sur chaque stage</span>
            </li>
            <li class="hero-metric">
              <strong>+300</strong>
              <span>Joueurs accompagnés chaque année</span>
            </li>
          </ul>
          <div class="hero-benefits">
            <div class="hero-benefit">
              <span aria-hidden="true">★</span>
              <div>
                <strong>Coaching sur-mesure</strong>
                <p>Bilans individuels, analyse vidéo quotidienne et ratio de 4 joueurs par coach pour accélérer les
                  progrès.</p>
              </div>
            </div>
            <div class="hero-benefit">
              <span aria-hidden="true">⏱</span>
              <div>
                <strong>Planning optimisé</strong>
                <p>Deux entraînements tennis par jour, préparation physique ciblée et ateliers mentaux pour performer en
                  compétition.</p>
              </div>
            </div>
            <div class="hero-benefit">
              <span aria-hidden="true">✨</span>
              <div>
                <strong>Expérience premium</strong>
                <p>Hospitalité 4 étoiles, chef privé, conciergerie transport et soirées signatures au sein du domaine
                  Impact.</p>
              </div>
            </div>
          </div>
          <p class="hero-note">Réservations sur-mesure pour joueurs et joueuses de 8 à 18 ans ainsi que programmes adultes.</p>
        </div>
        <div class="hero-visual">
          <div class="hero-pass">
            <p class="hero-pass__title">Conciergerie 24/7</p>
            <p class="hero-pass__subtitle">Notre équipe dédiée orchestre chaque détail de votre expérience premium.</p>
            <ul class="hero-pass__list">
              <li>Accueil privé &amp; transfert personnalisé</li>
              <li>Suites signature avec chef nutrition</li>
              <li>Service WhatsApp dédié aux familles</li>
            </ul>
          </div>
          <div class="hero-seal" aria-label="Excellence 2024">
            Excellence<span>2024</span>
          </div>
        </div>
      </div>
    </div>
  </header>

  <nav class="reservation-nav" aria-label="Navigation du parcours">
    <ul>
      <li><a href="#stages">Stages</a></li>
      <li><a href="#calendrier">Calendrier</a></li>
      <li><a href="#methodologie">Méthodologie</a></li>
      <li><a href="#lieux">Lieux</a></li>
      <li><a href="#options">Options</a></li>
      <li><a href="#faq">FAQ</a></li>
      <li><a href="#reservation">Réserver</a></li>
    </ul>
  </nav>

  <main>
    <section id="stages" class="reservation-section reservation-section--surface">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Les stages signature</span>
          <h2>Choisissez le programme adapté à votre niveau</h2>
          <p>Nos directeurs techniques ont conçu trois parcours complémentaires pour répondre aux objectifs de chaque
            joueur : performance, progression ou immersion adulte. Sélectionnez vos dates, personnalisez les options et
            constituez votre séjour idéal.</p>
        </div>

        <div class="stage-layout">
          <div class="stage-list" data-stage-list></div>

          <aside class="stage-summary" aria-label="Panier de réservation">
            <h3>Votre sélection</h3>
            <p class="cart-empty" data-cart-empty>Ajoutez un stage pour constituer votre séjour personnalisé.</p>
            <div class="cart-items" data-cart-items></div>
            <div class="cart-total">
              <div class="cart-total__row">
                <span>Total estimé</span>
                <span class="cart-total__amount" data-cart-total>0 €</span>
              </div>
              <p class="cart-note">Les options hébergement et transport sont ajustables jusqu’à la validation finale.
              </p>
              <button type="button" class="btn btn--primary" data-scroll-to-form disabled>Finaliser ma demande</button>
            </div>
          </aside>
        </div>
      </div>
    </section>

    <section id="calendrier" class="reservation-section reservation-section--deep">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Calendrier 2024</span>
          <h2>Planifiez votre semaine idéale</h2>
          <p>Chaque semaine de stage est limitée pour préserver la qualité d’entraînement. Consultez les disponibilités
            en temps réel et ajoutez la session de votre choix à votre panier.</p>
        </div>

        <div class="calendar-grid" data-calendar></div>
        <p class="calendar-legend">Les départs sont garantis dès 6 participants confirmés. Nous vous recontactons sous
          24&nbsp;h pour valider l’hébergement et le transport.</p>
      </div>
    </section>

    <section id="methodologie" class="reservation-section reservation-section--surface">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Notre méthode</span>
          <h2>Un accompagnement complet sur et en dehors du court</h2>
          <p>La Tennis Impact Academy s’appuie sur une équipe pluridisciplinaire : coaches experts FFT, préparateurs
            physiques, ostéopathes et staff hospitalité. Chaque joueur repart avec un plan de progression détaillé.</p>
        </div>

        <div class="features-grid">
          <article class="feature-card">
            <h3>Bilan initial individualisé</h3>
            <p>Avant la première balle, nous réalisons un entretien vidéo et un test de mobilité afin de calibrer le
              contenu technique, physique et mental de la semaine.</p>
          </article>
          <article class="feature-card">
            <h3>Coaching haute performance</h3>
            <p>2h30 de tennis le matin, ateliers tactiques l’après-midi, matchs dirigés et feedback vidéo quotidien avec
              votre référent de stage.</p>
          </article>
          <article class="feature-card">
            <h3>Suivi bien-être et récupération</h3>
            <p>Préparation physique fonctionnelle, cryothérapie, séances d’étirements guidés et cuisine sportive
              personnalisée par notre chef.</p>
          </article>
          <article class="feature-card">
            <h3>Restitution premium</h3>
            <p>Remise d’un dossier digital : statistiques match, vidéos commentées, plan d’entraînement sur 6 semaines et
              recommandations nutritionnelles.</p>
          </article>
        </div>
      </div>
    </section>

    <section id="lieux" class="reservation-section reservation-section--deep">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Nos destinations</span>
          <h2>Des cadres d’exception pour progresser</h2>
          <p>Nous sélectionnons des sites premium avec infrastructures indoor/outdoor, espaces bien-être et hébergements
            haut de gamme pour offrir confort et intensité à chaque joueur.</p>
        </div>

        <div class="locations-grid">
          <article class="location-card">
            <h3>Domaine Impact – Bordeaux</h3>
            <p>Centre d’entraînement principal au cœur d’un parc arboré. 6 courts extérieurs, 3 courts couverts, salle de
              préparation physique, espace récupération et villa privative.</p>
            <ul>
              <li>Hébergement suites juniors &amp; penthouse</li>
              <li>Chef privé &amp; nutrition sportive</li>
              <li>Accès navette gare Bordeaux Saint-Jean</li>
            </ul>
          </article>
          <article class="location-card">
            <h3>Grand Hôtel de Biarritz</h3>
            <p>Vue océan, courts en terre battue et programme surf/condition physique complémentaire pour varier les
              sollicitations.</p>
            <ul>
              <li>Programme premium adultes &amp; familles</li>
              <li>Hébergement ***** &amp; spa marin</li>
              <li>Transferts aéroport Biarritz inclus</li>
            </ul>
          </article>
          <article class="location-card">
            <h3>Hostens Forest Lodge</h3>
            <p>Immersion nature et stage résidentiel pour les 10-14 ans : courts GreenSet, lac privatif, activités
              outdoor et accompagnement 24h/24.</p>
            <ul>
              <li>Encadrement pédagogique dédié</li>
              <li>Chalets premium 4 lits</li>
              <li>Transport collectif depuis Bordeaux</li>
            </ul>
          </article>
        </div>
      </div>
    </section>

    <section id="options" class="reservation-section reservation-section--surface">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Options &amp; services</span>
          <h2>Personnalisez votre séjour</h2>
          <p>Hébergement grand confort, navettes dédiées, séances individuelles supplémentaires… nos conseillers ajustent
            chaque détail selon vos besoins.</p>
        </div>

        <div class="options-grid">
          <article class="option-block">
            <h3>Hébergement premium</h3>
            <p>Suites partagées ou individuelles, encadrement nocturne, room service sportif et animations privées. À
              partir de 290&nbsp;€ la semaine.</p>
          </article>
          <article class="option-block">
            <h3>Transport personnalisé</h3>
            <p>Navettes gare/aéroport, chauffeur privé depuis votre domicile ou organisation du transport collectif
              depuis les principales villes.</p>
          </article>
          <article class="option-block">
            <h3>Coaching additionnel</h3>
            <p>Séances individuelles en plus du programme collectif, préparation mentale, match analysis ou hitting avec
              sparring partenaire.</p>
          </article>
          <article class="option-block">
            <h3>Conciergerie famille</h3>
            <p>Réservations hôtels &amp; restaurants partenaires, activités touristiques, courts &amp; coachs privatisables pour
              les accompagnants.</p>
          </article>
        </div>
      </div>
    </section>

    <section id="faq" class="reservation-section reservation-section--deep">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">FAQ</span>
          <h2>Vos questions les plus fréquentes</h2>
          <p>Un chargé de relation famille vous accompagne avant, pendant et après le stage. Voici les réponses aux
            questions qui reviennent le plus souvent.</p>
        </div>

        <div class="faq-list">
          <details>
            <summary>Quel niveau est requis pour participer ?</summary>
            <p>Nos stages accueillent les joueurs classés de NC à -2/6. Chaque session est organisée par groupe homogène
              (maximum 4 joueurs par coach). Un entretien préalable permet d’orienter vers le programme adapté.</p>
          </details>
          <details>
            <summary>Comment se déroule l’hébergement ?</summary>
            <p>Les jeunes résident dans nos suites sécurisées ou chalets premium, encadrés 24h/24. Les adultes peuvent
              opter pour nos hôtels partenaires ou une formule sans hébergement.</p>
          </details>
          <details>
            <summary>Peut-on venir en famille ?</summary>
            <p>Oui ! Des packs famille sont disponibles avec accès spa, séances de tennis privatisées et activités
              touristiques. Indiquez-le dans votre demande pour que nous préparions un devis dédié.</p>
          </details>
          <details>
            <summary>Quel est le processus de réservation ?</summary>
            <p>Ajoutez votre stage et vos options, complétez le formulaire, puis un conseiller vous contacte sous 24&nbsp;h
              pour confirmer les disponibilités, valider les options et envoyer le contrat électronique.</p>
          </details>
        </div>
      </div>
    </section>

    <section id="reservation" class="reservation-section reservation-section--surface">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Réservation</span>
          <h2>Finalisez votre demande personnalisée</h2>
          <p>Indiquez-nous vos coordonnées et les informations sur le participant. Un conseiller vous rappellera sous
            24&nbsp;h pour valider l’ensemble de votre séjour.</p>
        </div>

        <form class="reservation-form" data-reservation-form>
          <div class="form-selection" data-form-selection>
            <p class="form-selection__empty">Votre panier est vide. Ajoutez un stage pour générer votre devis
              personnalisé.</p>
          </div>

          <div class="form-grid">
            <div class="form-control">
              <label for="responsable-name">Nom et prénom du responsable</label>
              <input type="text" id="responsable-name" name="responsable" autocomplete="name" required />
            </div>
            <div class="form-control">
              <label for="responsable-email">Adresse e-mail</label>
              <input type="email" id="responsable-email" name="email" autocomplete="email" required />
            </div>
            <div class="form-control">
              <label for="responsable-phone">Téléphone</label>
              <input type="tel" id="responsable-phone" name="telephone" autocomplete="tel" required />
            </div>
            <div class="form-control">
              <label for="participant-name">Participant principal</label>
              <input type="text" id="participant-name" name="participant" autocomplete="given-name" required />
            </div>
            <div class="form-control">
              <label for="participant-birth">Date de naissance</label>
              <input type="date" id="participant-birth" name="naissance" required />
            </div>
            <div class="form-control">
              <label for="participant-level">Niveau actuel</label>
              <select id="participant-level" name="niveau" required>
                <option value="" disabled selected>Choisissez une option</option>
                <option value="initiation">Initiation / Galaxie</option>
                <option value="perfectionnement">Perfectionnement (classement 30/5 à 15/4)</option>
                <option value="competition">Compétition (15/3 à 2/6)</option>
                <option value="haut-niveau">Haut niveau (-2/6 et plus)</option>
              </select>
            </div>
            <div class="form-control">
              <label>Option hébergement</label>
              <div class="option-selector" role="group" aria-label="Choix de l'hébergement">
                <label>
                  <input type="radio" name="hebergement" value="Avec hébergement" checked />
                  <span>Avec hébergement</span>
                </label>
                <label>
                  <input type="radio" name="hebergement" value="Sans hébergement" />
                  <span>Sans hébergement</span>
                </label>
              </div>
            </div>
            <div class="form-control">
              <label>Option transport</label>
              <div class="option-selector" role="group" aria-label="Choix du transport">
                <label>
                  <input type="radio" name="transport" value="Avec transport" checked />
                  <span>Avec transport</span>
                </label>
                <label>
                  <input type="radio" name="transport" value="Sans transport" />
                  <span>Sans transport</span>
                </label>
              </div>
            </div>
            <div class="form-control">
              <label for="message">Précisions complémentaires</label>
              <textarea id="message" name="message" placeholder="Allergies, attentes spécifiques, préférences horaires..."></textarea>
            </div>
          </div>

          <div class="form-actions">
            <button type="submit" class="btn btn--primary" data-submit-button disabled>Envoyer ma demande personnalisée</button>
            <p class="form-feedback" role="status" aria-live="polite" data-form-feedback></p>
          </div>

          <div data-hidden-inputs></div>
        </form>
      </div>
    </section>
  </main>

  <footer class="reservation-footer">
    Besoin d’une assistance immédiate ? Contactez notre conciergerie :
    <a href="tel:+33607080910">+33 6 07 08 09 10</a> •
    <a href="mailto:contact@tennisimpact.fr">contact@tennisimpact.fr</a>
  </footer>

  <div class="reservation-toast" role="status" aria-live="polite" data-toast></div>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const stageCatalog = [
        {
          id: 'performance-ados',
          title: 'Stage Intensif Performance',
          tagline: 'Préparation match & coaching mental',
          audience: '12-17 ans • Niveau compétition',
          description:
            'Programme signature pour joueurs classés 15/3 à -2/6 : coaching intensif, suivi mental et préparation physique quotidienne.',
          price: 890,
          lodgingPrice: 320,
          transportPrice: 110,
          highlights: [
            '2 séances tennis quotidiennes + ateliers tactiques en situation de match',
            'Analyse vidéo HD, plan tactique personnalisé et entretien mental',
            'Accès cryothérapie, ostéopathie et cuisine sportive dédiée'
          ],
          sessions: [
            {
              start: '2024-06-24',
              end: '2024-06-29',
              location: 'Domaine Impact – Bordeaux',
              status: 'Places limitées (5)',
              spots: 5
            },
            {
              start: '2024-07-08',
              end: '2024-07-13',
              location: 'Domaine Impact – Bordeaux',
              status: 'Dernières places',
              spots: 4
            },
            {
              start: '2024-08-05',
              end: '2024-08-10',
              location: 'Grand Hôtel de Biarritz',
              status: 'Nouvelles disponibilités',
              spots: 6
            }
          ]
        },
        {
          id: 'progression-jeunes',
          title: 'Stage Évolution Jeunes',
          tagline: 'Progression technique & confiance',
          audience: '9-13 ans • Classement NC à 30/3',
          description:
            'Une semaine structurée et ludique pour consolider les fondamentaux, gagner en régularité et développer la confiance en match.',
          price: 690,
          lodgingPrice: 280,
          transportPrice: 95,
          highlights: [
            'Séances spécifiques par thèmes : services, retours, jeu de jambes',
            'Ateliers tactiques en petit groupe et matchs coachés chaque après-midi',
            'Activités outdoor, veillées encadrées et accompagnement 24h/24'
          ],
          sessions: [
            {
              start: '2024-07-01',
              end: '2024-07-06',
              location: 'Hostens Forest Lodge',
              status: 'Places disponibles (9)',
              spots: 9
            },
            {
              start: '2024-07-22',
              end: '2024-07-27',
              location: 'Hostens Forest Lodge',
              status: 'Nouvelles ouvertures',
              spots: 8
            },
            {
              start: '2024-08-19',
              end: '2024-08-24',
              location: 'Domaine Impact – Bordeaux',
              status: 'Stage confirmé',
              spots: 7
            }
          ]
        },
        {
          id: 'experience-adultes',
          title: 'Stage Expérience Adultes',
          tagline: 'Immersion prestige & coaching illimité',
          audience: 'Adultes classés 30/1 à 15/1',
          description:
            'Une immersion luxe à Biarritz : coaching en très petit groupe, séances individuelles quotidiennes et expériences bien-être.',
          price: 640,
          lodgingPrice: 420,
          transportPrice: 140,
          highlights: [
            '3h de tennis quotidien + hitting avec sparring partenaire',
            'Accès spa marin, yoga de récupération et dîners gastronomiques',
            'Conciergerie dédiée pour conjoints et accompagnants'
          ],
          sessions: [
            {
              start: '2024-06-17',
              end: '2024-06-21',
              location: 'Grand Hôtel de Biarritz',
              status: 'Derniers suites disponibles',
              spots: 3
            },
            {
              start: '2024-07-29',
              end: '2024-08-02',
              location: 'Grand Hôtel de Biarritz',
              status: 'Places disponibles (6)',
              spots: 6
            }
          ]
        }
      ];

      const stageList = document.querySelector('[data-stage-list]');
      const cartEmpty = document.querySelector('[data-cart-empty]');
      const cartItems = document.querySelector('[data-cart-items]');
      const cartTotal = document.querySelector('[data-cart-total]');
      const finalizeButton = document.querySelector('[data-scroll-to-form]');
      const submitButton = document.querySelector('[data-submit-button]');
      const formSelection = document.querySelector('[data-form-selection]');
      const hiddenInputs = document.querySelector('[data-hidden-inputs]');
      const form = document.querySelector('[data-reservation-form]');
      const formFeedback = document.querySelector('[data-form-feedback]');
      const calendarContainer = document.querySelector('[data-calendar]');
      const toast = document.querySelector('[data-toast]');
      const navLinks = Array.from(document.querySelectorAll('.reservation-nav a'));
      const currencyFormatter = new Intl.NumberFormat('fr-FR', {
        style: 'currency',
        currency: 'EUR',
        maximumFractionDigits: 0
      });

      let cart = [];
      let toastTimeout;

      function formatCurrency(value) {
        return currencyFormatter.format(value);
      }

      function formatDateRange(start, end) {
        const startDate = new Date(start);
        const endDate = new Date(end);
        const sameMonth = startDate.getMonth() === endDate.getMonth();
        const options = { day: 'numeric', month: 'long' };
        const startLabel = startDate.toLocaleDateString('fr-FR', options);
        const endLabel = endDate.toLocaleDateString('fr-FR', options);
        return sameMonth ? `${startDate.getDate()} – ${endLabel}` : `${startLabel} – ${endLabel}`;
      }

      function formatMonthLabel(dateString) {
        const label = new Date(dateString).toLocaleDateString('fr-FR', { month: 'long', year: 'numeric' });
        return label.charAt(0).toUpperCase() + label.slice(1);
      }

      function showToast(message) {
        if (!toast) return;
        toast.textContent = message;
        toast.classList.add('is-visible');
        clearTimeout(toastTimeout);
        toastTimeout = setTimeout(() => {
          toast.classList.remove('is-visible');
        }, 3400);
      }

      function renderStages() {
        if (!stageList) return;
        stageList.innerHTML = '';

        stageCatalog.forEach((stage) => {
          const card = document.createElement('article');
          card.className = 'stage-card';
          card.innerHTML = `
            <header class="stage-card__header">
              <span class="stage-card__tagline">${stage.tagline}</span>
              <h3 class="stage-card__title">${stage.title}</h3>
              <p class="stage-card__audience">${stage.audience}</p>
              <p class="stage-card__description">${stage.description}</p>
            </header>
            <ul class="stage-card__highlights">
              ${stage.highlights.map((item) => `<li>${item}</li>`).join('')}
            </ul>
            <div class="stage-card__sessions">
              <label for="${stage.id}-session">Prochaines sessions</label>
              <select id="${stage.id}-session" data-session-select>
                ${stage.sessions
                  .map(
                    (session, index) =>
                      `<option value="${index}">${formatDateRange(session.start, session.end)} • ${session.location}</option>`
                  )
                  .join('')}
              </select>
              <div class="stage-card__session-info" data-session-info></div>
            </div>
            <div class="stage-card__actions">
              <div class="stage-card__price">
                <span>Programme 6 jours</span>
                <strong>${formatCurrency(stage.price)}</strong>
                <small>Options hébergement dès ${formatCurrency(stage.lodgingPrice)}</small>
              </div>
              <button type="button" class="btn btn--primary" data-add-stage data-stage-id="${stage.id}">
                Ajouter au panier
              </button>
            </div>
          `;

          const select = card.querySelector('[data-session-select]');
          const info = card.querySelector('[data-session-info]');
          const button = card.querySelector('[data-add-stage]');

          function updateInfo(index) {
            const session = stage.sessions[index];
            if (!session) return;
            info.innerHTML = `
              <span><strong>${formatDateRange(session.start, session.end)}</strong></span>
              <span>${session.location}</span>
              <span>${session.status}</span>
            `;
            button.dataset.sessionIndex = String(index);
          }

          updateInfo(Number(select.value) || 0);

          select.addEventListener('change', (event) => {
            updateInfo(Number(event.target.value));
          });

          button.addEventListener('click', () => {
            const sessionIndex = Number(button.dataset.sessionIndex || 0);
            addToCart(stage.id, sessionIndex);
          });

          stageList.appendChild(card);
        });
      }

      function addToCart(stageId, sessionIndex) {
        const key = `${stageId}-${sessionIndex}`;
        if (cart.some((item) => item.key === key)) {
          showToast('Cette session est déjà dans votre sélection.');
          return;
        }
        cart.push({ key, stageId, sessionIndex, lodging: false, transport: false });
        renderCart();
        showToast('Stage ajouté à votre sélection.');
      }

      function removeFromCart(key) {
        cart = cart.filter((item) => item.key !== key);
        renderCart();
        showToast('Stage retiré de votre sélection.');
      }

      function calculateItemTotal(item) {
        const stage = stageCatalog.find((stage) => stage.id === item.stageId);
        if (!stage) return 0;
        let total = stage.price;
        if (item.lodging) total += stage.lodgingPrice;
        if (item.transport) total += stage.transportPrice;
        return total;
      }

      function calculateTotal() {
        return cart.reduce((sum, item) => sum + calculateItemTotal(item), 0);
      }

      function updateCartOption(key, option, value) {
        const target = cart.find((item) => item.key === key);
        if (!target) return;
        target[option === 'lodging' ? 'lodging' : 'transport'] = value;
        renderCart();
      }

    }

    .calendar-entry {
      display: grid;
      gap: 6px;
      padding: 18px;
      border-radius: 18px;
      background: rgba(8, 20, 46, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.08);
    }

    .calendar-entry__actions {
      display: flex;
      justify-content: flex-start;
    }

    .calendar-legend {
      margin-top: clamp(22px, 3vw, 32px);
      color: rgba(236, 240, 255, 0.68);
      text-align: center;
      font-size: 0.95rem;
    }

    .calendar-entry__header {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
    }

    .calendar-entry__dates {
      font-weight: 600;
      color: var(--accent);
    }

    .calendar-entry__meta {
      margin: 0;
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    .features-grid {
      display: grid;
      gap: clamp(20px, 3vw, 32px);
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    }

    .feature-card {
      padding: 24px;
      border-radius: 24px;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.08);
      display: grid;
      gap: 12px;
    }

    .feature-card h3 {
      margin: 0;
      font-size: 1.2rem;
    }

    .feature-card p {
      margin: 0;
      color: var(--text-secondary);
    }

    .locations-grid {
      display: grid;
      gap: clamp(20px, 3vw, 32px);
    }

    @media (min-width: 860px) {
      .locations-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }
    }

    .location-card {
      padding: 26px;
      border-radius: 24px;
      background: rgba(8, 20, 46, 0.62);
      border: 1px solid rgba(255, 255, 255, 0.08);
      display: grid;
      gap: 12px;
    }

    .location-card h3 {
      margin: 0;
      font-size: 1.25rem;
    }

    .location-card ul {
      margin: 0;
      padding-left: 20px;
      color: var(--text-secondary);
    }

    .options-grid {
      display: grid;
      gap: clamp(24px, 4vw, 40px);
    }

    @media (min-width: 960px) {
      .options-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    .option-block {
      padding: 26px;
      border-radius: 24px;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.08);
      display: grid;
      gap: 12px;
    }

    .option-block h3 {
      margin: 0;
      font-size: 1.2rem;
    }

    .option-block p {
      margin: 0;
      color: var(--text-secondary);
    }

    .faq-list {
      display: grid;
      gap: 16px;
    }

    .faq-list details {
      border-radius: 20px;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 18px 22px;
    }

    .faq-list summary {
      cursor: pointer;
      font-weight: 600;
      list-style: none;
    }

    .faq-list summary::marker,
    .faq-list summary::-webkit-details-marker {
      display: none;
    }

    .faq-list details p {
      margin: 14px 0 0;
      color: var(--text-secondary);
    }

    .reservation-form {
      display: grid;
      gap: clamp(24px, 3vw, 36px);
      padding: clamp(26px, 4vw, 36px);
      border-radius: 28px;
      background: rgba(6, 14, 34, 0.84);
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: var(--shadow-soft);
    }

    .form-grid {
      display: grid;
      gap: 18px;
    }

    @media (min-width: 860px) {
      .form-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    .form-control {
      display: grid;
      gap: 8px;
    }

    .form-control label {
      font-weight: 600;
    }

    .form-control input,
    .form-control select,
    .form-control textarea {
      width: 100%;
      padding: 14px 16px;
      border-radius: 16px;
      border: 1px solid rgba(255, 255, 255, 0.14);
      background: rgba(8, 18, 44, 0.6);
      color: var(--text-primary);
      font-size: 1rem;
    }

    .form-control textarea {
      min-height: 140px;
      resize: vertical;
    }

    .form-control input:focus-visible,
    .form-control select:focus-visible,
    .form-control textarea:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    .option-selector {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .option-selector label {
      position: relative;
    }

    .option-selector input {
      position: absolute;
      inset: 0;
      opacity: 0;
    }

    .option-selector span {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 18px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.14);
      background: rgba(255, 255, 255, 0.06);
      font-size: 0.92rem;
    }

    .option-selector input:checked + span {
      background: rgba(245, 196, 81, 0.22);
      border-color: rgba(245, 196, 81, 0.45);
      color: var(--accent);
    }

    .form-selection {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 20px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 18px;
      display: grid;
      gap: 14px;
    }

    .form-selection__item {
      display: grid;
      gap: 4px;
      font-size: 0.95rem;
    }

    .form-selection__empty {
      margin: 0;
      color: var(--text-secondary);
    }

    .form-selection__total {
      margin-top: 6px;
      font-size: 1.05rem;
      color: var(--accent);
    }

    .form-actions {
      display: flex;
      flex-direction: column;
      gap: 12px;
      align-items: flex-start;
    }

    .form-feedback {
      margin: 0;
      font-size: 0.95rem;
      color: var(--accent);
    }

    .reservation-footer {
      text-align: center;
      padding: 48px 20px;
      color: rgba(222, 231, 255, 0.68);
      font-size: 0.9rem;
    }

    .reservation-toast {
      position: fixed;
      bottom: 24px;
      right: clamp(20px, 4vw, 48px);
      background: rgba(6, 14, 34, 0.9);
      border-radius: 18px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 14px 18px;
      color: var(--text-primary);
      font-size: 0.95rem;
      box-shadow: 0 18px 46px rgba(2, 8, 24, 0.55);
      opacity: 0;
      transform: translateY(12px);
      transition: opacity 0.3s ease, transform 0.3s ease;
      pointer-events: none;
      z-index: 200;
    }

    .reservation-toast.is-visible {
      opacity: 1;
      transform: translateY(0);
    }

    @media (max-width: 720px) {
      .hero-content {
        padding: 32px 22px;
      }

      .reservation-nav {
        top: auto;
      }

      .stage-card__actions {
        flex-direction: column;
        align-items: stretch;
      }

      .btn {
        width: 100%;
      }

      .stage-summary {
        position: relative;
        top: 0;
      }

      .reservation-form {
        padding: 26px 20px;
      }

      .reservation-toast {
        left: 50%;
        right: auto;
        transform: translate(-50%, 12px);
      }

      .reservation-toast.is-visible {
        transform: translate(-50%, 0);
      }
    }
  </style>
</head>
<body class="reservation-page">
  <header class="reservation-hero" id="top">
    <div class="hero-content">
      <span class="hero-kicker">Tennis Impact Academy</span>
      <h1 class="hero-title">Réservez votre stage premium</h1>
      <p class="hero-subtitle">
        Choisissez votre programme idéal, vos dates et vos options pour vivre une semaine d'entraînement haute
        intensité aux côtés de notre équipe élite. Nous orchestrons l'accueil, les repas, l'hébergement et le suivi
        personnalisé dès votre demande.
      </p>
      <div class="hero-cta">
        <a class="btn btn--primary" href="#stages">Découvrir les stages</a>
        <a class="btn btn--ghost" href="tel:+33607080910">Parler à un conseiller</a>
      </div>
      <div class="hero-benefits">
        <div class="hero-benefit">
          <span aria-hidden="true">★</span>
          <div>
            <strong>Coaching sur-mesure</strong>
            <p>Bilans individuels, analyse vidéo quotidienne et ratio de 4 joueurs par coach pour accélérer les
              progrès.</p>
          </div>
        </div>
        <div class="hero-benefit">
          <span aria-hidden="true">⏱</span>
          <div>
            <strong>Planning optimisé</strong>
            <p>Deux entraînements tennis par jour, préparation physique ciblée et ateliers mentaux pour performer en
              compétition.</p>
          </div>
        </div>
        <div class="hero-benefit">
          <span aria-hidden="true">✨</span>
          <div>
            <strong>Expérience premium</strong>
            <p>Hospitalité 4 étoiles, chef privé, conciergerie transport et soirées signatures au sein du domaine
              Impact.</p>
          </div>
        </div>
      </div>
      <p class="hero-note">Réservations sur-mesure pour joueurs et joueuses de 8 à 18 ans ainsi que programmes adultes.</p>
    </div>
  </header>

  <nav class="reservation-nav" aria-label="Navigation du parcours">
    <ul>
      <li><a href="#stages">Stages</a></li>
      <li><a href="#calendrier">Calendrier</a></li>
      <li><a href="#methodologie">Méthodologie</a></li>
      <li><a href="#lieux">Lieux</a></li>
      <li><a href="#options">Options</a></li>
      <li><a href="#faq">FAQ</a></li>
      <li><a href="#reservation">Réserver</a></li>
    </ul>
  </nav>

  <main>
    <section id="stages" class="reservation-section reservation-section--surface">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Les stages signature</span>
          <h2>Choisissez le programme adapté à votre niveau</h2>
          <p>Nos directeurs techniques ont conçu trois parcours complémentaires pour répondre aux objectifs de chaque
            joueur : performance, progression ou immersion adulte. Sélectionnez vos dates, personnalisez les options et
            constituez votre séjour idéal.</p>
        </div>

        <div class="stage-layout">
          <div class="stage-list" data-stage-list></div>

          <aside class="stage-summary" aria-label="Panier de réservation">
            <h3>Votre sélection</h3>
            <p class="cart-empty" data-cart-empty>Ajoutez un stage pour constituer votre séjour personnalisé.</p>
            <div class="cart-items" data-cart-items></div>
            <div class="cart-total">
              <div class="cart-total__row">
                <span>Total estimé</span>
                <span class="cart-total__amount" data-cart-total>0 €</span>
              </div>
              <p class="cart-note">Les options hébergement et transport sont ajustables jusqu’à la validation finale.
              </p>
              <button type="button" class="btn btn--primary" data-scroll-to-form disabled>Finaliser ma demande</button>
            </div>
          </aside>
        </div>
      </div>
    </section>

    <section id="calendrier" class="reservation-section reservation-section--deep">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Calendrier 2024</span>
          <h2>Planifiez votre semaine idéale</h2>
          <p>Chaque semaine de stage est limitée pour préserver la qualité d’entraînement. Consultez les disponibilités
            en temps réel et ajoutez la session de votre choix à votre panier.</p>
        </div>

        <div class="calendar-grid" data-calendar></div>
        <p class="calendar-legend">Les départs sont garantis dès 6 participants confirmés. Nous vous recontactons sous
          24&nbsp;h pour valider l’hébergement et le transport.</p>
      </div>
    </section>

    <section id="methodologie" class="reservation-section reservation-section--surface">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Notre méthode</span>
          <h2>Un accompagnement complet sur et en dehors du court</h2>
          <p>La Tennis Impact Academy s’appuie sur une équipe pluridisciplinaire : coaches experts FFT, préparateurs
            physiques, ostéopathes et staff hospitalité. Chaque joueur repart avec un plan de progression détaillé.</p>
        </div>

        <div class="features-grid">
          <article class="feature-card">
            <h3>Bilan initial individualisé</h3>
            <p>Avant la première balle, nous réalisons un entretien vidéo et un test de mobilité afin de calibrer le
              contenu technique, physique et mental de la semaine.</p>
          </article>
          <article class="feature-card">
            <h3>Coaching haute performance</h3>
            <p>2h30 de tennis le matin, ateliers tactiques l’après-midi, matchs dirigés et feedback vidéo quotidien avec
              votre référent de stage.</p>
          </article>
          <article class="feature-card">
            <h3>Suivi bien-être et récupération</h3>
            <p>Préparation physique fonctionnelle, cryothérapie, séances d’étirements guidés et cuisine sportive
              personnalisée par notre chef.</p>
          </article>
          <article class="feature-card">
            <h3>Restitution premium</h3>
            <p>Remise d’un dossier digital : statistiques match, vidéos commentées, plan d’entraînement sur 6 semaines et
              recommandations nutritionnelles.</p>
          </article>
        </div>
      </div>
    </section>

    <section id="lieux" class="reservation-section reservation-section--deep">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Nos destinations</span>
          <h2>Des cadres d’exception pour progresser</h2>
          <p>Nous sélectionnons des sites premium avec infrastructures indoor/outdoor, espaces bien-être et hébergements
            haut de gamme pour offrir confort et intensité à chaque joueur.</p>
        </div>

        <div class="locations-grid">
          <article class="location-card">
            <h3>Domaine Impact – Bordeaux</h3>
            <p>Centre d’entraînement principal au cœur d’un parc arboré. 6 courts extérieurs, 3 courts couverts, salle de
              préparation physique, espace récupération et villa privative.</p>
            <ul>
              <li>Hébergement suites juniors &amp; penthouse</li>
              <li>Chef privé &amp; nutrition sportive</li>
              <li>Accès navette gare Bordeaux Saint-Jean</li>
            </ul>
          </article>
          <article class="location-card">
            <h3>Grand Hôtel de Biarritz</h3>
            <p>Vue océan, courts en terre battue et programme surf/condition physique complémentaire pour varier les
              sollicitations.</p>
            <ul>
              <li>Programme premium adultes &amp; familles</li>
              <li>Hébergement ***** &amp; spa marin</li>
              <li>Transferts aéroport Biarritz inclus</li>
            </ul>
          </article>
          <article class="location-card">
            <h3>Hostens Forest Lodge</h3>
            <p>Immersion nature et stage résidentiel pour les 10-14 ans : courts GreenSet, lac privatif, activités
              outdoor et accompagnement 24h/24.</p>
            <ul>
              <li>Encadrement pédagogique dédié</li>
              <li>Chalets premium 4 lits</li>
              <li>Transport collectif depuis Bordeaux</li>
            </ul>
          </article>
        </div>
      </div>
    </section>

    <section id="options" class="reservation-section reservation-section--surface">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Options &amp; services</span>
          <h2>Personnalisez votre séjour</h2>
          <p>Hébergement grand confort, navettes dédiées, séances individuelles supplémentaires… nos conseillers ajustent
            chaque détail selon vos besoins.</p>
        </div>

        <div class="options-grid">
          <article class="option-block">
            <h3>Hébergement premium</h3>
            <p>Suites partagées ou individuelles, encadrement nocturne, room service sportif et animations privées. À
              partir de 290&nbsp;€ la semaine.</p>
          </article>
          <article class="option-block">
            <h3>Transport personnalisé</h3>
            <p>Navettes gare/aéroport, chauffeur privé depuis votre domicile ou organisation du transport collectif
              depuis les principales villes.</p>
          </article>
          <article class="option-block">
            <h3>Coaching additionnel</h3>
            <p>Séances individuelles en plus du programme collectif, préparation mentale, match analysis ou hitting avec
              sparring partenaire.</p>
          </article>
          <article class="option-block">
            <h3>Conciergerie famille</h3>
            <p>Réservations hôtels &amp; restaurants partenaires, activités touristiques, courts &amp; coachs privatisables pour
              les accompagnants.</p>
          </article>
  <title>Réservez votre stage - Tennis Impact</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      --page-background: radial-gradient(circle at 10% 20%, #0f1a3a 0%, #050a1e 55%, #020512 100%);
      --surface-tinted: rgba(13, 23, 52, 0.82);
      --surface-soft: rgba(16, 26, 58, 0.68);
      --surface-light: rgba(255, 255, 255, 0.05);
      --text-primary: #f6f7ff;
      --text-secondary: #cdd5ff;
      --accent: #f5c451;
      --accent-strong: #f0ad2c;
      --accent-soft: rgba(245, 196, 81, 0.22);
      --nav-height: 76px;
      --section-spacing: clamp(64px, 14vw, 120px);
    }

    *, *::before, *::after {
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
      scroll-padding-top: calc(var(--nav-height) + 12px);
    }

    body {
      margin: 0;
      font-family: "Poppins", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: var(--page-background);
      color: var(--text-primary);
      line-height: 1.6;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    img {
      max-width: 100%;
      display: block;
    }

    section {
      padding: clamp(52px, 12vw, 120px) clamp(20px, 8vw, 80px);
      position: relative;
    }

    section:target {
      scroll-margin-top: calc(var(--nav-height) + 24px);
    }

    .reservation-hero {
      position: relative;
      min-height: clamp(420px, 65vh, 560px);
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: clamp(48px, 12vw, 96px) clamp(20px, 6vw, 72px);
      background: linear-gradient(135deg, rgba(5, 10, 26, 0.6), rgba(5, 10, 26, 0.4)), url("assets/photos/3.png") center/cover;
      overflow: hidden;
    }

    .reservation-hero::before,
    .reservation-hero::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(7, 15, 36, 0.92), rgba(8, 18, 46, 0.75));
      mix-blend-mode: multiply;
      pointer-events: none;
    }

    .reservation-hero::after {
      background: radial-gradient(circle at 20% 20%, rgba(245, 196, 81, 0.25), transparent 55%),
        radial-gradient(circle at 80% 30%, rgba(74, 115, 255, 0.18), transparent 60%);
      opacity: 0.8;
    }

    .reservation-hero > div {
      position: relative;
      z-index: 1;
      max-width: 820px;
      background: linear-gradient(160deg, rgba(12, 22, 52, 0.86), rgba(6, 12, 30, 0.78));
      border-radius: 28px;
      padding: clamp(32px, 6vw, 56px);
      box-shadow: 0 30px 80px rgba(0, 0, 0, 0.45);
      backdrop-filter: blur(6px);
    }

    .hero-kicker {
      font-size: 0.95rem;
      letter-spacing: 0.4em;
      text-transform: uppercase;
      color: var(--accent);
      margin-bottom: 18px;
      display: inline-flex;
      align-items: center;
      gap: 12px;
    }

    .hero-kicker::before,
    .hero-kicker::after {
      content: "";
      height: 1px;
      width: 48px;
      background: var(--accent-soft);
    }

    .reservation-hero h1 {
      font-family: "Playfair Display", serif;
      font-size: clamp(2.4rem, 4vw, 3.3rem);
      margin: 0 0 20px;
      letter-spacing: 0.02em;
    }

    .reservation-hero p {
      margin: 0;
      font-size: clamp(1.05rem, 2.2vw, 1.2rem);
      color: var(--text-secondary);
    }

    .reservation-nav {
      position: sticky;
      top: 0;
      z-index: 999;
      display: flex;
      justify-content: center;
      gap: clamp(12px, 4vw, 48px);
      padding: 20px clamp(16px, 6vw, 48px);
      background: rgba(4, 9, 26, 0.85);
      backdrop-filter: blur(18px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.08);
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }

    .reservation-nav a {
      font-weight: 500;
      font-size: 0.95rem;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      position: relative;
      padding-bottom: 6px;
      color: var(--text-secondary);
      transition: color 0.2s ease;
      flex: 0 0 auto;
      white-space: nowrap;
    }

    .reservation-nav::-webkit-scrollbar {
      display: none;
    }

    .reservation-nav a::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: 0;
      width: 100%;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--accent), transparent);
      transform: scaleX(0);
      transform-origin: center;
      transition: transform 0.25s ease;
    }

    .reservation-nav a:hover,
    .reservation-nav a:focus-visible {
      color: #ffffff;
    }

    .reservation-nav a:hover::after,
    .reservation-nav a:focus-visible::after,
    .reservation-nav a[aria-current="true"]::after {
      transform: scaleX(1);
    }

    .section-intro {
      background: linear-gradient(180deg, rgba(9, 14, 32, 0.9), rgba(5, 10, 24, 0.95));
      text-align: center;
    }

    .section-intro h2 {
      font-family: "Playfair Display", serif;
      font-size: clamp(2rem, 3.6vw, 2.8rem);
      margin-bottom: 20px;
    }

    .section-intro p {
      max-width: 820px;
      margin: 0 auto;
      color: var(--text-secondary);
      font-size: clamp(1rem, 2vw, 1.15rem);
    }

    .booking-layout {
      display: grid;
      grid-template-columns: minmax(0, 1.3fr) minmax(280px, 360px);
      gap: clamp(32px, 6vw, 60px);
      max-width: 1180px;
      margin: 0 auto;
      padding: 0 clamp(20px, 5vw, 40px) var(--section-spacing);
    }

    .stage-list {
      display: flex;
      flex-direction: column;
      gap: clamp(24px, 4vw, 36px);
    }

    html, body {
      scroll-behavior: smooth;
    }
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Réserver un Stage - Tennis Impact</title>
<link href="style.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display&amp;family=Poppins:wght@300;400;600&amp;display=swap" rel="stylesheet"/>
<style>
:root {
  --page-background: #060b1f;
  --accent: #fdd835;
  --nav-height: 68px;
  --card-radius: 22px;
  --container-width: 1180px;
  --text-color: #0d0d1f;
  --site-header-height: 0px;
  --site-header-height: 84px;
}

*, *::before, *::after {
  box-sizing: border-box;
}

body {
  font-family: 'Poppins', sans-serif;
  background-color: var(--page-background);
  color: #fff;
  margin: 0;
  line-height: 1.6;
  min-height: 100vh;
}

main {
  display: block;
}

a {
  color: inherit;
}

.hero-reservation {
  position: relative;
  width: 100%;
  min-height: clamp(420px, 70vh, 620px);
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  background-image: var(--hero-image);
  background-size: cover;
  background-position: center;
  padding: clamp(48px, 10vw, 72px) clamp(20px, 6vw, 48px);
}

.hero-reservation::before {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, rgba(4, 9, 24, 0.82), rgba(6, 14, 34, 0.6));
}

.hero-reservation .hero-content {
  position: relative;
  max-width: 760px;
  background: rgba(8, 16, 38, 0.78);
  border-radius: 24px;
  padding: clamp(28px, 7vw, 54px);
  box-shadow: 0 30px 60px rgba(0, 0, 0, 0.45);
  backdrop-filter: blur(3px);
}

.hero-reservation h1 {
  font-size: clamp(2.1rem, 4vw, 3rem);
  margin: 0 0 14px;
  font-family: 'Playfair Display', serif;
  color: #fff;
}

.hero-reservation h2 {
  font-size: clamp(1.2rem, 2.6vw, 1.7rem);
  font-weight: 400;
  margin: 0 0 18px;
  color: rgba(255, 255, 255, 0.92);
}

.hero-reservation p {
  margin: 0;
  font-size: clamp(1rem, 2.2vw, 1.15rem);
  color: rgba(255, 255, 255, 0.85);
}

nav.stages-nav {
  position: sticky;
  top: var(--site-header-height);
  top: 0;
  z-index: 1000;
  background: rgba(255, 255, 255, 0.97);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid rgba(13, 29, 58, 0.12);
  padding: 14px clamp(20px, 6vw, 52px);
  display: flex;
  flex-wrap: wrap;
  gap: clamp(12px, 3vw, 36px);
  justify-content: center;
  align-items: center;
  min-height: var(--nav-height);
}

nav.stages-nav a {
  color: #031b3a;
  text-decoration: none;
  font-weight: 600;
  font-size: clamp(0.95rem, 1vw + 0.75rem, 1.05rem);
  position: relative;
  padding: 6px 0;
  transition: color 0.2s ease;
}

nav.stages-nav a::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -6px;
  width: 100%;
  height: 2px;
  background: var(--accent);
  transform: scaleX(0);
  transform-origin: left;
  transition: transform 0.2s ease;
}

nav.stages-nav a:hover,
nav.stages-nav a:focus-visible {
  color: #000e2c;
}

nav.stages-nav a:hover::after,
nav.stages-nav a:focus-visible::after {
  transform: scaleX(1);
}

nav.stages-nav a.external-link::after {
  display: none;
}

nav.stages-nav a.external-link {
  padding: 6px 14px;
  border: 1px solid rgba(3, 27, 58, 0.14);
  border-radius: 999px;
  transition: background 0.2s ease, color 0.2s ease, border-color 0.2s ease;
}

nav.stages-nav a.external-link:hover,
nav.stages-nav a.external-link:focus-visible {
  background: rgba(3, 27, 58, 0.06);
  border-color: rgba(3, 27, 58, 0.3);
}

@media (max-width: 420px) {
  :root {
    --site-header-height: 0px;
    --site-header-height: 74px;
  }
}

.intro-section {
  width: 100%;
  background-color: #ffffff;
  color: #12203f;
  padding: clamp(64px, 12vw, 120px) clamp(20px, 6vw, 40px);
  position: relative;
  text-align: center;
}

.intro-section h2 {
  font-size: clamp(2rem, 4vw, 2.6rem);
  margin-bottom: 18px;
  font-family: 'Playfair Display', serif;
}

.intro-section h3 {
  font-size: clamp(1.3rem, 3vw, 1.8rem);
  margin-bottom: 24px;
  color: #b28d00;
  letter-spacing: 0.5px;
}

.intro-section p {
  max-width: 860px;
  margin: 0 auto;
  font-size: clamp(1rem, 2.1vw, 1.2rem);
  color: #2b365a;
  line-height: 1.8;
}

.intro-section .wave-divider {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  line-height: 0;
  overflow: hidden;
}

.container {
  display: grid;
  grid-template-columns: minmax(0, 1.7fr) minmax(260px, 1fr);
  gap: clamp(28px, 5vw, 56px);
  align-items: flex-start;
  max-width: var(--container-width);
  margin: 0 auto;
  padding: clamp(48px, 8vw, 96px) clamp(20px, 6vw, 40px);
  box-sizing: border-box;
}

.stages {
  display: flex;
  flex-direction: column;
  gap: clamp(24px, 4vw, 36px);
  padding-right: clamp(0px, 1.5vw, 20px);
  border-right: 1px solid rgba(255, 255, 255, 0.08);
}

.stage-card {
  display: flex;
  flex-wrap: wrap;
  background: #ffffff;
  color: var(--text-color);
  border-radius: var(--card-radius);
  overflow: hidden;
  box-shadow: 0 18px 40px rgba(0, 0, 0, 0.18);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.stage-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 22px 48px rgba(0, 0, 0, 0.22);
}

.stage-card img {
  flex: 0 0 clamp(220px, 32vw, 320px);
  width: clamp(220px, 32vw, 320px);
  height: 100%;
  min-height: 220px;
  object-fit: cover;
}

.stage-card .content {
  flex: 1 1 320px;
  padding: clamp(22px, 5vw, 32px);
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.stage-card h3 {
  font-family: 'Playfair Display', serif;
  font-size: clamp(1.4rem, 3vw, 1.7rem);
  margin: 0;
  color: #061335;
}

.stage-card p {
  margin: 0;
  color: #1f2f54;
}

.stage-card .price {
  font-weight: 700;
  color: #b28d00;
  font-size: 1.1rem;
}

.stage-card ul {
  margin: 0;
  padding-left: 18px;
  color: #273863;
}

.stage-card button {
  align-self: flex-start;
  background: linear-gradient(135deg, #001f3f, #0d0d1f);
  color: #fff;
  border: none;
  padding: 12px 22px;
  border-radius: 12px;
  cursor: pointer;
  font-weight: 600;
  letter-spacing: 0.2px;
  transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
}

.stage-card button:hover,
.stage-card button:focus-visible {
  transform: translateY(-1px);
  box-shadow: 0 12px 24px rgba(13, 27, 58, 0.25);
  outline: none;
}

.cart {
  position: sticky;
  top: calc(var(--nav-height) + 24px);
  align-self: flex-start;
  background: #111733;
  border-radius: 26px;
  padding: clamp(26px, 5vw, 34px);
  box-shadow: 0 24px 50px rgba(8, 15, 40, 0.45);
  color: #fff;
  min-width: 0;
}

.cart h2 {
  margin-top: 0;
  margin-bottom: 24px;
  color: var(--accent);
  font-family: 'Playfair Display', serif;
  font-size: clamp(1.6rem, 2.5vw, 1.9rem);
}

.cart-item {
  background: rgba(255, 255, 255, 0.04);
  margin-bottom: 16px;
  padding: 16px;
  border-radius: 14px;
  border: 1px solid rgba(255, 255, 255, 0.08);
}

.cart-item span {
  display: block;
  font-size: 0.95rem;
}

.cart button {
  width: 100%;
  background: var(--accent);
  color: #0d0d1f;
  font-weight: 700;
  padding: 15px;
  border: none;
  border-radius: 14px;
  cursor: pointer;
  margin-top: 24px;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.cart button:hover,
.cart button:focus-visible {
  transform: translateY(-1px);
  box-shadow: 0 16px 24px rgba(253, 216, 53, 0.35);
  outline: none;
}

    body {
      margin: 0;
      font-family: "Poppins", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: var(--page-background);
      color: var(--text-primary);
      line-height: 1.6;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    img {
      max-width: 100%;
      display: block;
    }

    section {
      padding: var(--section-spacing) clamp(20px, 8vw, 80px);
      position: relative;
    }

    section:target {
      scroll-margin-top: calc(var(--nav-height) + 24px);
    }

    .reservation-hero {
      position: relative;
      min-height: clamp(420px, 65vh, 560px);
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: clamp(48px, 12vw, 96px) clamp(20px, 6vw, 72px);
      background: linear-gradient(135deg, rgba(5, 10, 26, 0.6), rgba(5, 10, 26, 0.4)), url("assets/photos/3.png") center/cover;
      overflow: hidden;
    }

    .reservation-hero::before,
    .reservation-hero::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(7, 15, 36, 0.92), rgba(8, 18, 46, 0.75));
      mix-blend-mode: multiply;
      pointer-events: none;
    }

    .reservation-hero::after {
      background: radial-gradient(circle at 20% 20%, rgba(245, 196, 81, 0.25), transparent 55%),
        radial-gradient(circle at 80% 30%, rgba(74, 115, 255, 0.18), transparent 60%);
      opacity: 0.8;
    }

    .reservation-hero > div {
      position: relative;
      z-index: 1;
      max-width: 820px;
      background: linear-gradient(160deg, rgba(12, 22, 52, 0.86), rgba(6, 12, 30, 0.78));
      border-radius: 28px;
      padding: clamp(32px, 6vw, 56px);
      box-shadow: 0 30px 80px rgba(0, 0, 0, 0.45);
      backdrop-filter: blur(6px);
    }

    .hero-kicker {
      font-size: 0.95rem;
      letter-spacing: 0.4em;
      text-transform: uppercase;
      color: var(--accent);
      margin-bottom: 18px;
      display: inline-flex;
      align-items: center;
      gap: 12px;
    }

    .hero-kicker::before,
    .hero-kicker::after {
      content: "";
      height: 1px;
      width: 48px;
      background: var(--accent-soft);
    }

    .reservation-hero h1 {
      font-family: "Playfair Display", serif;
      font-size: clamp(2.4rem, 4vw, 3.3rem);
      margin: 0 0 20px;
      letter-spacing: 0.02em;
    }

    .reservation-hero p {
      margin: 0;
      font-size: clamp(1.05rem, 2.2vw, 1.2rem);
      color: var(--text-secondary);
    }

    .reservation-nav {
      position: sticky;
      top: 0;
      z-index: 999;
      display: flex;
      justify-content: center;
      gap: clamp(12px, 4vw, 48px);
      padding: 20px clamp(16px, 6vw, 48px);
      background: rgba(4, 9, 26, 0.85);
      backdrop-filter: blur(18px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.08);
    }

    .reservation-nav a {
      font-weight: 500;
      font-size: 0.95rem;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      position: relative;
      padding-bottom: 6px;
      color: var(--text-secondary);
      transition: color 0.2s ease;
    }

    .reservation-nav a::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: 0;
      width: 100%;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--accent), transparent);
      transform: scaleX(0);
      transform-origin: center;
      transition: transform 0.25s ease;
    }

    .reservation-nav a:hover,
    .reservation-nav a:focus-visible {
      color: #ffffff;
    }

    .reservation-nav a:hover::after,
    .reservation-nav a:focus-visible::after,
    .reservation-nav a[aria-current="true"]::after {
      transform: scaleX(1);
    }

    .section-intro {
      background: linear-gradient(180deg, rgba(9, 14, 32, 0.9), rgba(5, 10, 24, 0.95));
      text-align: center;
    }

    .section-intro h2 {
      font-family: "Playfair Display", serif;
      font-size: clamp(2rem, 3.6vw, 2.8rem);
      margin-bottom: 20px;
    }

    .section-intro p {
      max-width: 820px;
      margin: 0 auto;
      color: var(--text-secondary);
      font-size: clamp(1rem, 2vw, 1.15rem);
    }

    .booking-layout {
      display: grid;
      grid-template-columns: minmax(0, 1.3fr) minmax(280px, 360px);
      gap: clamp(32px, 6vw, 60px);
      max-width: 1180px;
      margin: 0 auto;
      padding: 0 clamp(20px, 5vw, 40px) var(--section-spacing);
    }

    .stage-list {
      display: flex;
      flex-direction: column;
      gap: clamp(24px, 4vw, 36px);
    }

    .stage-card {
      display: grid;
      grid-template-columns: minmax(220px, 320px) minmax(0, 1fr);
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.98), rgba(243, 243, 248, 0.94));
      color: #111321;
      border-radius: 28px;
      overflow: hidden;
      box-shadow: 0 26px 60px rgba(8, 10, 30, 0.18);
      transition: transform 0.25s ease, box-shadow 0.25s ease;
    .container {
      display: grid;
      grid-template-columns: 2fr 1fr;
      align-items: start;
      gap: 40px;
      min-height: 100vh;
      padding: 60px 40px;
      box-sizing: border-box;
    }
    .stage-card {
      display: flex;
      flex-direction: row;
      align-items: flex-start;
      background: white;
      color: black;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(0,0,0,0.15);
      margin-bottom: 30px;
      max-width: 100%;
    }

    .stage-card:hover {
      transform: translateY(-6px);
      box-shadow: 0 32px 68px rgba(8, 12, 34, 0.24);
    }

    .stage-card figure {
      position: relative;
      height: 100%;
    }

    .stage-card img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .stage-card figcaption {
      position: absolute;
      left: 18px;
      bottom: 18px;
      background: rgba(5, 10, 26, 0.85);
      color: #ffffff;
      padding: 8px 16px;
      border-radius: 999px;
      font-size: 0.85rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    .stage-card__body {
      padding: clamp(24px, 4.5vw, 40px);
      display: flex;
      flex-direction: column;
      gap: 18px;
    }

    .stage-card__header {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      align-items: center;
    }

    .stage-card__header h3 {
      font-family: "Playfair Display", serif;
      font-size: clamp(1.45rem, 3vw, 1.85rem);
      margin: 0;
      color: #050a1c;
      width: 300px;
      height: auto;
      object-fit: cover;
    }
    .stage-card .content {
      padding: 20px;
      flex: 1;
    }

    .stage-card__tag {
      padding: 6px 14px;
      border-radius: 999px;
      background: rgba(5, 10, 26, 0.08);
      font-size: 0.85rem;
      font-weight: 600;
      letter-spacing: 0.05em;
      text-transform: uppercase;
    }

    .stage-card__dates {
      margin: 0;
      font-weight: 600;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      color: #1c2f58;
      font-size: 0.85rem;
    }

    .stage-card__price {
      margin: 0;
      font-weight: 700;
      font-size: 1.1rem;
      color: #b58a07;
    }

    .stage-card__price span {
      font-size: 0.85rem;
      font-weight: 500;
      color: #4c556e;
      margin-left: 6px;
    }

    .stage-card__highlights {
      margin: 0;
      padding-left: 18px;
      color: #303855;
      font-size: 0.95rem;
    }

    .stage-card__actions {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin-top: auto;
    }

    .button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      border-radius: 16px;
      font-weight: 600;
      letter-spacing: 0.04em;
      padding: 12px 22px;
      font-size: 0.95rem;
      cursor: pointer;
      border: none;
      transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease, color 0.2s ease;
    }

    .button--primary {
      background: linear-gradient(135deg, #0b1c46, #050b1f);
      color: #ffffff;
      box-shadow: 0 16px 30px rgba(5, 11, 31, 0.24);
    }

    .button--primary:hover,
    .button--primary:focus-visible {
      transform: translateY(-2px);
      box-shadow: 0 24px 38px rgba(5, 11, 31, 0.35);
    }

    .button--ghost {
      background: rgba(5, 11, 31, 0.08);
      color: #0b1c46;
      border: 1px solid rgba(5, 11, 31, 0.12);
    }

    .button--ghost:hover,
    .button--ghost:focus-visible {
      background: rgba(5, 11, 31, 0.16);
    }

    .booking-summary {
      position: sticky;
      top: calc(var(--nav-height) + 24px);
      align-self: start;
      background: linear-gradient(180deg, rgba(14, 22, 48, 0.96), rgba(6, 10, 26, 0.98));
      border-radius: 28px;
      padding: clamp(28px, 5vw, 36px);
      box-shadow: 0 30px 70px rgba(0, 0, 0, 0.35);
      border: 1px solid rgba(245, 196, 81, 0.18);
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .booking-summary h2 {
      margin: 0;
      font-family: "Playfair Display", serif;
      font-size: 1.6rem;
    }

    .booking-summary__empty {
      margin: 0;
      color: var(--text-secondary);
      font-size: 0.95rem;
    }

    .booking-summary__selection {
      display: grid;
      gap: 10px;
      background: rgba(5, 9, 24, 0.6);
      border-radius: 18px;
      padding: 16px 18px;
      border: 1px solid rgba(245, 196, 81, 0.18);
    }

    .booking-summary__selection h3 {
      margin: 0;
      font-size: 1rem;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      color: var(--accent);
    }

    .booking-summary__selection p {
      margin: 0;
      font-size: 0.95rem;
      color: var(--text-secondary);
    }

    .booking-summary__badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 14px;
      background: rgba(245, 196, 81, 0.14);
      border-radius: 999px;
      font-size: 0.8rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--accent);
    }

    .booking-summary__note {
      margin: 0;
      font-size: 0.85rem;
      color: rgba(255, 255, 255, 0.6);
    }

    .section-title {
      font-family: "Playfair Display", serif;
      font-size: clamp(2rem, 3vw, 2.6rem);
      margin-bottom: 24px;
      letter-spacing: 0.02em;
    }

    .split-layout {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: clamp(24px, 5vw, 48px);
      align-items: center;
    }

    .split-layout p {
      color: var(--text-secondary);
      margin-bottom: 18px;
    }

    .pill-list {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 18px;
      padding: 0;
      list-style: none;
    }

    .pill-list li {
      padding: 10px 18px;
      border-radius: 999px;
      background: rgba(245, 196, 81, 0.12);
      color: var(--accent);
      font-size: 0.9rem;
      letter-spacing: 0.04em;
    }

    .options-section {
      background: linear-gradient(180deg, rgba(12, 19, 42, 0.92), rgba(6, 11, 28, 0.98));
    }

    .options-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: clamp(20px, 4vw, 32px);
    }

    .option-card {
      background: rgba(5, 10, 24, 0.75);
      border: 1px solid rgba(245, 196, 81, 0.14);
      border-radius: 22px;
      padding: 24px;
      display: grid;
      gap: 12px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.22);
    }

    .option-card h3 {
      margin: 0;
      font-size: 1.1rem;
      color: var(--accent);
      letter-spacing: 0.04em;
      text-transform: uppercase;
    }

    .option-card p {
      margin: 0;
      color: var(--text-secondary);
      font-size: 0.95rem;
    }

    .accommodations {
      background: #f5f6fb;
      color: #111321;
    }

    .accommodations .section-title {
      color: #050b1f;
    }

    .accommodation-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: clamp(20px, 4vw, 32px);
    }

    .accommodation-card {
      background: #ffffff;
      border-radius: 24px;
      overflow: hidden;
      box-shadow: 0 18px 40px rgba(12, 18, 38, 0.15);
      display: flex;
      flex-direction: column;
    }

    .accommodation-card__body {
      padding: 24px;
      display: flex;
      flex-direction: column;
      gap: 12px;
      flex: 1;
    }

    .accommodation-card h3 {
      margin: 0;
      font-size: 1.2rem;
      color: #07102a;
    }

    .accommodation-card p {
      margin: 0;
      color: #3a4463;
      font-size: 0.95rem;
    }

    .faq {
      background: linear-gradient(180deg, rgba(5, 10, 24, 0.94), rgba(5, 10, 24, 0.98));
    }

    .faq-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 18px;
    }

    details {
      background: rgba(5, 9, 24, 0.75);
      border-radius: 18px;
      padding: 18px 22px;
      border: 1px solid rgba(245, 196, 81, 0.12);
    }

    summary {
      cursor: pointer;
      font-weight: 600;
      letter-spacing: 0.03em;
      margin-top: 15px;
    }
    .cart {
      position: -webkit-sticky;
      position: sticky;
      top: 40px;
      align-self: start;
      background: #12122a;
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 4px 20px rgba(255, 215, 0, 0.2);
      min-width: 300px;
      color: white;
    }
    .cart h2 {
      color: #fdd835;
      font-family: 'Playfair Display', serif;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 16px 48px rgba(6, 16, 40, 0.45);
    }

    .btn:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    .btn--primary {
      --btn-bg: linear-gradient(135deg, var(--accent) 0%, var(--accent-strong) 100%);
      --btn-border: transparent;
      --btn-color: #041021;
      box-shadow: 0 14px 42px rgba(245, 196, 81, 0.32);
    }

    .btn--ghost {
      --btn-bg: rgba(255, 255, 255, 0.06);
    }

    .hero-benefits {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 22px;
      text-align: left;
    }

    .hero-benefit {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 18px 22px;
      border-radius: 20px;
      background: rgba(8, 20, 46, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.08);
    }

    .hero-benefit span {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 36px;
      height: 36px;
      border-radius: 10px;
      background: rgba(245, 196, 81, 0.18);
      color: var(--accent);
      font-size: 1.05rem;
      flex-shrink: 0;
    }

    .hero-note {
      margin-top: clamp(24px, 3vw, 34px);
      color: rgba(235, 240, 255, 0.64);
      font-size: 0.94rem;
    }

    .reservation-nav {
      position: sticky;
      top: 0;
      z-index: 50;
      background: rgba(4, 10, 24, 0.82);
      backdrop-filter: blur(14px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.06);
    }

    .reservation-nav ul {
      list-style: none;
      display: flex;
      gap: 12px;
      margin: 0;
      padding: 16px clamp(18px, 6vw, 48px);
      overflow-x: auto;
      scrollbar-width: none;
    }

    .reservation-nav ul::-webkit-scrollbar {
      display: none;
    }

    .reservation-nav a {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 10px 18px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.06);
      color: rgba(236, 240, 255, 0.75);
      border: 1px solid transparent;
      white-space: nowrap;
      font-size: 0.95rem;
      transition: background 0.25s ease, color 0.25s ease, border-color 0.25s ease;
    }

    .reservation-nav a[aria-current="true"],
    .reservation-nav a:hover {
      background: rgba(245, 196, 81, 0.18);
      color: var(--accent);
      border-color: rgba(245, 196, 81, 0.4);
    }

    .stage-layout {
      display: grid;
      gap: clamp(32px, 4vw, 48px);
    }

    @media (min-width: 1080px) {
      .stage-layout {
        grid-template-columns: minmax(0, 1fr) 360px;
        align-items: start;
      }
    }

    .stage-list {
      display: grid;
      gap: clamp(28px, 3vw, 34px);
    }

    .stage-card {
      background: var(--bg-surface);
      border-radius: 28px;
      border: 1px solid var(--border-soft);
      padding: clamp(26px, 4vw, 36px);
      display: grid;
      gap: 24px;
      box-shadow: var(--shadow-soft);
    }

    .stage-card__header {
      display: grid;
      gap: 10px;
    }

    .stage-card__tagline {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      font-size: 0.82rem;
      letter-spacing: 0.36em;
      text-transform: uppercase;
      color: var(--accent);
    }

    .stage-card__tagline::before,
    .stage-card__tagline::after {
      content: "";
      display: block;
      height: 1px;
      width: 34px;
      background: var(--accent-soft);
    }

    .stage-card__title {
      font-family: "Playfair Display", serif;
      font-size: clamp(1.8rem, 2.4vw, 2.4rem);
      margin: 0;
    }

    .stage-card__audience {
      margin: 0;
      color: var(--accent);
      font-weight: 600;
    }

    .stage-card__description {
      margin: 0;
      color: var(--text-secondary);
    }

    .stage-card__highlights {
      list-style: none;
      margin: 0;
      padding: 0;
      display: grid;
      gap: 12px;
    }

    .stage-card__highlights li {
      position: relative;
      padding-left: 26px;
      color: rgba(236, 240, 255, 0.82);
      font-size: 0.96rem;
    }

    .stage-card__highlights li::before {
      content: "★";
      position: absolute;
      left: 0;
      top: 0;
      color: var(--accent);
      font-size: 0.9rem;
    }

    .stage-card__sessions {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 22px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 20px;
      display: grid;
      gap: 16px;
    }

    .stage-card__sessions label {
      font-weight: 600;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .stage-card__sessions select {
      width: 100%;
      margin-top: 10px;
      padding: 12px 14px;
      border-radius: 16px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: rgba(7, 16, 38, 0.6);
      color: var(--text-primary);
      font-size: 1rem;
    }

    .stage-card__sessions select:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    .stage-card__session-info {
      display: grid;
      gap: 6px;
    summary::-webkit-details-marker {
      display: none;
    }

    summary::after {
      content: "+";
      float: right;
      font-size: 1.2rem;
      transition: transform 0.25s ease;
    }

    details[open] summary::after {
      transform: rotate(45deg);
    }

    details p {
      margin: 12px 0 0;
      color: var(--text-secondary);
      font-size: 0.95rem;
    }

    .stage-card__session-info strong {
      color: var(--text-primary);
      font-weight: 600;
    }

    .stage-card__actions {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      gap: 14px;
    }

    .stage-card__price {
      display: grid;
      gap: 4px;
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    .stage-card__price strong {
      font-size: 1.2rem;
      color: var(--text-primary);
    }

    .stage-summary {
      background: rgba(6, 14, 34, 0.82);
      border-radius: 28px;
      border: 1px solid var(--border-soft);
      padding: clamp(24px, 3vw, 32px);
      display: grid;
      gap: 22px;
      position: sticky;
      top: calc(var(--nav-height) + 24px);
      box-shadow: var(--shadow-soft);
    }

    .stage-summary h3 {
      margin: 0;
      font-family: "Playfair Display", serif;
      font-size: clamp(1.4rem, 2.1vw, 1.9rem);
    }

    .cart-empty {
      margin: 0;
      color: var(--text-secondary);
      text-align: center;
      border: 1px dashed rgba(255, 255, 255, 0.12);
      border-radius: 18px;
      padding: 18px;
      background: rgba(255, 255, 255, 0.05);
    }

    .cart-items {
    .cta-final {
      text-align: center;
      background: linear-gradient(180deg, rgba(12, 20, 46, 0.92), rgba(7, 12, 32, 0.92));
      padding-bottom: clamp(60px, 12vw, 96px);
    }

    .cta-final p {
      max-width: 680px;
      margin: 0 auto 24px;
      color: var(--text-secondary);
    }

    .modal {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      padding: clamp(24px, 6vw, 48px);
      background: rgba(3, 6, 18, 0.78);
      backdrop-filter: blur(6px);
      z-index: 1200;
    }

    .modal.is-visible {
      display: flex;
    }

    .modal__dialog {
      position: relative;
      max-width: 640px;
      width: min(92vw, 640px);
      background: #ffffff;
      color: #101530;
      border-radius: 24px;
      padding: clamp(28px, 5vw, 40px);
      box-shadow: 0 40px 90px rgba(0, 0, 0, 0.35);
      display: grid;
      gap: 18px;
    }

    .cart-item {
      display: grid;
      gap: 12px;
      padding: 18px;
      border-radius: 20px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      background: rgba(255, 255, 255, 0.06);
    }

    .cart-item__header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 12px;
    }

    .cart-item__title {
      margin: 0;
      font-weight: 600;
    }

    .cart-item__meta {
      margin: 0;
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    .cart-remove {
      background: none;
      border: none;
      color: rgba(236, 240, 255, 0.68);
      cursor: pointer;
      padding: 4px;
      font-size: 0.85rem;
    }

    .cart-remove:hover {
      color: var(--accent);
    }

    .cart-options {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .cart-chip {
      position: relative;
    }

    .cart-chip input {
      position: absolute;
      inset: 0;
      opacity: 0;
      cursor: pointer;
    }

    .cart-chip span {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 14px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: rgba(255, 255, 255, 0.06);
      font-size: 0.85rem;
      transition: background 0.2s ease, border-color 0.2s ease, color 0.2s ease;
    }

    .cart-chip input:checked + span {
      background: rgba(245, 196, 81, 0.22);
      border-color: rgba(245, 196, 81, 0.45);
      color: var(--accent);
    }

    .cart-item__total {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 0.95rem;
      color: var(--text-secondary);
    }

    .cart-item__total strong {
      color: var(--text-primary);
      font-size: 1.05rem;
    }

    .cart-total {
      border-top: 1px solid rgba(255, 255, 255, 0.12);
      padding-top: 18px;
      display: grid;
      gap: 10px;
    }

    .cart-total__row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: var(--text-secondary);
    }

    .cart-total__amount {
      font-size: 1.4rem;
      font-weight: 600;
      color: var(--text-primary);
    }

    .cart-note {
      margin: 0;
      color: rgba(236, 240, 255, 0.68);
      font-size: 0.85rem;
    }

    .calendar-grid {
      display: grid;
      gap: clamp(24px, 3vw, 32px);
    }

    .calendar-month {
      border-radius: 28px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 24px;
      display: grid;
      gap: 18px;
    }

    .calendar-month h3 {
      margin: 0;
      font-family: "Playfair Display", serif;
      font-size: 1.6rem;
    }

    .calendar-entry {
      display: grid;
      gap: 6px;
      padding: 18px;
      border-radius: 18px;
      background: rgba(8, 20, 46, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.08);
    }

    .calendar-entry__actions {
      display: flex;
      justify-content: flex-start;
    }

    .calendar-legend {
      margin-top: clamp(22px, 3vw, 32px);
      color: rgba(236, 240, 255, 0.68);
      text-align: center;
      font-size: 0.95rem;
    }

    .calendar-entry__header {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
    }

    .calendar-entry__dates {
      font-weight: 600;
      color: var(--accent);
    }

    .calendar-entry__meta {
      margin: 0;
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    .features-grid {
      display: grid;
      gap: clamp(20px, 3vw, 32px);
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    }

    .feature-card {
      padding: 24px;
      border-radius: 24px;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.08);
      display: grid;
      gap: 12px;
    }

    .feature-card h3 {
      margin: 0;
      font-size: 1.2rem;
    }

    .feature-card p {
      margin: 0;
      color: var(--text-secondary);
    }

    .locations-grid {
      display: grid;
      gap: clamp(20px, 3vw, 32px);
    }

    @media (min-width: 860px) {
      .locations-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }
    }

    .location-card {
      padding: 26px;
      border-radius: 24px;
      background: rgba(8, 20, 46, 0.62);
      border: 1px solid rgba(255, 255, 255, 0.08);
      display: grid;
      gap: 12px;
    }

    .location-card h3 {
      margin: 0;
      font-size: 1.25rem;
    }

    .location-card ul {
      margin: 0;
      padding-left: 20px;
      color: var(--text-secondary);
    }

    .options-grid {
      display: grid;
      gap: clamp(24px, 4vw, 40px);
    }

    @media (min-width: 960px) {
      .options-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    .option-block {
      padding: 26px;
      border-radius: 24px;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.08);
      display: grid;
      gap: 12px;
    }

    .option-block h3 {
      margin: 0;
      font-size: 1.2rem;
    }

    .option-block p {
      margin: 0;
      color: var(--text-secondary);
    }

    .faq-list {
      display: grid;
      gap: 16px;
    }

    .faq-list details {
      border-radius: 20px;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 18px 22px;
    }

    .faq-list summary {
      cursor: pointer;
      font-weight: 600;
      list-style: none;
    }

    .faq-list summary::marker,
    .faq-list summary::-webkit-details-marker {
      display: none;
    }

    .faq-list details p {
      margin: 14px 0 0;
      color: var(--text-secondary);
    }

    .reservation-form {
      display: grid;
      gap: clamp(24px, 3vw, 36px);
      padding: clamp(26px, 4vw, 36px);
      border-radius: 28px;
      background: rgba(6, 14, 34, 0.84);
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: var(--shadow-soft);
    }

    .form-grid {
      display: grid;
      gap: 18px;
    }

    @media (min-width: 860px) {
      .form-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    .form-control {
      display: grid;
      gap: 8px;
    }

    .form-control label {
      font-weight: 600;
    }

    .form-control input,
    .form-control select,
    .form-control textarea {
      width: 100%;
      padding: 14px 16px;
      border-radius: 16px;
      border: 1px solid rgba(255, 255, 255, 0.14);
      background: rgba(8, 18, 44, 0.6);
      color: var(--text-primary);
      font-size: 1rem;
    }

    .form-control textarea {
      min-height: 140px;
      resize: vertical;
    }

    .form-control input:focus-visible,
    .form-control select:focus-visible,
    .form-control textarea:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    .option-selector {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .option-selector label {
      position: relative;
    }

    .option-selector input {
      position: absolute;
      inset: 0;
      opacity: 0;
    }

    .option-selector span {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 18px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.14);
      background: rgba(255, 255, 255, 0.06);
      font-size: 0.92rem;
    }

    .option-selector input:checked + span {
      background: rgba(245, 196, 81, 0.22);
      border-color: rgba(245, 196, 81, 0.45);
      color: var(--accent);
    }

    .form-selection {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 20px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 18px;
      display: grid;
      gap: 14px;
    }

    .form-selection__item {
      display: grid;
      gap: 4px;
      font-size: 0.95rem;
    }

    .form-selection__empty {
      margin: 0;
      color: var(--text-secondary);
    }

    .form-selection__total {
      margin-top: 6px;
      font-size: 1.05rem;
      color: var(--accent);
    }

    .form-actions {
      display: flex;
      flex-direction: column;
      gap: 12px;
      align-items: flex-start;
    }

    .form-feedback {
      margin: 0;
      font-size: 0.95rem;
      color: var(--accent);
    }

    .reservation-footer {
      text-align: center;
      padding: 48px 20px;
      color: rgba(222, 231, 255, 0.68);
      font-size: 0.9rem;
    }

    .reservation-toast {
      position: fixed;
      bottom: 24px;
      left: 50%;
      right: auto;
      background: rgba(6, 14, 34, 0.9);
      border-radius: 18px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 14px 18px;
      color: var(--text-primary);
      font-size: 0.95rem;
      box-shadow: 0 18px 46px rgba(2, 8, 24, 0.55);
      opacity: 0;
      transform: translate(-50%, 12px);
      transition: opacity 0.3s ease, transform 0.3s ease;
      pointer-events: none;
      z-index: 200;
    }

    .reservation-toast.is-visible {
      opacity: 1;
      transform: translate(-50%, 0);
    }

    @media (max-width: 720px) {
      .hero-content {
        padding: 32px 22px;
      }

      .reservation-nav {
        top: auto;
      }

      .stage-card__actions {
        flex-direction: column;
        align-items: stretch;
      }

      .btn {
        width: 100%;
      }

      .stage-summary {
        position: relative;
        top: 0;
      }

      .reservation-form {
        padding: 26px 20px;
      }

      .reservation-toast {
        max-width: calc(100% - 32px);
      }
    }
  </style>
</head>
<body class="reservation-page">
  <header class="reservation-hero" id="top">
    <div class="hero-content">
      <span class="hero-kicker">Tennis Impact Academy</span>
      <h1 class="hero-title">Réservez votre stage premium</h1>
      <p class="hero-subtitle">
        Choisissez votre programme idéal, vos dates et vos options pour vivre une semaine d'entraînement haute
        intensité aux côtés de notre équipe élite. Nous orchestrons l'accueil, les repas, l'hébergement et le suivi
        personnalisé dès votre demande.
      </p>
      <div class="hero-cta">
        <a class="btn btn--primary" href="#stages">Découvrir les stages</a>
        <a class="btn btn--ghost" href="tel:+33607080910">Parler à un conseiller</a>
      </div>
      <div class="hero-benefits">
        <div class="hero-benefit">
          <span aria-hidden="true">★</span>
          <div>
            <strong>Coaching sur-mesure</strong>
            <p>Bilans individuels, analyse vidéo quotidienne et ratio de 4 joueurs par coach pour accélérer les
              progrès.</p>
          </div>
        </div>
        <div class="hero-benefit">
          <span aria-hidden="true">⏱</span>
          <div>
            <strong>Planning optimisé</strong>
            <p>Deux entraînements tennis par jour, préparation physique ciblée et ateliers mentaux pour performer en
              compétition.</p>
          </div>
        </div>
        <div class="hero-benefit">
          <span aria-hidden="true">✨</span>
          <div>
            <strong>Expérience premium</strong>
            <p>Hospitalité 4 étoiles, chef privé, conciergerie transport et soirées signatures au sein du domaine
              Impact.</p>
          </div>
        </div>
      </div>
      <p class="hero-note">Réservations sur-mesure pour joueurs et joueuses de 8 à 18 ans ainsi que programmes adultes.</p>
    </div>
  </header>

  <nav class="reservation-nav" aria-label="Navigation du parcours">
    <ul>
      <li><a href="#stages">Stages</a></li>
      <li><a href="#calendrier">Calendrier</a></li>
      <li><a href="#methodologie">Méthodologie</a></li>
      <li><a href="#lieux">Lieux</a></li>
      <li><a href="#options">Options</a></li>
      <li><a href="#faq">FAQ</a></li>
      <li><a href="#reservation">Réserver</a></li>
    </ul>
  </nav>

  <main>
    <section id="stages" class="reservation-section reservation-section--surface">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Les stages signature</span>
          <h2>Choisissez le programme adapté à votre niveau</h2>
          <p>Nos directeurs techniques ont conçu trois parcours complémentaires pour répondre aux objectifs de chaque
            joueur : performance, progression ou immersion adulte. Sélectionnez vos dates, personnalisez les options et
            constituez votre séjour idéal.</p>
        </div>

        <div class="stage-layout">
          <div class="stage-list" data-stage-list></div>

          <aside class="stage-summary" aria-label="Panier de réservation">
            <h3>Votre sélection</h3>
            <p class="cart-empty" data-cart-empty>Ajoutez un stage pour constituer votre séjour personnalisé.</p>
            <div class="cart-items" data-cart-items></div>
            <div class="cart-total">
              <div class="cart-total__row">
                <span>Total estimé</span>
                <span class="cart-total__amount" data-cart-total>0 €</span>
              </div>
              <p class="cart-note">Les options hébergement et transport sont ajustables jusqu’à la validation finale.
              </p>
              <button type="button" class="btn btn--primary" data-scroll-to-form disabled>Finaliser ma demande</button>
            </div>
          </aside>
        </div>
      </div>
    </section>

    <section id="calendrier" class="reservation-section reservation-section--deep">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Calendrier 2024</span>
          <h2>Planifiez votre semaine idéale</h2>
          <p>Chaque semaine de stage est limitée pour préserver la qualité d’entraînement. Consultez les disponibilités
            en temps réel et ajoutez la session de votre choix à votre panier.</p>
        </div>

        <div class="calendar-grid" data-calendar></div>
        <p class="calendar-legend">Les départs sont garantis dès 6 participants confirmés. Nous vous recontactons sous
          24&nbsp;h pour valider l’hébergement et le transport.</p>
      </div>
    </section>

    <section id="methodologie" class="reservation-section reservation-section--surface">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Notre méthode</span>
          <h2>Un accompagnement complet sur et en dehors du court</h2>
          <p>La Tennis Impact Academy s’appuie sur une équipe pluridisciplinaire : coaches experts FFT, préparateurs
            physiques, ostéopathes et staff hospitalité. Chaque joueur repart avec un plan de progression détaillé.</p>
        </div>

        <div class="features-grid">
          <article class="feature-card">
            <h3>Bilan initial individualisé</h3>
            <p>Avant la première balle, nous réalisons un entretien vidéo et un test de mobilité afin de calibrer le
              contenu technique, physique et mental de la semaine.</p>
          </article>
          <article class="feature-card">
            <h3>Coaching haute performance</h3>
            <p>2h30 de tennis le matin, ateliers tactiques l’après-midi, matchs dirigés et feedback vidéo quotidien avec
              votre référent de stage.</p>
          </article>
          <article class="feature-card">
            <h3>Suivi bien-être et récupération</h3>
            <p>Préparation physique fonctionnelle, cryothérapie, séances d’étirements guidés et cuisine sportive
              personnalisée par notre chef.</p>
          </article>
          <article class="feature-card">
            <h3>Restitution premium</h3>
            <p>Remise d’un dossier digital : statistiques match, vidéos commentées, plan d’entraînement sur 6 semaines et
              recommandations nutritionnelles.</p>
          </article>
        </div>
      </div>
    </section>

    <section id="lieux" class="reservation-section reservation-section--deep">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Nos destinations</span>
          <h2>Des cadres d’exception pour progresser</h2>
          <p>Nous sélectionnons des sites premium avec infrastructures indoor/outdoor, espaces bien-être et hébergements
            haut de gamme pour offrir confort et intensité à chaque joueur.</p>
        </div>

        <div class="locations-grid">
          <article class="location-card">
            <h3>Domaine Impact – Bordeaux</h3>
            <p>Centre d’entraînement principal au cœur d’un parc arboré. 6 courts extérieurs, 3 courts couverts, salle de
              préparation physique, espace récupération et villa privative.</p>
            <ul>
              <li>Hébergement suites juniors &amp; penthouse</li>
              <li>Chef privé &amp; nutrition sportive</li>
              <li>Accès navette gare Bordeaux Saint-Jean</li>
            </ul>
          </article>
          <article class="location-card">
            <h3>Grand Hôtel de Biarritz</h3>
            <p>Vue océan, courts en terre battue et programme surf/condition physique complémentaire pour varier les
              sollicitations.</p>
            <ul>
              <li>Programme premium adultes &amp; familles</li>
              <li>Hébergement ***** &amp; spa marin</li>
              <li>Transferts aéroport Biarritz inclus</li>
            </ul>
          </article>
          <article class="location-card">
            <h3>Hostens Forest Lodge</h3>
            <p>Immersion nature et stage résidentiel pour les 10-14 ans : courts GreenSet, lac privatif, activités
              outdoor et accompagnement 24h/24.</p>
            <ul>
              <li>Encadrement pédagogique dédié</li>
              <li>Chalets premium 4 lits</li>
              <li>Transport collectif depuis Bordeaux</li>
            </ul>
          </article>
        </div>
      </div>
    </section>

    <section id="options" class="reservation-section reservation-section--surface">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Options &amp; services</span>
          <h2>Personnalisez votre séjour</h2>
          <p>Hébergement grand confort, navettes dédiées, séances individuelles supplémentaires… nos conseillers ajustent
            chaque détail selon vos besoins.</p>
        </div>

        <div class="options-grid">
          <article class="option-block">
            <h3>Hébergement premium</h3>
            <p>Suites partagées ou individuelles, encadrement nocturne, room service sportif et animations privées. À
              partir de 290&nbsp;€ la semaine.</p>
          </article>
          <article class="option-block">
            <h3>Transport personnalisé</h3>
            <p>Navettes gare/aéroport, chauffeur privé depuis votre domicile ou organisation du transport collectif
              depuis les principales villes.</p>
          </article>
          <article class="option-block">
            <h3>Coaching additionnel</h3>
            <p>Séances individuelles en plus du programme collectif, préparation mentale, match analysis ou hitting avec
              sparring partenaire.</p>
          </article>
          <article class="option-block">
            <h3>Conciergerie famille</h3>
            <p>Réservations hôtels &amp; restaurants partenaires, activités touristiques, courts &amp; coachs privatisables pour
              les accompagnants.</p>
          </article>
    .modal__header {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .modal__title {
      margin: 0;
      font-family: "Playfair Display", serif;
      font-size: 1.8rem;
      color: #050b1f;
    }

    .modal__stage-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      font-size: 0.9rem;
      color: #3b4662;
    }

    .modal__close {
      position: absolute;
      top: 20px;
      right: 24px;
      border: none;
      background: rgba(15, 22, 46, 0.1);
      color: #050b1f;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      font-size: 1.1rem;
      cursor: pointer;
    }

    .reservation-form {
      display: grid;
      gap: 16px;
    }

    .form-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 16px;
    }

    label {
      font-weight: 600;
      font-size: 0.95rem;
      color: #0c183a;
      display: grid;
      gap: 8px;
    }

    input,
    select,
    textarea {
      width: 100%;
      padding: 12px 14px;
      border-radius: 12px;
      border: 1px solid rgba(12, 24, 58, 0.18);
      font-family: inherit;
      font-size: 0.95rem;
      color: #0c183a;
      background: rgba(12, 24, 58, 0.04);
      transition: border-color 0.2s ease, box-shadow 0.2s ease;
    }

    input:focus,
    select:focus,
    textarea:focus {
      outline: none;
      border-color: var(--accent-strong);
      box-shadow: 0 0 0 3px rgba(245, 196, 81, 0.22);
    }

    textarea {
      resize: vertical;
      min-height: 96px;
    }

    .modal__footer {
      display: flex;
      flex-direction: column;
      gap: 12px;
      font-size: 0.9rem;
      color: #3b4662;
    }

    .toast {
      position: fixed;
      bottom: 32px;
      right: 32px;
      background: rgba(6, 12, 30, 0.92);
      color: #ffffff;
      padding: 16px 22px;
      border-radius: 16px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      opacity: 0;
      pointer-events: none;
      transform: translateY(12px);
      transition: opacity 0.3s ease, transform 0.3s ease;
      z-index: 1300;
      font-size: 0.95rem;
    }

    .toast.is-visible {
      opacity: 1;
      transform: translateY(0);
    }

    .accommodation-modal__media {
      border-radius: 18px;
      overflow: hidden;
      max-height: 280px;
    }

    .accommodation-modal__list {
      margin: 0;
      padding-left: 18px;
      color: #3b4662;
    }

    @media (max-width: 1140px) {
      section {
        padding: clamp(48px, 10vw, 96px) clamp(20px, 6vw, 60px);
      }

      .booking-layout {
        max-width: 960px;
      }
    }

    @media (max-width: 1024px) {
      .stage-card {
        grid-template-columns: minmax(0, 1fr);
      }

      .stage-card figure {
        height: clamp(220px, 45vw, 320px);
      }

      .booking-layout {
        gap: clamp(24px, 5vw, 40px);
      }
    }

    @media (max-width: 960px) {
      .reservation-nav {
        flex-wrap: wrap;
        gap: 18px;
        justify-content: flex-start;
        padding-inline: clamp(16px, 6vw, 36px);
      }

      .booking-layout {
        grid-template-columns: minmax(0, 1fr);
        max-width: 720px;
      }

      .booking-summary {
        position: static;
        border-radius: 24px;
        box-shadow: 0 18px 36px rgba(0, 0, 0, 0.32);
      }
    }

    @media (max-width: 640px) {
      :root {
        --nav-height: 64px;
      }

      section {
        padding: clamp(42px, 18vw, 72px) clamp(16px, 6vw, 32px);
      }

      .reservation-hero > div {
        padding: clamp(24px, 8vw, 36px);
      }

      .reservation-hero {
        min-height: clamp(360px, 60vh, 440px);
      }

      .reservation-hero h1 {
        font-size: clamp(2.1rem, 8vw, 2.6rem);
      }

      .reservation-hero p {
        font-size: clamp(1rem, 4vw, 1.1rem);
      }

      .stage-card__actions {
        flex-direction: column;
        align-items: stretch;
      }

      .button {
        width: 100%;
      }

      .reservation-nav a {
        font-size: 0.85rem;
      }

      .booking-summary {
        padding: 24px;
      }

      .toast {
        right: 16px;
        left: 16px;
        bottom: 20px;
      }

      .modal__dialog {
        width: min(94vw, 520px);
        padding: clamp(24px, 8vw, 32px);
      }

      .modal__close {
        top: 16px;
        right: 18px;
      }
    }

    @media (max-width: 420px) {
      section {
        padding-block: clamp(36px, 18vw, 60px);
      }

      .hero-kicker {
        letter-spacing: 0.32em;
        font-size: 0.85rem;
      }

      .stage-card__body {
        padding: clamp(20px, 7vw, 32px);
      }

      .stage-card__highlights {
        font-size: 0.9rem;
        padding-left: 16px;
      }

      .reservation-nav {
        padding-block: 16px;
        gap: 14px;
      }

      .reservation-nav a {
        font-size: 0.8rem;
      }

      .booking-summary h2 {
        font-size: 1.4rem;
      }

      .pill-list {
        gap: 8px;
      }

      .toast {
        font-size: 0.9rem;
        border-radius: 14px;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
    }
  </style>
</head>
<body>
  <header class="reservation-hero">
    <div>
      <span class="hero-kicker">Tennis Impact Academy</span>
      <h1>Réservez votre stage premium</h1>
      <p>
        Des programmes d’entraînement haute intensité, encadrés par notre équipe élite. Choisissez votre formule, ajoutez vos
        options et laissez-nous orchestrer une semaine d’exception pour votre enfant.
      .reservation-nav {
        justify-content: flex-start;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
    }
  </style>
</head>
<body>
  <header class="reservation-hero">
    <div>
      <span class="hero-kicker">Tennis Impact Academy</span>
      <h1>Réservez votre stage premium</h1>
      <p>
        Des programmes d’entraînement haute intensité, encadrés par notre équipe élite. Choisissez votre formule, ajoutez vos
        options et laissez-nous orchestrer une semaine d’exception pour votre enfant.
      margin-top: 20px;
    }
  
.premium-form {
  background: #ffffff;
  border: 2px solid var(--accent);
  box-shadow: 0 0 40px rgba(255, 215, 0, 0.25);
  border-radius: 22px;
  padding: clamp(32px, 6vw, 44px);
  color: var(--text-color);
}

.premium-form h2 {
  font-family: 'Playfair Display', serif;
  font-size: clamp(1.6rem, 3vw, 1.9rem);
  color: var(--text-color);
  margin-top: 0;
}

.premium-form input,
.premium-form select {
  width: 100%;
  margin-bottom: 15px;
  padding: 12px;
  border-radius: 12px;
  border: 1px solid #c4c7d4;
  font-size: 1rem;
}

.premium-form button[type='submit'] {
  background-color: #0d0d1f;
  color: var(--accent);
  font-weight: 700;
  padding: 12px 22px;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.premium-form button[type='submit']:hover,
.premium-form button[type='submit']:focus-visible {
  transform: translateY(-1px);
  box-shadow: 0 12px 24px rgba(13, 13, 31, 0.25);
  outline: none;
}

}

.premium-form button[type='submit']:hover,
.premium-form button[type='submit']:focus-visible {
  transform: translateY(-1px);
  box-shadow: 0 12px 24px rgba(13, 13, 31, 0.25);
  outline: none;
}

.premium-form button[type='button'] {
  background-color: #bbb;
  color: white;
  margin-left: 10px;
  padding: 12px 22px;
  border: none;
  border-radius: 12px;
  cursor: pointer;
}

span[id='stages'],
span[id='methodologie'],
span[id='options'],
span[id='faq'],
span[id='nos-hebergements'] {
  position: relative;
  display: block;
  height: 0;
  width: 0;
}

}

[id='stages'],
[id='methodologie'],
[id='options'],
[id='faq'],
[id='nos-hebergements'] {
  scroll-margin-top: calc(var(--nav-height) + 28px);
}

@media (max-width: 1200px) {
  .container {
    grid-template-columns: 1fr;
  }

  .stages {
    border-right: none;
    padding-right: 0;
  }

  .cart {
    position: static;
    width: 100%;
    max-width: 540px;
    margin: 0 auto;
  }
}

@media (max-width: 920px) {
  .stage-card {
    flex-direction: column;
  }

  .stage-card img {
    width: 100%;
    flex-basis: auto;
    height: clamp(220px, 50vw, 340px);
  }

  nav.stages-nav {
    justify-content: flex-start;
  }
}

@media (max-width: 680px) {
  .container {
    padding: clamp(36px, 9vw, 52px) 20px;
  }

  nav.stages-nav {
    gap: 16px;
  }

  .cart {
    border-radius: 20px;
  }

  .stage-card {
    border-radius: 20px;
  }

  .stage-card button {
    width: 100%;
    text-align: center;
  }
}

@media (max-width: 520px) {
  nav.stages-nav {
    padding: 12px 18px;
  }

  .hero-reservation .hero-content {
    padding: 24px;
  }

  .intro-section {
    padding: 56px 18px 96px;
  }
}

}

@media (max-width: 1200px) {
  .container {
    grid-template-columns: 1fr;
  }

}

@media (max-width: 1200px) {
  .container {
    grid-template-columns: 1fr;
  }

}

@media (max-width: 1200px) {
  .container {
    grid-template-columns: 1fr;
  }

  .stages {
    border-right: none;
    padding-right: 0;
  }

  .cart {
    position: static;
    width: 100%;
    max-width: 540px;
    margin: 0 auto;
  }
}

@media (max-width: 920px) {
  .stage-card {
    flex-direction: column;
  }

  .stage-card img {
    width: 100%;
    flex-basis: auto;
    height: clamp(220px, 50vw, 340px);
  }

  nav.stages-nav {
    justify-content: flex-start;
  }
}

@media (max-width: 680px) {
  .container {
    padding: clamp(36px, 9vw, 52px) 20px;
  }

  nav.stages-nav {
    gap: 16px;
  }

  .cart {
    border-radius: 20px;
  }

  .stage-card {
    border-radius: 20px;
  }

  .stage-card button {
    width: 100%;
    text-align: center;
  }
}

@media (max-width: 520px) {
  nav.stages-nav {
    padding: 12px 18px;
  }

  .hero-reservation .hero-content {
    padding: 24px;
  }

  .intro-section {
    padding: 56px 18px 96px;
  }
}

}

@media (max-width: 1200px) {
  .container {
    grid-template-columns: 1fr;
  }

  .stages {
    border-right: none;
    padding-right: 0;
  }

  .cart {
    position: static;
    width: 100%;
    max-width: 540px;
    margin: 0 auto;
  }
}

@media (max-width: 920px) {
  .stage-card {
    flex-direction: column;
  }

  .stage-card img {
    width: 100%;
    flex-basis: auto;
    height: clamp(220px, 50vw, 340px);
  }

  nav.stages-nav {
    justify-content: flex-start;
  }
}

@media (max-width: 680px) {
  .container {
    padding: clamp(36px, 9vw, 52px) 20px;
  }

  nav.stages-nav {
    gap: 16px;
  }

  .cart {
    border-radius: 20px;
  }

  .stage-card {
    border-radius: 20px;
  }

  .stage-card button {
    width: 100%;
    text-align: center;
  }
}

@media (max-width: 520px) {
  nav.stages-nav {
    padding: 12px 18px;
  }

  .hero-reservation .hero-content {
    padding: 24px;
  }

  .intro-section {
    padding: 56px 18px 96px;
  }
}

}

@media (max-width: 920px) {
  .stage-card {
    flex-direction: column;
  }

  .stage-card img {
    width: 100%;
    flex-basis: auto;
    height: clamp(220px, 50vw, 340px);
  }

  nav.stages-nav {
    justify-content: flex-start;
  }
}

@media (max-width: 680px) {
  .container {
    padding: clamp(36px, 9vw, 52px) 20px;
  }

  nav.stages-nav {
    gap: 16px;
  }

  .cart {
    border-radius: 20px;
  }

  .stage-card {
    border-radius: 20px;
  }

  .stage-card button {
    width: 100%;
    text-align: center;
  }
}

@media (max-width: 520px) {
  nav.stages-nav {
    padding: 12px 18px;
  }

  .hero-reservation .hero-content {
    padding: 24px;
  }

  .intro-section {
    padding: 56px 18px 96px;
  }
}

}

[id='stages'],
[id='methodologie'],
[id='options'],
[id='faq'],
[id='nos-hebergements'] {
  scroll-margin-top: calc(var(--nav-height) + 28px);
}

@media (max-width: 1200px) {
  .container {
    grid-template-columns: 1fr;
  }

  .stages {
    border-right: none;
    padding-right: 0;
  }

  .cart {
    position: static;
    width: 100%;
    max-width: 540px;
    margin: 0 auto;
  }
}

@media (max-width: 920px) {
  .stage-card {
    flex-direction: column;
  }

  .stage-card img {
    width: 100%;
    flex-basis: auto;
    height: clamp(220px, 50vw, 340px);
  }

  nav.stages-nav {
    justify-content: flex-start;
  }
}

@media (max-width: 680px) {
  .container {
    padding: clamp(36px, 9vw, 52px) 20px;
  }

  nav.stages-nav {
    gap: 16px;
  }

  .cart {
    border-radius: 20px;
  }

  .stage-card {
    border-radius: 20px;
  }

  .stage-card button {
    width: 100%;
    text-align: center;
  }
}

@media (max-width: 520px) {
  nav.stages-nav {
    padding: 12px 18px;
  }

  .hero-reservation .hero-content {
    padding: 24px;
  }

  .intro-section {
    padding: 56px 18px 96px;
  }
}

}

@media (max-width: 1200px) {
  .container {
    grid-template-columns: 1fr;
  }

  .stages {
    border-right: none;
    padding-right: 0;
  }

  .cart {
    position: static;
    width: 100%;
    max-width: 540px;
    margin: 0 auto;
  }
}

@media (max-width: 920px) {
  .stage-card {
    flex-direction: column;
  }

  .stage-card img {
    width: 100%;
    flex-basis: auto;
    height: clamp(220px, 50vw, 340px);
  }

  nav.stages-nav {
    justify-content: flex-start;
  }
}

@media (max-width: 680px) {
  .container {
    padding: clamp(36px, 9vw, 52px) 20px;
  }

  nav.stages-nav {
    gap: 16px;
  }

  .cart {
    border-radius: 20px;
  }

  .stage-card {
    border-radius: 20px;
  }

  .stage-card button {
    width: 100%;
    text-align: center;
  }
}

@media (max-width: 520px) {
  nav.stages-nav {
    padding: 12px 18px;
  }

  .hero-reservation .hero-content {
    padding: 24px;
  }

  .intro-section {
    padding: 56px 18px 96px;
  }
}

}

@media (max-width: 920px) {
  .stage-card {
    flex-direction: column;
  }

  .stage-card img {
    width: 100%;
    flex-basis: auto;
    height: clamp(220px, 50vw, 340px);
  }

  nav.stages-nav {
    justify-content: flex-start;
  }
}

@media (max-width: 680px) {
  .container {
    padding: clamp(36px, 9vw, 52px) 20px;
  }

  nav.stages-nav {
    gap: 16px;
  }

  .cart {
    border-radius: 20px;
  }

  .stage-card {
    border-radius: 20px;
  }

  .stage-card button {
    width: 100%;
    text-align: center;
  }
}

@media (max-width: 520px) {
  nav.stages-nav {
    padding: 12px 18px;
  }

  .hero-reservation .hero-content {
    padding: 24px;
  }

  .intro-section {
    padding: 56px 18px 96px;
  }
}
@keyframes fadeZoomIn {
  0% { opacity: 0; transform: scale(0.8) translate(-50%, -50%); }
  100% { opacity: 1; transform: scale(1) translate(-50%, -50%); }
}
#form-popup {
  animation: fadeZoomIn 0.4s ease-out;
}

    nav.stages-nav {
      position: sticky;
      top: 0;
      z-index: 1000;
      background: white;
      border-bottom: 2px solid #eee;
      padding: 12px 20px;
      display: flex;
      justify-content: center;
      gap: 30px;
      font-weight: bold;
      flex-wrap: wrap;
    }

    nav.stages-nav a {
      color: #001f3f;
      text-decoration: none;
      padding: 8px 0;
    }

    @media (max-width: 1200px) {
      .container {
        grid-template-columns: 1fr;
        min-height: auto;
      }

      .cart {
        position: static;
        margin: 0 auto;
        max-width: 540px;
        width: 100%;
      }

      .stages {
        padding-right: 0;
        border-right: none;
      }
    }

    @media (max-width: 992px) {
      .stage-card {
        flex-direction: column;
      }

      .stage-card img {
        width: 100%;
      }

      .container {
        padding: 40px 20px;
      }
    }

    @media (max-width: 768px) {
      section[style*="padding: 100px"] {
        padding: 60px 20px 90px !important;
      }

      nav.stages-nav {
        gap: 16px;
      }

      .stage-card {
        margin-left: auto;
        margin-right: auto;
      }

      .premium-form {
        padding: 25px;
      }
    }

    @media (max-width: 576px) {
      .container {
        padding: 30px 15px;
        gap: 24px;
      }

      .stage-card {
        box-shadow: 0 3px 12px rgba(0,0,0,0.12);
      }

      nav.stages-nav {
        justify-content: flex-start;
      }

      nav.stages-nav a {
        font-size: 0.95rem;
      }

      section[style*="height: 100vh"] {
        height: auto !important;
        min-height: 70vh;
        padding: 80px 20px;
      }

      section[style*="height: 100vh"] > div {
        padding: 30px 20px !important;
      }
    }

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
</style>
<script>
function openForm(stageName) {
  const popup = document.getElementById("form-popup");
  const input = popup.querySelector("input[name='stage'], select[name='stage']");
  if (input) input.value = stageName;
  popup.style.display = "block";
}

function closeForm() {
  document.getElementById("form-popup").style.display = "none";
}

// Simulation d'envoi avec fermeture automatique
document.addEventListener("DOMContentLoaded", function () {
  const form = document.querySelector("#form-popup form");
  if (form) {
    form.addEventListener("submit", function (e) {
      e.preventDefault();
      console.log("Formulaire soumis. Simulation EmailJS.");
      // Remplace ce bloc par EmailJS.send(...) plus tard
      setTimeout(() => {
        alert("Formulaire envoyé !");
        closeForm();
      }, 1000);
    });
  }
});
</script>

<style>
.popup {
  display: none;
  position: fixed;
  z-index: 9999;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.7);
  overflow-y: auto;
}
.popup-content {
  background: #fff;
  margin: 5% auto;
  padding: 30px;
  border-radius: 16px;
  max-width: 800px;
  position: relative;
  font-family: 'Poppins', sans-serif;
  box-shadow: 0 0 20px rgba(0,0,0,0.4);
}
.popup-content h2 {
  margin-top: 0;
  font-size: 1.8em;
  text-align: center;
  border-bottom: 1px solid #ddd;
  padding-bottom: 10px;
}
.popup-images img {
  width: 100%;
  border-radius: 12px;
  margin-bottom: 15px;
  max-height: 300px;
  object-fit: cover;
}
.popup-text {
  font-size: 1em;
  color: #222;
  line-height: 1.6;
}
.popup-text ul {
  padding-left: 20px;
  list-style-type: disc;
}
.popup .close {
  position: absolute;
  top: 10px;
  right: 20px;
  font-size: 28px;
  color: #555;
  cursor: pointer;
}
</style>

</style></head>
<body>
<header class="navbar" id="top">
  <div class="navbar__inner container">
    <a class="brand" href="index.html" aria-label="Retour à l'accueil">
      <img src="assets/logo/tennis-impact-logo.svg" alt="Logo Tennis Impact"/>
      <span>Tennis Impact</span>
    </a>
    <button class="nav-toggle" aria-expanded="false" aria-controls="site-nav">
      <span></span>
      <span></span>
      <span></span>
    </button>
    <nav class="nav-links" id="site-nav">
      <a href="index.html#notre-academie">Notre Académie</a>
      <a href="index.html#stage-jeunes">Stages Jeunes</a>
      <a href="index.html#lecon-individuelle">Leçons individuelles</a>
      <a href="index.html#faq">FAQ</a>
      <a href="index.html#galerie">Galerie</a>
      <a href="reserver.html#stages">Réserver un stage</a>
    </nav>
    <div class="nav-actions">
      <a class="btn btn-gold" href="espace_coach.html">Espace Coach</a>
    </div>
  </div>
</header>
<section class="hero-reservation" style="--hero-image: url('assets/photos/3.png');">
  <div class="hero-content">
    <h1>Réservez votre stage</h1>
    <h2>Choisissez vos dates et options d’hébergement</h2>
    <p>Académie Tennis Impact</p>
  </div>
  <span id="options"></span>
</section>
<nav class="stages-nav">
  <a href="#stages">Stages</a>
  <a href="#methodologie">Méthodologie</a>
  <a href="#nos-hebergements">Nos Hébergements</a>
  <a href="#options">Options</a>
  <a href="#faq">FAQ</a>
  <a class="external-link" href="CONTRAT APPORTEUR TYPE.pdf" rel="noopener" target="_blank">Contrat apporteur d’affaires</a>
  <a class="external-link" href="espace_coach.html">Espace Coach</a>
  <a class="external-link" href="CONTRAT APPORTEUR TYPE.pdf" rel="noopener" target="_blank">Contrat apporteur d’affaires</a>
<a href="#stages">Stages</a>
<a href="#methodologie">Méthodologie</a>
<a href="reserver.html#nos-hebergements">Nos Hébergements</a>
<a href="#options">Options</a>
<a href="#faq">FAQ</a>
</nav>
<main>
  <section class="intro-section">
    <div style="max-width: 1000px; margin: auto; text-align: center;">
      <span id="stages"></span>
      <h2>Des stages tennis jeunes au cœur de la Côte d’Azur</h2>
      <h3>OFFREZ À VOTRE ENFANT L’EXCELLENCE TENNIS IMPACT</h3>
      <p>
        Chaque année, Tennis Impact accueille de nombreux jeunes joueurs venus de toute la France pour vivre une expérience unique alliant sport de haut niveau, développement personnel et plaisir du jeu.<br/><br/>
        Nos stages de tennis pour jeunes sont conçus pour s’adapter à tous les profils : du joueur loisir au compétiteur ambitieux. Dans un environnement structuré, dynamique et bienveillant, votre enfant progresse à son rythme tout en découvrant les exigences du haut niveau.
      </p>
    </div>
    <!-- Vague de séparation corrigée -->
    <div class="wave-divider">
      <svg preserveAspectRatio="none" style="display: block; width: 100%; height: 70px;" viewBox="0 0 500 50">
        <path d="M0,30 C150,80 350,-10 500,30 L500,00 L0,0 Z" style="fill:#001f3f;"></path>
      </svg>
    </div>
  </section>
  <div class="container">
<div class="stages">
<div class="stage-card">
<img alt="Stage INTENSIF" src="assets/photos/1.png"/>
<div class="content">
<h3>Stage INTENSIF</h3>
<p>Journée entière • 23 juin - 28 juin</p>
<p class="price">1 600,00 € <span style="font-weight: normal;">*Sans hébergement</span></p>
<ul>
<li>2 sessions de tennis en groupe par jour</li><li>3h d'activité physique</li><li>Rapport individuel</li><li>Repas du midi</li>
</ul>
<button onclick="openForm('Stage INTENSIF')">Ajouter ce stage</button>
</div>
</div>
<div class="stage-card">
<img alt="Stage COMPÉTITION" src="assets/photos/2.png"/>
<div class="content">
<h3>Stage COMPÉTITION</h3>
<p>Journée entière • 23 juin - 05 juil.</p>
<p class="price">4 200,00 € <span style="font-weight: normal;">*Sans hébergement</span></p>
<ul>
<li>2 sessions de tennis</li><li>Tournoi UTR inclus</li><li>Préparation mentale</li><li>Rapport individuel</li>
</ul>
<button onclick="openForm('Stage COMPÉTITION')">Ajouter ce stage</button>
</div>
</div>
<div class="stage-card">
<img alt="Stage DEMI-JOURNÉE" src="assets/photos/3.png"/>
<div class="content">
<h3>Stage DEMI-JOURNÉE</h3>
<p>Demi journée • 23 juin - 28 juin</p>
<p class="price">1 050,00 € <span style="font-weight: normal;">*Sans hébergement</span></p>
<ul>
<li>1 session de tennis</li><li>Rapport individuel</li><li>Matinée uniquement</li>
</ul>
<button onclick="openForm('Stage DEMI-JOURNÉE')">Ajouter ce stage</button>
</div>
</div>
<div class="stage-card">
<img alt="Stage INTENSIF + Français" src="assets/photos/4.png"/>
<div class="content">
<h3>Stage INTENSIF + Français</h3>
<p>Journée entière • 30 juin - 05 juil.</p>
<p class="price">1 750,00 € <span style="font-weight: normal;">*Sans hébergement</span></p>
<ul>
<li>Tennis + Français</li><li>1h30 de physique/jour</li><li>Repas du midi</li>
</ul>
<button onclick="openForm('Stage INTENSIF + Français')">Ajouter ce stage</button>
</div>
</div>
<div class="stage-card">
<img alt="Stage TENNIS &amp; GOLF" src="assets/photos/5.png"/>
<div class="content">
<h3>Stage TENNIS &amp; GOLF</h3>
<p>Journée entière • 30 juin - 05 juil.</p>
<p class="price">1 700,00 € <span style="font-weight: normal;">*Sans hébergement</span></p>
<ul>
<li>Tennis le matin</li><li>Golf l’après-midi</li><li>Repas du midi</li>
</ul>
<button onclick="openForm('Stage TENNIS &amp; GOLF')">Ajouter ce stage</button>
</div>
</div>
<div class="stage-card">
<img alt="Stage NIGHT SESSIONS" src="assets/photos/6.png"/>
<div class="content">
<h3>Stage NIGHT SESSIONS</h3>
<p>Soir • 30 juin - 04 juil.</p>
<p class="price">900,00 € <span style="font-weight: normal;">*Sans hébergement</span></p>
<ul>
<li>Sessions du soir</li><li>Cardio tennis</li><li>Welcome pack</li>
</ul>
<button onclick="openForm('Stage NIGHT SESSIONS')">Ajouter ce stage</button>
</div>
</div>
</div>
</div>
</div>
</div>
  </div>
  <div class="cart">
<h2>Mon Panier</h2>
<div class="cart-item">
<span><strong>Stage INTENSIF</strong></span>
<span>23 juin - 28 juin</span>
<span>1 600,00 €</span>
</div>
<button onclick="openForm('Panier')">Valider l’inscription</button>
  </div>
  </div>
</main>
<div id="form-popup" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 40px; border-radius: 20px; z-index: 1000; max-width: 800px; width: 90%; max-height: 90vh; overflow-y: auto; font-family: Poppins, sans-serif;">
<div style="display: flex; justify-content: space-between; align-items: center;">
<h2 style="margin-top: 0; color: #0d0d1f;">Inscription au Stage</h2>
<button onclick="closeForm()" style="background-color: #bbb; padding: 5px 10px; border: none; border-radius: 8px;">X</button>
</div>
<form>
<div class="form-grid">
<label for="lieu">
     Lieu du stage
    </label>
<select id="lieu" name="lieu">
<option value="Paris">
      Paris
     </option>
<option value="Colmar">
      Colmar
     </option>
</select>
<label for="type_stage">
     Type de stage
    </label>
<select id="type_stage" name="type_stage">
<option value="Intensif">
      Intensif
     </option>
<option value="Demi-journée">
      Demi-journée
     </option>
<option value="Compétition">
      Compétition
     </option>
</select>
<div class="form-field">
<label for="prenom">
      Prénom
     </label>
</div>
<div class="form-field">
<input id="prenom" name="prenom" required="" type="text"/>
</div>
<div class="form-field">
<label for="nom">
      Nom
     </label>
</div>
<div class="form-field">
<input id="nom" name="nom" required="" type="text"/>
</div>
<div class="form-field">
<label for="niveau">
      Niveau FFT
     </label>
</div>
<div class="form-field">
<select id="niveau" name="niveau">
<option value="">
       -- Sélectionnez --
      </option>
<option>
       Blanc
      </option>
<option>
       Violet
      </option>
<option>
       Rouge
      </option>
<option>
       Orange
      </option>
<option>
       Vert
      </option>
<option>
       Jaune
      </option>
<option>
       40
      </option>
<option>
       30/5
      </option>
<option>
       30/4
      </option>
<option>
       30/3
      </option>
<option>
       30/2
      </option>
<option>
       30/1
      </option>
<option>
       30
      </option>
<option>
       15/5
      </option>
<option>
       15/4
      </option>
<option>
       15/3
      </option>
<option>
       15/2
      </option>
<option>
       15/1
      </option>
<option>
       15
      </option>
<option>
       -2/6
      </option>
<option>
       -4/6
      </option>
<option>
       -15
      </option>
</select>
</div>
<div class="form-field">
<label for="date">
      Semaine de Stage
     </label>
</div>
<div class="form-field">
<input id="date" name="date" required="" type="week"/>
</div>
<div class="form-field">
<label for="hebergement">
      Souhaitez-vous l’hébergement ?
     </label>
</div>
<div class="form-field">
<select id="nos-hebergements" name="hebergement">
<option value="">
       -- Sélectionnez --
      </option>
<option>
       Oui
      </option>
<option>
       Non
      </option>
</select>
</div>
</div>
<button type="submit">
    Valider l'inscription
   </button>
</form>
</div>
<script>
function openForm(stageName) {
  const popup = document.getElementById("form-popup");
  const input = popup.querySelector("input[name='stage'], select[name='stage']");
  if (input) input.value = stageName;
  popup.style.display = "block";
}

function closeForm() {
  document.getElementById("form-popup").style.display = "none";
}

// Simulation d'envoi avec fermeture automatique
document.addEventListener("DOMContentLoaded", function () {
  const form = document.querySelector("#form-popup form");
  if (form) {
    form.addEventListener("submit", function (e) {
      e.preventDefault();
      console.log("Formulaire soumis. Simulation EmailJS.");
      // Remplace ce bloc par EmailJS.send(...) plus tard
      setTimeout(() => {
        alert("Formulaire envoyé !");
        closeForm();
      }, 1000);
    });
  }
});
</script>
<section class="methodologie" id="methodologie" style="background:#ffffff; color:#111; padding: 80px 20px; margin-top: 80px;">
<div data-aos="fade-up" style="max-width: 1200px; margin: auto; display: flex; flex-wrap: wrap; align-items: center; gap: 40px;">
<div style="flex: 1 1 500px;">
<span id="methodologie"></span><h2 style="font-size: 2em; margin-bottom: 20px; color: #000;">Notre Méthodologie</h2>
<p style="margin-bottom: 20px;">
        À Tennis Impact, nous croyons qu’il n’existe pas de méthode unique. Chaque joueur est unique et mérite une approche personnalisée, en accord avec sa personnalité, ses besoins et ses objectifs. 
        C’est pourquoi notre méthodologie repose sur cinq piliers fondamentaux :
      </p>
    </div>
  </header>

  <nav class="reservation-nav" aria-label="Navigation rapide">
    <a href="#stages">Stages</a>
    <a href="#methodologie">Méthodologie</a>
    <a href="#options">Options</a>
    <a href="#hebergements">Hébergements</a>
    <a href="#faq">FAQ</a>
  </nav>

  <main>
    <section id="stages" class="section-intro">
      <h2>Une sélection limitée de stages signatures</h2>
      <p>
        Chaque programme est calibré pour un groupe restreint de joueurs afin de garantir un coaching individualisé, un suivi
        quotidien et des retours précis sur la performance.
      </p>
    </section>

    <section class="booking-layout" aria-labelledby="titre-stages">
      <h2 id="titre-stages" class="visually-hidden">Liste des stages disponibles</h2>
      <div class="stage-list">
        <article class="stage-card" data-stage="Stage INTENSIF" data-dates="23 juin → 28 juin" data-format="Journée entière" data-price="1 600 €">
          <figure>
            <img src="assets/photos/1.png" alt="Entraînement intensif au centre Tennis Impact" loading="lazy" />
            <figcaption>8 places restantes</figcaption>
          </figure>
          <div class="stage-card__body">
            <div class="stage-card__header">
              <h3>Stage INTENSIF</h3>
              <span class="stage-card__tag">U12 - U18</span>
            </div>
            <p class="stage-card__dates">Journée entière • 23 juin - 28 juin</p>
            <p class="stage-card__price">1 600 € <span>Sans hébergement</span></p>
            <ul class="stage-card__highlights">
              <li>2 entraînements tennis quotidiens + 1h30 de physique</li>
              <li>Analyse vidéo personnalisée chaque soir</li>
              <li>Bilan individuel &amp; plan de progression</li>
              <li>Déjeuners gourmets inclus</li>
            </ul>
            <div class="stage-card__actions">
              <button type="button" class="button button--primary" data-open-reservation>Réserver ce stage</button>
              <button type="button" class="button button--ghost" data-summary-only>Ajouter au récapitulatif</button>
            </div>
          </div>
        </article>

        <article class="stage-card" data-stage="Stage COMPÉTITION" data-dates="23 juin → 5 juillet" data-format="Journée entière" data-price="4 200 €">
          <figure>
            <img src="assets/photos/2.png" alt="Jeunes joueurs en match de compétition" loading="lazy" />
            <figcaption>Coaching FFT &amp; UTR</figcaption>
          </figure>
          <div class="stage-card__body">
            <div class="stage-card__header">
              <h3>Stage COMPÉTITION</h3>
              <span class="stage-card__tag">Classement FFT</span>
            </div>
            <p class="stage-card__dates">Journée entière • 23 juin - 5 juillet</p>
            <p class="stage-card__price">4 200 € <span>Sans hébergement</span></p>
            <ul class="stage-card__highlights">
              <li>Tournoi UTR intégré &amp; coaching tactique quotidien</li>
              <li>Préparation mentale et routines d’élite</li>
              <li>Préparateur physique &amp; récupération active</li>
              <li>Rapport de performance complet</li>
            </ul>
            <div class="stage-card__actions">
              <button type="button" class="button button--primary" data-open-reservation>Réserver ce stage</button>
              <button type="button" class="button button--ghost" data-summary-only>Ajouter au récapitulatif</button>
            </div>
          </div>
        </article>

        <article class="stage-card" data-stage="Stage DEMI-JOURNÉE" data-dates="23 juin → 28 juin" data-format="Matinée" data-price="1 050 €">
          <figure>
            <img src="assets/photos/3.png" alt="Stage demi-journée au lever du soleil" loading="lazy" />
            <figcaption>Idéal découverte</figcaption>
          </figure>
          <div class="stage-card__body">
            <div class="stage-card__header">
              <h3>Stage DEMI-JOURNÉE</h3>
              <span class="stage-card__tag">U10 - U15</span>
            </div>
            <p class="stage-card__dates">Matinée • 23 juin - 28 juin</p>
            <p class="stage-card__price">1 050 € <span>Sans hébergement</span></p>
            <ul class="stage-card__highlights">
              <li>1 session technique premium / jour</li>
              <li>Suivi individuel avec carnet de bord</li>
              <li>Groupes affinés par âge et objectifs</li>
            </ul>
            <div class="stage-card__actions">
              <button type="button" class="button button--primary" data-open-reservation>Réserver ce stage</button>
              <button type="button" class="button button--ghost" data-summary-only>Ajouter au récapitulatif</button>
            </div>
          </div>
        </article>

        <article class="stage-card" data-stage="Stage INTENSIF + FRANÇAIS" data-dates="30 juin → 5 juillet" data-format="Journée entière" data-price="1 750 €">
          <figure>
            <img src="assets/photos/4.png" alt="Cours intensif de tennis et français" loading="lazy" />
            <figcaption>Académie bilingue</figcaption>
          </figure>
          <div class="stage-card__body">
            <div class="stage-card__header">
              <h3>Stage INTENSIF + Français</h3>
              <span class="stage-card__tag">Programme bilingue</span>
            </div>
            <p class="stage-card__dates">Journée entière • 30 juin - 5 juillet</p>
            <p class="stage-card__price">1 750 € <span>Sans hébergement</span></p>
            <ul class="stage-card__highlights">
              <li>Tennis haute intensité le matin</li>
              <li>Ateliers linguistiques immersifs</li>
              <li>Encadrement natif &amp; professeur certifié</li>
            </ul>
            <div class="stage-card__actions">
              <button type="button" class="button button--primary" data-open-reservation>Réserver ce stage</button>
              <button type="button" class="button button--ghost" data-summary-only>Ajouter au récapitulatif</button>
            </div>
          </div>
        </article>

        <article class="stage-card" data-stage="Stage NIGHT SESSIONS" data-dates="30 juin → 4 juillet" data-format="Soirée" data-price="900 €">
          <figure>
            <img src="assets/photos/6.png" alt="Session nocturne de tennis sous les projecteurs" loading="lazy" />
            <figcaption>Ambiance night tour</figcaption>
          </figure>
          <div class="stage-card__body">
            <div class="stage-card__header">
              <h3>Stage NIGHT SESSIONS</h3>
              <span class="stage-card__tag">After work</span>
            </div>
            <p class="stage-card__dates">Soirée • 30 juin - 4 juillet</p>
            <p class="stage-card__price">900 € <span>Sans hébergement</span></p>
            <ul class="stage-card__highlights">
              <li>Sessions éclairées &amp; ambiance tournois</li>
              <li>Cardio tennis &amp; matchs coachés</li>
              <li>Club house premium &amp; networking</li>
            </ul>
            <div class="stage-card__actions">
              <button type="button" class="button button--primary" data-open-reservation>Réserver ce stage</button>
              <button type="button" class="button button--ghost" data-summary-only>Ajouter au récapitulatif</button>
            </div>
          </div>
        </article>
      </div>

      <aside class="booking-summary" aria-labelledby="resume-reservation">
        <h2 id="resume-reservation">Votre réservation</h2>
        <p class="booking-summary__empty" data-summary-empty>
          Sélectionnez un stage pour pré-remplir votre dossier premium et être recontacté en priorité par notre équipe admissions.
        </p>
        <div class="booking-summary__selection" data-summary-selection hidden>
          <h3>Stage sélectionné</h3>
          <span class="booking-summary__badge" data-summary-format>Journée entière</span>
          <p><strong data-summary-name></strong></p>
          <p data-summary-dates></p>
          <p data-summary-price></p>
        </div>
        <button type="button" class="button button--primary" data-summary-cta disabled>Compléter ma demande</button>
        <p class="booking-summary__note">Réponse sous 24h ouvrées • Paiement sécurisé après validation du dossier</p>
      </aside>
    </section>

    <section id="methodologie">
      <div class="split-layout">
        <div>
          <h2 class="section-title">Notre méthodologie Haute Performance</h2>
          <p>
            Nous combinons coaching technique, préparation mentale et développement physique dans un parcours personnalisé pour
            chaque joueur. Notre staff FFT &amp; ATP construit la semaine autour de bilans quotidiens et de séances calibrées selon
            les objectifs individuels.
          </p>
          <p>
            Chaque soir, un débrief vidéo et un plan d’actions sont envoyés aux familles pour suivre la progression et préparer la
            journée suivante.
          </p>
          <ul class="pill-list">
            <li>Diagnostic 360°</li>
            <li>Analyse vidéo</li>
            <li>Prépa mentale</li>
            <li>Routines recovery</li>
            <li>Feedback quotidien</li>
          </ul>
        </div>
        <div>
          <img src="assets/photos/6.png" alt="Coaching sur le court avec analyse vidéo" loading="lazy" style="border-radius: 24px; box-shadow: 0 24px 60px rgba(0,0,0,0.4);" />
        </div>
      </div>
    </section>

    <section id="faq" class="reservation-section reservation-section--deep">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">FAQ</span>
          <h2>Vos questions les plus fréquentes</h2>
          <p>Un chargé de relation famille vous accompagne avant, pendant et après le stage. Voici les réponses aux
            questions qui reviennent le plus souvent.</p>
        </div>

        <div class="faq-list">
          <details>
            <summary>Quel niveau est requis pour participer ?</summary>
            <p>Nos stages accueillent les joueurs classés de NC à -2/6. Chaque session est organisée par groupe homogène
              (maximum 4 joueurs par coach). Un entretien préalable permet d’orienter vers le programme adapté.</p>
          </details>
          <details>
            <summary>Comment se déroule l’hébergement ?</summary>
            <p>Les jeunes résident dans nos suites sécurisées ou chalets premium, encadrés 24h/24. Les adultes peuvent
              opter pour nos hôtels partenaires ou une formule sans hébergement.</p>
          </details>
          <details>
            <summary>Peut-on venir en famille ?</summary>
            <p>Oui ! Des packs famille sont disponibles avec accès spa, séances de tennis privatisées et activités
              touristiques. Indiquez-le dans votre demande pour que nous préparions un devis dédié.</p>
          </details>
          <details>
            <summary>Quel est le processus de réservation ?</summary>
            <p>Ajoutez votre stage et vos options, complétez le formulaire, puis un conseiller vous contacte sous 24&nbsp;h
              pour confirmer les disponibilités, valider les options et envoyer le contrat électronique.</p>
          </details>
        </div>
      </div>
    </section>

    <section id="reservation" class="reservation-section reservation-section--surface">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Réservation</span>
          <h2>Finalisez votre demande personnalisée</h2>
          <p>Indiquez-nous vos coordonnées et les informations sur le participant. Un conseiller vous rappellera sous
            24&nbsp;h pour valider l’ensemble de votre séjour.</p>
        </div>

        <form class="reservation-form" data-reservation-form>
          <div class="form-selection" data-form-selection>
            <p class="form-selection__empty">Votre panier est vide. Ajoutez un stage pour générer votre devis
              personnalisé.</p>
          </div>

          <div class="form-grid">
            <div class="form-control">
              <label for="responsable-name">Nom et prénom du responsable</label>
              <input type="text" id="responsable-name" name="responsable" autocomplete="name" required />
            </div>
            <div class="form-control">
              <label for="responsable-email">Adresse e-mail</label>
              <input type="email" id="responsable-email" name="email" autocomplete="email" required />
            </div>
            <div class="form-control">
              <label for="responsable-phone">Téléphone</label>
              <input type="tel" id="responsable-phone" name="telephone" autocomplete="tel" required />
            </div>
            <div class="form-control">
              <label for="participant-name">Participant principal</label>
              <input type="text" id="participant-name" name="participant" autocomplete="given-name" required />
            </div>
            <div class="form-control">
              <label for="participant-birth">Date de naissance</label>
              <input type="date" id="participant-birth" name="naissance" required />
            </div>
            <div class="form-control">
              <label for="participant-level">Niveau actuel</label>
              <select id="participant-level" name="niveau" required>
                <option value="" disabled selected>Choisissez une option</option>
                <option value="initiation">Initiation / Galaxie</option>
                <option value="perfectionnement">Perfectionnement (classement 30/5 à 15/4)</option>
                <option value="competition">Compétition (15/3 à 2/6)</option>
                <option value="haut-niveau">Haut niveau (-2/6 et plus)</option>
              </select>
            </div>
            <div class="form-control">
              <label>Option hébergement</label>
              <div class="option-selector" role="group" aria-label="Choix de l'hébergement">
                <label>
                  <input type="radio" name="hebergement" value="Avec hébergement" checked />
                  <span>Avec hébergement</span>
                </label>
                <label>
                  <input type="radio" name="hebergement" value="Sans hébergement" />
                  <span>Sans hébergement</span>
                </label>
              </div>
            </div>
            <div class="form-control">
              <label>Option transport</label>
              <div class="option-selector" role="group" aria-label="Choix du transport">
                <label>
                  <input type="radio" name="transport" value="Avec transport" checked />
                  <span>Avec transport</span>
                </label>
                <label>
                  <input type="radio" name="transport" value="Sans transport" />
                  <span>Sans transport</span>
                </label>
              </div>
            </div>
            <div class="form-control">
              <label for="message">Précisions complémentaires</label>
              <textarea id="message" name="message" placeholder="Allergies, attentes spécifiques, préférences horaires..."></textarea>
            </div>
          </div>

          <div class="form-actions">
            <button type="submit" class="btn btn--primary" data-submit-button disabled>Envoyer ma demande personnalisée</button>
            <p class="form-feedback" role="status" aria-live="polite" data-form-feedback></p>
          </div>

          <div data-hidden-inputs></div>
        </form>
      </div>
    </section>
  </main>

  <footer class="reservation-footer">
    Besoin d’une assistance immédiate ? Contactez notre conciergerie :
    <a href="tel:+33607080910">+33 6 07 08 09 10</a> •
    <a href="mailto:contact@tennisimpact.fr">contact@tennisimpact.fr</a>
  </footer>

  <div class="reservation-toast" role="status" aria-live="polite" data-toast></div>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const stageCatalog = [
        {
          id: 'performance-ados',
          title: 'Stage Intensif Performance',
          tagline: 'Préparation match & coaching mental',
          audience: '12-17 ans • Niveau compétition',
          description:
            'Programme signature pour joueurs classés 15/3 à -2/6 : coaching intensif, suivi mental et préparation physique quotidienne.',
          price: 890,
          lodgingPrice: 320,
          transportPrice: 110,
          highlights: [
            '2 séances tennis quotidiennes + ateliers tactiques en situation de match',
            'Analyse vidéo HD, plan tactique personnalisé et entretien mental',
            'Accès cryothérapie, ostéopathie et cuisine sportive dédiée'
          ],
          sessions: [
            {
              start: '2024-06-24',
              end: '2024-06-29',
              location: 'Domaine Impact – Bordeaux',
              status: 'Places limitées (5)',
              spots: 5
            },
            {
              start: '2024-07-08',
              end: '2024-07-13',
              location: 'Domaine Impact – Bordeaux',
              status: 'Dernières places',
              spots: 4
            },
            {
              start: '2024-08-05',
              end: '2024-08-10',
              location: 'Grand Hôtel de Biarritz',
              status: 'Nouvelles disponibilités',
              spots: 6
            }
          ]
        },
        {
          id: 'progression-jeunes',
          title: 'Stage Évolution Jeunes',
          tagline: 'Progression technique & confiance',
          audience: '9-13 ans • Classement NC à 30/3',
          description:
            'Une semaine structurée et ludique pour consolider les fondamentaux, gagner en régularité et développer la confiance en match.',
          price: 690,
          lodgingPrice: 280,
          transportPrice: 95,
          highlights: [
            'Séances spécifiques par thèmes : services, retours, jeu de jambes',
            'Ateliers tactiques en petit groupe et matchs coachés chaque après-midi',
            'Activités outdoor, veillées encadrées et accompagnement 24h/24'
          ],
          sessions: [
            {
              start: '2024-07-01',
              end: '2024-07-06',
              location: 'Hostens Forest Lodge',
              status: 'Places disponibles (9)',
              spots: 9
            },
            {
              start: '2024-07-22',
              end: '2024-07-27',
              location: 'Hostens Forest Lodge',
              status: 'Nouvelles ouvertures',
              spots: 8
            },
            {
              start: '2024-08-19',
              end: '2024-08-24',
              location: 'Domaine Impact – Bordeaux',
              status: 'Stage confirmé',
              spots: 7
            }
          ]
        },
        {
          id: 'experience-adultes',
          title: 'Stage Expérience Adultes',
          tagline: 'Immersion prestige & coaching illimité',
          audience: 'Adultes classés 30/1 à 15/1',
          description:
            'Une immersion luxe à Biarritz : coaching en très petit groupe, séances individuelles quotidiennes et expériences bien-être.',
          price: 640,
          lodgingPrice: 420,
          transportPrice: 140,
          highlights: [
            '3h de tennis quotidien + hitting avec sparring partenaire',
            'Accès spa marin, yoga de récupération et dîners gastronomiques',
            'Conciergerie dédiée pour conjoints et accompagnants'
          ],
          sessions: [
            {
              start: '2024-06-17',
              end: '2024-06-21',
              location: 'Grand Hôtel de Biarritz',
              status: 'Derniers suites disponibles',
              spots: 3
            },
            {
              start: '2024-07-29',
              end: '2024-08-02',
              location: 'Grand Hôtel de Biarritz',
              status: 'Places disponibles (6)',
              spots: 6
            }
          ]
        }
      ];

      const stageList = document.querySelector('[data-stage-list]');
      const cartEmpty = document.querySelector('[data-cart-empty]');
      const cartItems = document.querySelector('[data-cart-items]');
      const cartTotal = document.querySelector('[data-cart-total]');
      const finalizeButton = document.querySelector('[data-scroll-to-form]');
      const submitButton = document.querySelector('[data-submit-button]');
      const formSelection = document.querySelector('[data-form-selection]');
      const hiddenInputs = document.querySelector('[data-hidden-inputs]');
      const form = document.querySelector('[data-reservation-form]');
      const formFeedback = document.querySelector('[data-form-feedback]');
      const calendarContainer = document.querySelector('[data-calendar]');
      const toast = document.querySelector('[data-toast]');
      const navLinks = Array.from(document.querySelectorAll('.reservation-nav a'));
      const currencyFormatter = new Intl.NumberFormat('fr-FR', {
        style: 'currency',
        currency: 'EUR',
        maximumFractionDigits: 0
      });

      let cart = [];
      let toastTimeout;

      function formatCurrency(value) {
        return currencyFormatter.format(value);
      }

      function formatDateRange(start, end) {
        const startDate = new Date(start);
        const endDate = new Date(end);
        const sameMonth = startDate.getMonth() === endDate.getMonth();
        const options = { day: 'numeric', month: 'long' };
        const startLabel = startDate.toLocaleDateString('fr-FR', options);
        const endLabel = endDate.toLocaleDateString('fr-FR', options);
        return sameMonth ? `${startDate.getDate()} – ${endLabel}` : `${startLabel} – ${endLabel}`;
      }

      function formatMonthLabel(dateString) {
        const label = new Date(dateString).toLocaleDateString('fr-FR', { month: 'long', year: 'numeric' });
        return label.charAt(0).toUpperCase() + label.slice(1);
      }

      function showToast(message) {
        if (!toast) return;
        toast.textContent = message;
        toast.classList.add('is-visible');
        clearTimeout(toastTimeout);
        toastTimeout = setTimeout(() => {
          toast.classList.remove('is-visible');
        }, 3400);
      }

      function renderStages() {
        if (!stageList) return;
        stageList.innerHTML = '';

        stageCatalog.forEach((stage) => {
          const card = document.createElement('article');
          card.className = 'stage-card';
          card.innerHTML = `
            <header class="stage-card__header">
              <span class="stage-card__tagline">${stage.tagline}</span>
              <h3 class="stage-card__title">${stage.title}</h3>
              <p class="stage-card__audience">${stage.audience}</p>
              <p class="stage-card__description">${stage.description}</p>
            </header>
            <ul class="stage-card__highlights">
              ${stage.highlights.map((item) => `<li>${item}</li>`).join('')}
            </ul>
            <div class="stage-card__sessions">
              <label for="${stage.id}-session">Prochaines sessions</label>
              <select id="${stage.id}-session" data-session-select>
                ${stage.sessions
                  .map(
                    (session, index) =>
                      `<option value="${index}">${formatDateRange(session.start, session.end)} • ${session.location}</option>`
                  )
                  .join('')}
              </select>
              <div class="stage-card__session-info" data-session-info></div>
            </div>
            <div class="stage-card__actions">
              <div class="stage-card__price">
                <span>Programme 6 jours</span>
                <strong>${formatCurrency(stage.price)}</strong>
                <small>Options hébergement dès ${formatCurrency(stage.lodgingPrice)}</small>
              </div>
              <button type="button" class="btn btn--primary" data-add-stage data-stage-id="${stage.id}">
                Ajouter au panier
              </button>
            </div>
          `;

          const select = card.querySelector('[data-session-select]');
          const info = card.querySelector('[data-session-info]');
          const button = card.querySelector('[data-add-stage]');

          function updateInfo(index) {
            const session = stage.sessions[index];
            if (!session) return;
            info.innerHTML = `
              <span><strong>${formatDateRange(session.start, session.end)}</strong></span>
              <span>${session.location}</span>
              <span>${session.status}</span>
            `;
            button.dataset.sessionIndex = String(index);
          }

          updateInfo(Number(select.value) || 0);

          select.addEventListener('change', (event) => {
            updateInfo(Number(event.target.value));
          });

          button.addEventListener('click', () => {
            const sessionIndex = Number(button.dataset.sessionIndex || 0);
            addToCart(stage.id, sessionIndex);
          });

          stageList.appendChild(card);
        });
      }

      function addToCart(stageId, sessionIndex) {
        const key = `${stageId}-${sessionIndex}`;
        if (cart.some((item) => item.key === key)) {
          showToast('Cette session est déjà dans votre sélection.');
          return;
        }
        cart.push({ key, stageId, sessionIndex, lodging: false, transport: false });
        renderCart();
        showToast('Stage ajouté à votre sélection.');
      }

      function removeFromCart(key) {
        cart = cart.filter((item) => item.key !== key);
        renderCart();
        showToast('Stage retiré de votre sélection.');
      }

      function calculateItemTotal(item) {
        const stage = stageCatalog.find((stage) => stage.id === item.stageId);
        if (!stage) return 0;
        let total = stage.price;
        if (item.lodging) total += stage.lodgingPrice;
        if (item.transport) total += stage.transportPrice;
        return total;
      }

      function calculateTotal() {
        return cart.reduce((sum, item) => sum + calculateItemTotal(item), 0);
      }

      }

      function formatDateRange(start, end) {
        const startDate = new Date(start);
        const endDate = new Date(end);
        const sameMonth = startDate.getMonth() === endDate.getMonth();
        const options = { day: 'numeric', month: 'long' };
        const startLabel = startDate.toLocaleDateString('fr-FR', options);
        const endLabel = endDate.toLocaleDateString('fr-FR', options);
        return sameMonth ? `${startDate.getDate()} – ${endLabel}` : `${startLabel} – ${endLabel}`;
      }

      function formatMonthLabel(dateString) {
        const label = new Date(dateString).toLocaleDateString('fr-FR', { month: 'long', year: 'numeric' });
        return label.charAt(0).toUpperCase() + label.slice(1);
    <section id="options" class="options-section">
      <h2 class="section-title" style="text-align: center;">Options premium &amp; services sur mesure</h2>
      <p style="text-align: center; max-width: 780px; margin: 0 auto 36px; color: var(--text-secondary);">
        Renforcez l’expérience avec nos services complémentaires pensés pour les familles exigeantes. Chaque option peut être
        ajoutée après votre prise de contact.
      </p>
      <div class="options-grid">
        <article class="option-card">
          <h3>Conciergerie famille</h3>
          <p>Transport privé, réservations d’hôtels partenaires et activités détente pour les accompagnants.</p>
        </article>
        <article class="option-card">
          <h3>Coaching mental</h3>
          <p>Sessions individuelles avec notre préparateur mental certifié pour installer des routines durables.</p>
        </article>
        <article class="option-card">
          <h3>Suivi nutrition</h3>
          <p>Plan alimentaire personnalisé, bilan body-scan et livret de recommandations pour la saison.</p>
        </article>
        <article class="option-card">
          <h3>Analyse biomécanique</h3>
          <p>Capture haute vitesse, mesures de puissance et rapport détaillé réalisé par notre staff performance.</p>
        </article>
      </div>
    </section>

    <section id="hebergements" class="accommodations">
      <h2 class="section-title" style="text-align: center;">Hébergements partenaires</h2>
      <p style="text-align: center; max-width: 780px; margin: 0 auto 40px; color: #3a4463;">
        Des résidences haut de gamme sélectionnées pour leur confort, leur sécurité et leur proximité immédiate avec nos courts.
        Nos équipes accompagnent votre choix en fonction du profil du joueur et de la période.
      </p>
      <div class="accommodation-grid">
        <article class="accommodation-card">
          <img src="assets/photos/1.png" alt="Lac et forêt d'Hostens" loading="lazy" />
          <div class="accommodation-card__body">
            <h3>Hostens – Immersion nature</h3>
            <p>Chalets premium au cœur de la réserve naturelle. Lac privé, salles de briefing et restauration healthy.</p>
            <button type="button" class="button button--primary" data-open-accommodation="hostens">Découvrir le programme</button>
          </div>
        </article>
        <article class="accommodation-card">
          <img src="assets/photos/2.png" alt="CREPS de Poitiers" loading="lazy" />
          <div class="accommodation-card__body">
            <h3>Poitiers – CREPS &amp; Futuroscope</h3>
            <p>Infrastructure nationale d’entraînement avec sortie exclusive au parc du Futuroscope.</p>
            <button type="button" class="button button--primary" data-open-accommodation="poitiers">Découvrir le programme</button>
          </div>
        </article>
        <article class="accommodation-card">
          <img src="assets/photos/3.png" alt="CREPS d'Aix-en-Provence" loading="lazy" />
          <div class="accommodation-card__body">
            <h3>Aix-en-Provence – Intensif</h3>
            <p>Cadre provençal avec accès direct aux courts couverts, zone cryothérapie et suivi médical.</p>
            <button type="button" class="button button--primary" data-open-accommodation="aix">Découvrir le programme</button>
          </div>
        </article>
        <article class="accommodation-card">
          <img src="assets/photos/5.png" alt="Club de tennis en bord de mer" loading="lazy" />
          <div class="accommodation-card__body">
            <h3>Cabourg – Tournée de tournois</h3>
            <p>Participation à une série de tournois FFT avec accompagnement tactique et récupération en thalasso.</p>
            <button type="button" class="button button--primary" data-open-accommodation="cabourg">Découvrir le programme</button>
          </div>
        </article>
      </div>
    </section>

    <section id="faq" class="faq">
      <h2 class="section-title" style="text-align: center;">Questions fréquentes</h2>
      <div class="faq-grid">
        <details>
          <summary>Quel est le niveau requis pour participer ?</summary>
          <p>Nos stages couvrent du joueur club motivé au compétiteur classé. Nous organisons un appel de qualification afin de placer chaque joueur dans le groupe qui lui garantit le plus de progression.</p>
        </details>
        <details>
          <summary>Comment se déroule la prise en charge ?</summary>
          <p>Une fois votre dossier validé, un conseiller dédié vous accompagne sur le transport, l’hébergement et la préparation de la semaine. Vous recevez un carnet de route complet 10 jours avant le début du stage.</p>
        </details>
        <details>
          <summary>Peut-on ajouter des options après la réservation ?</summary>
          <p>Oui, les options premium peuvent être ajoutées jusqu’à 7 jours avant le début du stage, sous réserve de disponibilité des intervenants spécialisés.</p>
        </details>
        <details>
          <summary>Quel est le processus de paiement ?</summary>
          <p>Le règlement se fait en deux temps : un acompte pour réserver la place, puis le solde une fois l’ensemble des prestations confirmées. Paiement sécurisé et échelonnable.</p>
        </details>
      </div>
    </section>

    <section class="cta-final">
      <h2 class="section-title">Besoin d’un conseil personnalisé ?</h2>
      <p>Notre cellule admissions revient vers vous sous 24h pour ajuster le programme à votre projet sportif et familial.</p>
      <button type="button" class="button button--primary" data-summary-cta-secondary>Parler à un conseiller</button>
    </section>
  </main>

  <div class="modal" id="reservation-modal" role="dialog" aria-modal="true" aria-labelledby="reservation-title">
    <div class="modal__dialog">
      <button type="button" class="modal__close" data-close-modal aria-label="Fermer la fenêtre">×</button>
      <header class="modal__header">
        <span class="booking-summary__badge" data-modal-format>Stage premium</span>
        <h2 class="modal__title" id="reservation-title">Compléter ma demande</h2>
        <div class="modal__stage-meta">
          <strong data-modal-stage>Stage INTENSIF</strong>
          <span data-modal-dates>23 juin → 28 juin</span>
          <span data-modal-price>1 600 €</span>
        </div>
      </header>
      <form class="reservation-form" id="reservation-form">
        <input type="hidden" name="stage" data-modal-input-stage />
        <div class="form-grid">
          <label>
            Prénom du participant
            <input type="text" name="prenom" autocomplete="given-name" required />
          </label>
          <label>
            Nom du participant
            <input type="text" name="nom" autocomplete="family-name" required />
          </label>
          <label>
            Date de naissance
            <input type="date" name="naissance" required />
          </label>
          <label>
            Classement ou niveau
            <select name="niveau" required>
              <option value="">Sélectionner</option>
              <option>Débutant structuré</option>
              <option>Intermédiaire compétition</option>
              <option>Classé FFT</option>
              <option>Projet international</option>
            </select>
          </label>
        </div>
        <div class="form-grid">
          <label>
            Email de contact
            <input type="email" name="email" autocomplete="email" required />
          </label>
          <label>
            Téléphone
            <input type="tel" name="telephone" autocomplete="tel" required />
          </label>
          <label>
            Hébergement souhaité
            <select name="hebergement" required>
              <option value="">Sélectionner</option>
              <option>Avec hébergement</option>
              <option>Sans hébergement</option>
              <option>Solution famille</option>
            </select>
          </label>
          <label>
            Options premium
            <select name="options">
              <option value="">À définir plus tard</option>
              <option>Coaching mental</option>
              <option>Suivi nutrition</option>
              <option>Conciergerie famille</option>
              <option>Analyse biomécanique</option>
            </select>
          </label>
        </div>
        <label>
          Message ou attentes particulières
          <textarea name="message" placeholder="Précisez vos objectifs, contraintes ou demandes spécifiques"></textarea>
        </label>
        <div class="modal__footer">
          <button type="submit" class="button button--primary">Envoyer ma demande</button>
          <small>Nous revenons vers vous sous 24h avec un devis détaillé et les prochaines étapes.</small>
        </div>
      </form>
    </div>
  </div>

  <div class="modal" id="accommodation-modal" role="dialog" aria-modal="true" aria-labelledby="accommodation-title">
    <div class="modal__dialog">
      <button type="button" class="modal__close" data-close-modal aria-label="Fermer la fenêtre">×</button>
      <header class="modal__header">
        <h2 class="modal__title" id="accommodation-title">Hébergement premium</h2>
        <p class="modal__stage-meta" data-accommodation-intro></p>
      </header>
      <div class="accommodation-modal__media">
        <img src="assets/photos/1.png" alt="Hébergement partenaire" data-accommodation-image />
      </div>
      <p data-accommodation-description></p>
      <h3 style="margin: 0; font-size: 1.1rem; color: #050b1f;">Une journée type</h3>
      <ul class="accommodation-modal__list" data-accommodation-program></ul>
      <div class="modal__footer">
        <button type="button" class="button button--primary" data-accommodation-reserve>Je souhaite cet hébergement</button>
        <small>Indiquez votre préférence lors de l’envoi du dossier, nous la confirmerons selon les disponibilités.</small>
      </div>
    </div>
  </div>

  <div class="toast" role="status" aria-live="polite" data-toast></div>

  <style>
    .visually-hidden {
      position: absolute !important;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      border: 0;
    }
  </style>

  <script>
    (function () {
      const reservationModal = document.getElementById("reservation-modal");
      const accommodationModal = document.getElementById("accommodation-modal");
      const toast = document.querySelector("[data-toast]");
      const summaryEmpty = document.querySelector("[data-summary-empty]");
      const summarySelection = document.querySelector("[data-summary-selection]");
      const summaryName = document.querySelector("[data-summary-name]");
      const summaryDates = document.querySelector("[data-summary-dates]");
      const summaryPrice = document.querySelector("[data-summary-price]");
      const summaryFormat = document.querySelector("[data-summary-format]");
      const summaryCTA = document.querySelector("[data-summary-cta]");
      const summaryCTASecondary = document.querySelector("[data-summary-cta-secondary]");
      const modalStage = document.querySelector("[data-modal-stage]");
      const modalDates = document.querySelector("[data-modal-dates]");
      const modalPrice = document.querySelector("[data-modal-price]");
      const modalFormat = document.querySelector("[data-modal-format]");
      const modalInputStage = document.querySelector("[data-modal-input-stage]");
      const reservationForm = document.getElementById("reservation-form");
      const accommodationTitle = document.getElementById("accommodation-title");
      const accommodationIntro = document.querySelector("[data-accommodation-intro]");
      const accommodationImage = document.querySelector("[data-accommodation-image]");
      const accommodationDescription = document.querySelector("[data-accommodation-description]");
      const accommodationProgram = document.querySelector("[data-accommodation-program]");
      const accommodationReserve = document.querySelector("[data-accommodation-reserve]");

      let selectedStage = null;

      const accommodations = {
        hostens: {
          title: "Hostens – Immersion nature",
          intro: "Chalets premium au cœur de la réserve naturelle, 40 minutes de Bordeaux",
          description:
            "Cadre forestier, lac privé et infrastructures sportives à moins de 5 minutes à pied. Idéal pour les groupes recherchant un environnement ressourçant entre deux sessions.",
          image: "assets/photos/1.png",
          program: [
            "7h30 – Réveil musculaire au bord du lac",
            "9h00 – Tennis intensif et ateliers tactiques",
            "12h30 – Déjeuner healthy & repos encadré",
            "14h30 – Multisport : paddle, VTT, lac",
            "20h00 – Soirée briefing et animations premium"
          ]
        },
        poitiers: {
          title: "Poitiers – CREPS & Futuroscope",
          intro: "Résidence sportive d’état avec sortie exclusive au parc du Futuroscope",
          description:
            "Chambres rénovées, salle vidéo et pôle médical sur place. Une journée signature est consacrée au Futuroscope avec accès prioritaire aux attractions.",
          image: "assets/photos/2.png",
          program: [
            "7h00 – Préparation physique indoor",
            "9h30 – Ateliers tactiques & matchs UTR",
            "12h30 – Déjeuner au restaurant du CREPS",
            "15h00 – Sortie Futuroscope encadrée",
            "19h30 – Debrief collectif avec staff"
          ]
        },
        aix: {
          title: "Aix-en-Provence – Intensif",
          intro: "Résidence provençale à deux pas des courts couverts et de la cryothérapie",
          description:
            "Ambiance soleil & performance : terrains extérieurs et indoor, salle de musculation haut de gamme et espace bien-être pour optimiser la récupération.",
          image: "assets/photos/3.png",
          program: [
            "7h30 – Activation & mobilité",
            "9h00 – Tennis intensif filmé",
            "12h00 – Déjeuner méditerranéen",
            "14h00 – Cryothérapie & préparation mentale",
            "17h30 – Matchs dirigés au coucher du soleil"
          ]
        },
        cabourg: {
          title: "Cabourg – Tournée de tournois",
          intro: "Résidence bord de mer avec programme de tournois FFT accompagnés",
          description:
            "Logement premium face mer, navettes privées vers les clubs partenaires et accès quotidien à l’espace thalasso pour favoriser la récupération.",
          image: "assets/photos/5.png",
          program: [
            "8h00 – Footing plage & routine mobilité",
            "10h00 – Match officiel FFT avec coaching",
            "14h00 – Analyse tactique individuelle",
            "16h30 – Récupération thalasso & cryo",
            "20h00 – Dîner gastronomique & briefing"
          ]
        }
      };

      function updateSummary(stage) {
        selectedStage = stage;
        if (summaryEmpty) {
          summaryEmpty.hidden = true;
          summaryEmpty.setAttribute("hidden", "");
        }
        if (summarySelection) {
          summarySelection.hidden = false;
          summarySelection.removeAttribute("hidden");
        }
        if (summaryName) summaryName.textContent = stage.name;
        if (summaryDates) summaryDates.textContent = stage.dates;
        if (summaryPrice) summaryPrice.textContent = stage.price;
        if (summaryFormat) summaryFormat.textContent = stage.format;
        if (summaryCTA) summaryCTA.disabled = false;
      }

      function openReservationModal() {
        if (!selectedStage) return;
        modalStage.textContent = selectedStage.name;
        modalDates.textContent = selectedStage.dates;
        modalPrice.textContent = selectedStage.price;
        modalFormat.textContent = selectedStage.format;
        modalInputStage.value = selectedStage.name;
        reservationModal.classList.add("is-visible");
        document.body.style.overflow = "hidden";
      }

      function closeModal(modal) {
        if (!modal) return;
        modal.classList.remove("is-visible");
        document.body.style.overflow = "";
      }

      function showToast(message) {
        if (!toast) return;
        toast.textContent = message;
        toast.classList.add("is-visible");
        setTimeout(() => toast.classList.remove("is-visible"), 3200);
      }

      document.querySelectorAll("[data-open-reservation]").forEach((button) => {
        button.addEventListener("click", () => {
          const card = button.closest("[data-stage]");
          if (!card) return;
          updateSummary({
            name: card.dataset.stage,
            dates: card.dataset.dates,
            format: card.dataset.format,
            price: card.dataset.price
          });
          openReservationModal();
        });
      });

      document.querySelectorAll("[data-summary-only]").forEach((button) => {
        button.addEventListener("click", () => {
          const card = button.closest("[data-stage]");
          if (!card) return;
          updateSummary({
            name: card.dataset.stage,
            dates: card.dataset.dates,
            format: card.dataset.format,
            price: card.dataset.price
          });
          showToast("Stage ajouté au récapitulatif. Cliquez sur « Compléter ma demande » pour finaliser.");
        });
      });

      if (summaryCTA) {
        summaryCTA.addEventListener("click", () => {
          if (!selectedStage) {
            showToast("Sélectionnez d’abord un stage pour compléter votre dossier.");
            return;
          }
          openReservationModal();
        });
      }

</div>


<script>
(function(){
  function adjust() {
    var hash = window.location.hash;
    if(!hash) return;
    var el = document.querySelector(hash);
    if(!el) return;
    var header = document.querySelector('header, .site-header, nav.navbar, .navbar, .stages-nav');
    var offset = 0;
    if (header) { offset = header.getBoundingClientRect().height || 0; }
    var y = el.getBoundingClientRect().top + window.pageYOffset - (offset + 16);
    window.scrollTo({top: y, behavior: 'instant'});
  }
  window.addEventListener('load', adjust);
  window.addEventListener('hashchange', function(){ setTimeout(adjust, 0); });
  // handle direct clicks with default prevented by some scripts
  document.addEventListener('click', function(e){
    var a = e.target.closest('a[href*="#nos-hebergements"]');
    if(a){
      e.preventDefault();
      history.pushState(null, '', a.getAttribute('href').split('#')[0] + '#nos-hebergements');
      adjust();
    }
  }, true);
})();
</script>


<script>
(function(){
  function headerOffset(){
    var sel = ['header','.site-header','.navbar','.stages-nav','nav','.topbar'];
    for (var i=0;i<sel.length;i++){
      var el = document.querySelector(sel[i]);
      if(el){ var h = el.getBoundingClientRect().height; if(h>0) return Math.round(h)+16; }
    }
    return 140;
  }
  function scrollToAnchorNosHebergements(){
    var el = document.querySelector('#nos-hebergements') || document.getElementById('nos-hebergements');
    if(!el) return;
    var off = headerOffset();
    document.documentElement.style.setProperty('--header-offset', off+'px');
    var target = el;
    // If next heading is immediately after anchor, prefer heading
    var next = el.nextElementSibling;
    if(next && /^H[1-6]$/.test(next.tagName)) target = next;
    var y = target.getBoundingClientRect().top + window.pageYOffset - off;
    window.scrollTo({top:y, behavior:'instant'});
  }
  function wantNosHash(){
    return (location.hash || '').toLowerCase().indexOf('nos-hebergements') !== -1;
  }
  window.addEventListener('load', function(){
    if(wantNosHash()) { setTimeout(scrollToAnchorNosHebergements, 0); }
  });
  window.addEventListener('hashchange', function(){
    if(wantNosHash()) { setTimeout(scrollToAnchorNosHebergements, 0); }
  });
  document.addEventListener('click', function(e){
    var a = e.target.closest('a[href*="#nos-hebergements"]');
    if(a){
      e.preventDefault();
      if(a.getAttribute('href').indexOf('#')===0){
        history.pushState(null,'','#nos-hebergements');
      }else{
        var base = a.getAttribute('href').split('#')[0];
        history.pushState(null,'', base+'#nos-hebergements');
      }
      scrollToAnchorNosHebergements();
    }
  </style>

  <script>
    (function () {
      const reservationModal = document.getElementById("reservation-modal");
      const accommodationModal = document.getElementById("accommodation-modal");
      const toast = document.querySelector("[data-toast]");
      const summaryEmpty = document.querySelector("[data-summary-empty]");
      const summarySelection = document.querySelector("[data-summary-selection]");
      const summaryName = document.querySelector("[data-summary-name]");
      const summaryDates = document.querySelector("[data-summary-dates]");
      const summaryPrice = document.querySelector("[data-summary-price]");
      const summaryFormat = document.querySelector("[data-summary-format]");
      const summaryCTA = document.querySelector("[data-summary-cta]");
      const summaryCTASecondary = document.querySelector("[data-summary-cta-secondary]");
      const modalStage = document.querySelector("[data-modal-stage]");
      const modalDates = document.querySelector("[data-modal-dates]");
      const modalPrice = document.querySelector("[data-modal-price]");
      const modalFormat = document.querySelector("[data-modal-format]");
      const modalInputStage = document.querySelector("[data-modal-input-stage]");
      const reservationForm = document.getElementById("reservation-form");
      const accommodationTitle = document.getElementById("accommodation-title");
      const accommodationIntro = document.querySelector("[data-accommodation-intro]");
      const accommodationImage = document.querySelector("[data-accommodation-image]");
      const accommodationDescription = document.querySelector("[data-accommodation-description]");
      const accommodationProgram = document.querySelector("[data-accommodation-program]");
      const accommodationReserve = document.querySelector("[data-accommodation-reserve]");

      let selectedStage = null;

      const accommodations = {
        hostens: {
          title: "Hostens – Immersion nature",
          intro: "Chalets premium au cœur de la réserve naturelle, 40 minutes de Bordeaux",
          description:
            "Cadre forestier, lac privé et infrastructures sportives à moins de 5 minutes à pied. Idéal pour les groupes recherchant un environnement ressourçant entre deux sessions.",
          image: "assets/photos/1.png",
          program: [
            "7h30 – Réveil musculaire au bord du lac",
            "9h00 – Tennis intensif et ateliers tactiques",
            "12h30 – Déjeuner healthy & repos encadré",
            "14h30 – Multisport : paddle, VTT, lac",
            "20h00 – Soirée briefing et animations premium"
          ]
        },
        poitiers: {
          title: "Poitiers – CREPS & Futuroscope",
          intro: "Résidence sportive d’état avec sortie exclusive au parc du Futuroscope",
          description:
            "Chambres rénovées, salle vidéo et pôle médical sur place. Une journée signature est consacrée au Futuroscope avec accès prioritaire aux attractions.",
          image: "assets/photos/2.png",
          program: [
            "7h00 – Préparation physique indoor",
            "9h30 – Ateliers tactiques & matchs UTR",
            "12h30 – Déjeuner au restaurant du CREPS",
            "15h00 – Sortie Futuroscope encadrée",
            "19h30 – Debrief collectif avec staff"
          ]
        },
        aix: {
          title: "Aix-en-Provence – Intensif",
          intro: "Résidence provençale à deux pas des courts couverts et de la cryothérapie",
          description:
            "Ambiance soleil & performance : terrains extérieurs et indoor, salle de musculation haut de gamme et espace bien-être pour optimiser la récupération.",
          image: "assets/photos/3.png",
          program: [
            "7h30 – Activation & mobilité",
            "9h00 – Tennis intensif filmé",
            "12h00 – Déjeuner méditerranéen",
            "14h00 – Cryothérapie & préparation mentale",
            "17h30 – Matchs dirigés au coucher du soleil"
          ]
        },
        cabourg: {
          title: "Cabourg – Tournée de tournois",
          intro: "Résidence bord de mer avec programme de tournois FFT accompagnés",
          description:
            "Logement premium face mer, navettes privées vers les clubs partenaires et accès quotidien à l’espace thalasso pour favoriser la récupération.",
          image: "assets/photos/5.png",
          program: [
            "8h00 – Footing plage & routine mobilité",
            "10h00 – Match officiel FFT avec coaching",
            "14h00 – Analyse tactique individuelle",
            "16h30 – Récupération thalasso & cryo",
            "20h00 – Dîner gastronomique & briefing"
          ]
        }
      };

      function updateSummary(stage) {
        selectedStage = stage;
        if (summaryEmpty) {
          summaryEmpty.hidden = true;
          summaryEmpty.setAttribute("hidden", "");
        }
        if (summarySelection) {
          summarySelection.hidden = false;
          summarySelection.removeAttribute("hidden");
        }
        if (summaryName) summaryName.textContent = stage.name;
        if (summaryDates) summaryDates.textContent = stage.dates;
        if (summaryPrice) summaryPrice.textContent = stage.price;
        if (summaryFormat) summaryFormat.textContent = stage.format;
        if (summaryCTA) summaryCTA.disabled = false;
      }

      function openReservationModal() {
        if (!selectedStage) return;
        modalStage.textContent = selectedStage.name;
        modalDates.textContent = selectedStage.dates;
        modalPrice.textContent = selectedStage.price;
        modalFormat.textContent = selectedStage.format;
        modalInputStage.value = selectedStage.name;
        reservationModal.classList.add("is-visible");
        document.body.style.overflow = "hidden";
      }

      function closeModal(modal) {
        if (!modal) return;
        modal.classList.remove("is-visible");
        document.body.style.overflow = "";
      }

      function showToast(message) {
        if (!toast) return;
        toast.textContent = message;
        toast.classList.add('is-visible');
        clearTimeout(toastTimeout);
        toastTimeout = setTimeout(() => {
          toast.classList.remove('is-visible');
        }, 3400);
      }

      function renderStages() {
        if (!stageList) return;
        stageList.innerHTML = '';

        stageCatalog.forEach((stage) => {
          const card = document.createElement('article');
          card.className = 'stage-card';
          card.innerHTML = `
            <header class="stage-card__header">
              <span class="stage-card__tagline">${stage.tagline}</span>
              <h3 class="stage-card__title">${stage.title}</h3>
              <p class="stage-card__audience">${stage.audience}</p>
              <p class="stage-card__description">${stage.description}</p>
            </header>
            <ul class="stage-card__highlights">
              ${stage.highlights.map((item) => `<li>${item}</li>`).join('')}
            </ul>
            <div class="stage-card__sessions">
              <label for="${stage.id}-session">Prochaines sessions</label>
              <select id="${stage.id}-session" data-session-select>
                ${stage.sessions
                  .map(
                    (session, index) =>
                      `<option value="${index}">${formatDateRange(session.start, session.end)} • ${session.location}</option>`
                  )
                  .join('')}
              </select>
              <div class="stage-card__session-info" data-session-info></div>
            </div>
            <div class="stage-card__actions">
              <div class="stage-card__price">
                <span>Programme 6 jours</span>
                <strong>${formatCurrency(stage.price)}</strong>
                <small>Options hébergement dès ${formatCurrency(stage.lodgingPrice)}</small>
              </div>
              <button type="button" class="btn btn--primary" data-add-stage data-stage-id="${stage.id}">
                Ajouter au panier
              </button>
            </div>
          `;

          const select = card.querySelector('[data-session-select]');
          const info = card.querySelector('[data-session-info]');
          const button = card.querySelector('[data-add-stage]');

          function updateInfo(index) {
            const session = stage.sessions[index];
            if (!session) return;
            info.innerHTML = `
              <span><strong>${formatDateRange(session.start, session.end)}</strong></span>
              <span>${session.location}</span>
              <span>${session.status}</span>
            `;
            button.dataset.sessionIndex = String(index);
          }

          updateInfo(Number(select.value) || 0);

          select.addEventListener('change', (event) => {
            updateInfo(Number(event.target.value));
          });

          button.addEventListener('click', () => {
            const sessionIndex = Number(button.dataset.sessionIndex || 0);
            addToCart(stage.id, sessionIndex);
          });

          stageList.appendChild(card);
        });
      }

      function addToCart(stageId, sessionIndex) {
        const key = `${stageId}-${sessionIndex}`;
        if (cart.some((item) => item.key === key)) {
          showToast('Cette session est déjà dans votre sélection.');
          return;
        }
        cart.push({ key, stageId, sessionIndex, lodging: false, transport: false });
        renderCart();
        showToast('Stage ajouté à votre sélection.');
      }

      function removeFromCart(key) {
        cart = cart.filter((item) => item.key !== key);
        renderCart();
        showToast(`Stage retiré du panier`, "info");
      }

      function changeParticipants(key, delta) {
        const item = cart.find((entry) => entry.key === key);
        if (!item) return;
        item.participants = Math.max(1, item.participants + delta);
        renderCart();
      }
      function toggleOption(key, option) {
        const item = cart.find((entry) => entry.key === key);
        if (!item) return;
        item[option] = !item[option];
        showToast('Stage retiré de votre sélection.');
      }

      function calculateItemTotal(item) {
        const stage = stageCatalog.find((stage) => stage.id === item.stageId);
        if (!stage) return 0;
        let total = stage.price;
        if (item.lodging) total += stage.lodgingPrice;
        if (item.transport) total += stage.transportPrice;
        return total;
      }

      function calculateTotal() {
        return cart.reduce((sum, item) => sum + calculateItemTotal(item), 0);
      }

      function updateCartOption(key, option, value) {
        const target = cart.find((item) => item.key === key);
        if (!target) return;
        target[option === 'lodging' ? 'lodging' : 'transport'] = value;
        renderCart();
      }

      function renderCart() {
        cartItemsContainer.innerHTML = "";
        if (!cart.length) {
          cartItemsContainer.innerHTML = `<p class="empty-state">Votre panier est vide. Ajoutez un stage pour commencer.</p>`;
          cartSummary.style.display = "none";
          cartForm.querySelector('button[type="submit"]').disabled = true;
        } else {
          cartSummary.style.display = "grid";
          cartForm.querySelector('button[type="submit"]').disabled = false;
        }

        let totalParticipants = 0;
        let optionsTotal = 0;
        let grandTotal = 0;

        cart.forEach((item) => {
          const stage = stageCatalog.find((stageItem) => stageItem.id === item.stageId);
          if (!stage) return;
          const week = weeksMap.get(item.weekId);
          const base = stage.basePrice * item.participants;
          const hebergement = item.hebergement ? stage.hebergementPrice * item.participants : 0;
          const transport = item.transport ? stage.transportPrice * item.participants : 0;
          const itemTotal = base + hebergement + transport;

          totalParticipants += item.participants;
          optionsTotal += hebergement + transport;
          grandTotal += itemTotal;

          const itemNode = document.createElement("article");
          itemNode.className = "cart-item";
          itemNode.innerHTML = `
            <div class="cart-item__top">
              <div>
                <h3 class="cart-item__title">${stage.title}</h3>
                <div class="cart-item__meta">${stage.location} — ${week?.label ?? "Semaine sélectionnée"}</div>
              </div>
              <div class="cart-item__price">${formatPrice(itemTotal)}</div>
            </div>
            <div class="cart-item__actions">
              <button type="button" data-action="decrease">- 1</button>
              <span>${item.participants} participant${item.participants > 1 ? "s" : ""}</span>
              <button type="button" data-action="increase">+ 1</button>
              <button type="button" data-action="toggle-hebergement" class="${item.hebergement ? "is-active" : ""}">
                ${item.hebergement ? "Hébergement inclus" : "Ajouter hébergement"}
              </button>
              <button type="button" data-action="toggle-transport" class="${item.transport ? "is-active" : ""}">
                ${item.transport ? "Transport inclus" : "Ajouter transport"}
              </button>
              <button type="button" data-action="remove">Retirer</button>
            </div>
          `;

          itemNode.querySelector('[data-action="decrease"]').addEventListener("click", () => changeParticipants(item.key, -1));
          itemNode.querySelector('[data-action="increase"]').addEventListener("click", () => changeParticipants(item.key, 1));
          itemNode
            .querySelector('[data-action="toggle-hebergement"]')
            .addEventListener("click", () => toggleOption(item.key, "hebergement"));
          itemNode
            .querySelector('[data-action="toggle-transport"]')
            .addEventListener("click", () => toggleOption(item.key, "transport"));
          itemNode.querySelector('[data-action="remove"]').addEventListener("click", () => removeFromCart(item.key));

          cartItemsContainer.appendChild(itemNode);
        });

        cartParticipants.textContent = `${totalParticipants}`;
        cartOptions.textContent = formatPrice(optionsTotal);
        cartTotal.textContent = formatPrice(grandTotal);
        cartCountBadges.forEach((badge) => {
          badge.textContent = cart.length;
        });
      }

      function openCart() {
        cartModal.classList.add("is-visible");
        cartModal.setAttribute("aria-hidden", "false");
        document.body.style.overflow = "hidden";
      }

      function closeCart() {
        cartModal.classList.remove("is-visible");
        cartModal.setAttribute("aria-hidden", "true");
        document.body.style.overflow = "";
      }

      document.querySelectorAll('[data-open-cart]').forEach((button) => {
        button.addEventListener("click", () => {
          renderCart();
          openCart();
        });
      });

      document.querySelectorAll('[data-close-cart]').forEach((button) => {
        button.addEventListener("click", closeCart);
      });

      document.addEventListener("keydown", (event) => {
        if (event.key === "Escape" && cartModal.classList.contains("is-visible")) {
          closeCart();
        }
      });

      function showToast(message, type = "info") {
        if (!toastStack) return;
        const toast = document.createElement("div");
        toast.className = `toast toast--${type}`;
        toast.textContent = message;
        toastStack.appendChild(toast);
        setTimeout(() => {
          toast.classList.add("is-hiding");
          toast.style.opacity = "0";
          toast.style.transform = "translateY(-10px)";
          setTimeout(() => toast.remove(), 300);
        }, 3200);
      }

      cartForm.addEventListener("submit", (event) => {
        event.preventDefault();
        if (!cart.length) {
          showToast("Ajoutez un stage avant d’envoyer votre demande", "info");
          return;
        }
        new FormData(cartForm); // Simulation d'envoi : reliez cette ligne à votre back-office.
        showToast("Votre demande a bien été envoyée", "success");
        cart = [];
        cartForm.reset();
        renderCart();
        setTimeout(() => closeCart(), 1000);
      });

      renderWeekButtons();
      renderCatalogue();
      renderCart();
    </script>
  </body>
</html>
        if (!cartItems || !cartEmpty) return;
        cartItems.innerHTML = '';
        cartEmpty.hidden = cart.length > 0;

        cart.forEach((item) => {
          const stage = stageCatalog.find((stage) => stage.id === item.stageId);
          if (!stage) return;
          const session = stage.sessions[item.sessionIndex];
          const article = document.createElement('article');
          article.className = 'cart-item';
          article.innerHTML = `
            <div class="cart-item__header">
              <div>
                <p class="cart-item__title">${stage.title}</p>
                <p class="cart-item__meta">${formatDateRange(session.start, session.end)} • ${session.location}</p>
              </div>
              <button type="button" class="cart-remove" data-remove title="Retirer le stage">Retirer</button>
            </div>
            <div class="cart-options">
              <label class="cart-chip">
                <input type="checkbox" data-option="lodging" ${item.lodging ? 'checked' : ''} />
                <span>Hébergement +${formatCurrency(stage.lodgingPrice)}</span>
              </label>
              <label class="cart-chip">
                <input type="checkbox" data-option="transport" ${item.transport ? 'checked' : ''} />
                <span>Transport +${formatCurrency(stage.transportPrice)}</span>
              </label>
            </div>
            <div class="cart-item__total">
              <span>Montant pour ce stage</span>
              <strong>${formatCurrency(calculateItemTotal(item))}</strong>
            </div>
          `;

          article.querySelectorAll('input[data-option]').forEach((input) => {
            input.addEventListener('change', (event) => {
              const option = event.target.dataset.option;
              updateCartOption(item.key, option, event.target.checked);
            });
          });

          const removeButton = article.querySelector('[data-remove]');
          removeButton.addEventListener('click', () => removeFromCart(item.key));

          cartItems.appendChild(article);
        });

        const total = calculateTotal();
        if (cartTotal) {
          cartTotal.textContent = formatCurrency(total);
        }

        if (finalizeButton) {
          finalizeButton.disabled = cart.length === 0;
          finalizeButton.setAttribute('aria-disabled', String(cart.length === 0));
        }

        if (submitButton) {
          submitButton.disabled = cart.length === 0;
        }

        updateFormSelection();
      }

      function updateFormSelection() {
        if (!formSelection || !hiddenInputs) return;
        hiddenInputs.innerHTML = '';

        if (!cart.length) {
          formSelection.innerHTML = '<p class="form-selection__empty">Votre panier est vide. Ajoutez un stage pour générer votre devis personnalisé.</p>';
          return;
        }

        const fragment = document.createDocumentFragment();
        cart.forEach((item) => {
          const stage = stageCatalog.find((stage) => stage.id === item.stageId);
          if (!stage) return;
          const session = stage.sessions[item.sessionIndex];
          const block = document.createElement('div');
          block.className = 'form-selection__item';
          block.innerHTML = `
            <strong>${stage.title}</strong>
            <span>${formatDateRange(session.start, session.end)} • ${session.location}</span>
            <span>Hébergement : ${item.lodging ? 'oui' : 'non'} • Transport : ${item.transport ? 'oui' : 'non'}</span>
          `;
          fragment.appendChild(block);

          const hidden = document.createElement('input');
          hidden.type = 'hidden';
          hidden.name = 'stages[]';
          hidden.value = `${stage.title} | ${formatDateRange(session.start, session.end)} | ${session.location} | Hébergement: ${item.lodging ? 'oui' : 'non'} | Transport: ${item.transport ? 'oui' : 'non'}`;
          hiddenInputs.appendChild(hidden);
        });

        const totalLine = document.createElement('div');
        totalLine.className = 'form-selection__total';
        totalLine.innerHTML = `<strong>Total estimé : ${formatCurrency(calculateTotal())}</strong>`;
        fragment.appendChild(totalLine);

        const totalHidden = document.createElement('input');
        totalHidden.type = 'hidden';
        totalHidden.name = 'total_estime';
        totalHidden.value = formatCurrency(calculateTotal());
        hiddenInputs.appendChild(totalHidden);

        formSelection.innerHTML = '';
        formSelection.appendChild(fragment);
      }

      function renderCalendar() {
        if (!calendarContainer) return;
        calendarContainer.innerHTML = '';

        const sessions = stageCatalog
          .flatMap((stage) =>
            stage.sessions.map((session, index) => ({
              stageId: stage.id,
              sessionIndex: index,
              stageTitle: stage.title,
              start: session.start,
              end: session.end,
              location: session.location,
              status: session.status,
              price: stage.price
            }))
          )
          .sort((a, b) => new Date(a.start) - new Date(b.start));

        let currentMonth = '';
        let monthBlock = null;

        sessions.forEach((item) => {
          const monthLabel = formatMonthLabel(item.start);
          if (monthLabel !== currentMonth) {
            currentMonth = monthLabel;
            monthBlock = document.createElement('article');
            monthBlock.className = 'calendar-month';
            monthBlock.innerHTML = `<h3>${monthLabel}</h3>`;
            calendarContainer.appendChild(monthBlock);
          }

          const entry = document.createElement('div');
          entry.className = 'calendar-entry';
          entry.innerHTML = `
            <div class="calendar-entry__header">
              <span class="calendar-entry__dates">${formatDateRange(item.start, item.end)}</span>
              <span>${formatCurrency(item.price)}</span>
            </div>
            <p class="calendar-entry__meta">${item.stageTitle} • ${item.location}</p>
            <p class="calendar-entry__meta">${item.status}</p>
            <div class="calendar-entry__actions">
              <button type="button" class="btn btn--ghost" data-calendar-add data-stage-id="${item.stageId}" data-session-index="${item.sessionIndex}">
                Ajouter au panier
              </button>
            </div>
          `;

          monthBlock.appendChild(entry);
        });
      }

      function setupCalendarActions() {
        if (!calendarContainer) return;
        calendarContainer.addEventListener('click', (event) => {
          const target = event.target.closest('[data-calendar-add]');
          if (!target) return;
          addToCart(target.dataset.stageId, Number(target.dataset.sessionIndex));
        });
      }

      function setupNavObserver() {
        if (!('IntersectionObserver' in window)) return;
        const sections = navLinks
          .map((link) => document.querySelector(link.getAttribute('href')))
          .filter((section) => section instanceof HTMLElement);

        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (!entry.isIntersecting) return;
              const id = `#${entry.target.id}`;
              const activeLink = navLinks.find((link) => link.getAttribute('href') === id);
              if (!activeLink) return;
              navLinks.forEach((link) => link.removeAttribute('aria-current'));
              activeLink.setAttribute('aria-current', 'true');
            });
          },
          {
            threshold: 0.45,
            rootMargin: '-30% 0px -40% 0px'
          }
        );

        sections.forEach((section) => observer.observe(section));
        navLinks[0]?.setAttribute('aria-current', 'true');
      }

      renderStages();
      renderCalendar();
      setupCalendarActions();
      renderCart();
      setupNavObserver();

      if (finalizeButton) {
        finalizeButton.addEventListener('click', () => {
          const reservationSection = document.querySelector('#reservation');
          if (reservationSection) {
            reservationSection.scrollIntoView({ behavior: 'smooth' });
          }
        });
      }

      if (form) {
        form.addEventListener('submit', (event) => {
          event.preventDefault();
          if (!cart.length) {
            showToast('Ajoutez un stage avant de finaliser.');
            if (formFeedback) {
              formFeedback.textContent = 'Veuillez sélectionner au moins un stage pour envoyer votre demande.';
            }
            return;
          }

          if (formFeedback) {
            formFeedback.textContent = 'Merci ! Votre demande a bien été transmise. Nous revenons vers vous sous 24 heures.';
          }
          showToast('Votre demande a bien été envoyée.');
          form.reset();
          cart = [];
          renderCart();
          setTimeout(() => {
            if (formFeedback) {
              formFeedback.textContent = '';
            }
          }, 5000);
        });
      }
    });
  </script>
</body>
</html>
</body>
</html>
</body>
</html>
        toast.classList.add("is-visible");
        setTimeout(() => toast.classList.remove("is-visible"), 3200);
      }

      document.querySelectorAll("[data-open-reservation]").forEach((button) => {
        button.addEventListener("click", () => {
          const card = button.closest("[data-stage]");
          if (!card) return;
          updateSummary({
            name: card.dataset.stage,
            dates: card.dataset.dates,
            format: card.dataset.format,
            price: card.dataset.price
          });
          openReservationModal();
        });
      });

      document.querySelectorAll("[data-summary-only]").forEach((button) => {
        button.addEventListener("click", () => {
          const card = button.closest("[data-stage]");
          if (!card) return;
          updateSummary({
            name: card.dataset.stage,
            dates: card.dataset.dates,
            format: card.dataset.format,
            price: card.dataset.price
          });
          showToast("Stage ajouté au récapitulatif. Cliquez sur « Compléter ma demande » pour finaliser.");
        });
      });

      if (summaryCTA) {
        summaryCTA.addEventListener("click", () => {
          if (!selectedStage) {
            showToast("Sélectionnez d’abord un stage pour compléter votre dossier.");
            return;
          }
          openReservationModal();
        });
      }

      if (summaryCTASecondary) {
        summaryCTASecondary.addEventListener("click", () => {
          if (!selectedStage) {
            showToast("Ajoutez votre stage favori afin que notre équipe vous rappelle en priorité.");
            return;
          }
          openReservationModal();
        });
      }

      reservationForm.addEventListener("submit", (event) => {
        event.preventDefault();
        closeModal(reservationModal);
        reservationForm.reset();
        showToast("Merci ! Notre équipe admissions revient vers vous sous 24h.");
      });

      document.querySelectorAll("[data-open-accommodation]").forEach((button) => {
        button.addEventListener("click", () => {
          const key = button.getAttribute("data-open-accommodation");
          const data = accommodations[key];
          if (!data) return;
          accommodationTitle.textContent = data.title;
          accommodationIntro.textContent = data.intro;
          accommodationDescription.textContent = data.description;
          accommodationImage.setAttribute("src", data.image);
          accommodationImage.setAttribute("alt", data.title);
          accommodationProgram.innerHTML = data.program.map((item) => `<li>${item}</li>`).join("");
          accommodationModal.classList.add("is-visible");
          document.body.style.overflow = "hidden";
          accommodationReserve.onclick = () => {
            closeModal(accommodationModal);
            showToast("Préférence hébergement ajoutée. Indiquez-la lors de votre envoi.");
          };
        });
      });

      document.querySelectorAll("[data-close-modal]").forEach((button) => {
        button.addEventListener("click", () => {
          closeModal(button.closest(".modal"));
        });
      });

      [reservationModal, accommodationModal].forEach((modal) => {
        modal.addEventListener("click", (event) => {
          if (event.target === modal) {
            closeModal(modal);
          }
        });
      });

      document.addEventListener("keydown", (event) => {
        if (event.key === "Escape") {
          closeModal(reservationModal);
          closeModal(accommodationModal);
        }
      });

      const navLinks = Array.from(document.querySelectorAll(".reservation-nav a[href^='#']"));
      const sections = navLinks
        .map((link) => document.querySelector(link.getAttribute("href")))
        .filter(Boolean);

      navLinks.forEach((link) => {
        link.addEventListener("click", () => {
          navLinks.forEach((l) => l.removeAttribute("aria-current"));
          link.setAttribute("aria-current", "true");
        });
      });

      if ("IntersectionObserver" in window) {
        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                const id = `#${entry.target.id}`;
                navLinks.forEach((link) => {
                  if (link.getAttribute("href") === id) {
                    link.setAttribute("aria-current", "true");
                  } else {
                    link.removeAttribute("aria-current");
                  }
                });
              }
            });
          },
          { rootMargin: "-45% 0px -45% 0px", threshold: 0.2 }
        );

        sections.forEach((section) => observer.observe(section));
      } else if (navLinks.length) {
        navLinks[0].setAttribute("aria-current", "true");
      }
    })();
  </script>
</body>
</html>
<style>
.popup-hebergement {
  display: none;
  position: fixed;
  top: 0; left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0,0,0,0.6);
  z-index: 9999;
  justify-content: center;
  align-items: center;
}
.popup-content {
  background: #fff;
  padding: 30px;
  border-radius: 15px;
  max-width: 600px;
  width: 90%;
  position: relative;
}
.popup-close {
  position: absolute;
  top: 10px;
  right: 20px;
  font-size: 24px;
  cursor: pointer;
}
</style>
<!-- POPUPS INDIVIDUELS PAR LIEU -->
<!-- POPUP HOSTENS -->
<div class="popup-overlay" id="popup-hostens" style="display:none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.75); z-index: 1000; justify-content: center; align-items: center;">
<div class="popup-content" style="background: white; max-width: 900px; width: 90%; border-radius: 15px; overflow: hidden; position: relative; animation: fadeIn 0.4s ease;">
<span onclick="closePopup('popup-hostens')" style="position: absolute; top: 15px; right: 20px; font-size: 24px; cursor: pointer;">×</span>
<div style="display: flex; flex-direction: column;">
<img alt="Hostens" src="assets/photos/1.png" style="width: 100%; height: 300px; object-fit: cover;"/>
<div style="padding: 30px;">
<h2 style="margin-top: 0;">Stage à Hostens</h2>
<p><strong>Un site naturel en pleine forêt pour une immersion sportive et reposante près de Bordeaux.</strong></p>
<p><em>Plus que 8 places disponibles</em></p>
<p style="font-size: 1.2em; font-weight: bold;">1600 € <span style="font-size: 0.8em; font-weight: normal;">*Prix sans hébergement</span></p>
<h3>Description</h3>
<p>Le site d’Hostens, situé dans une réserve naturelle, offre un cadre exceptionnel pour une pratique intensive du tennis. Les infrastructures sportives sont à proximité immédiate du centre d’hébergement, garantissant confort, sécurité et efficacité dans les déplacements.</p>
<h3>Une journée type :</h3>
<ul>
<li>7h30 : Réveil &amp; petit-déjeuner</li>
<li>9h00 - 12h00 : Entraînement tennis + préparation physique</li>
<li>12h30 : Déjeuner &amp; temps calme</li>
<li>14h30 - 17h00 : Tennis, matchs, coaching mental</li>
<li>18h00 : Activité détente (lac, forêt, vélo)</li>
<li>20h00 : Dîner &amp; briefing du lendemain</li>
</ul>
<h3>Prestations incluses :</h3>
<ul>
<li>Encadrement par coachs diplômés</li>
<li>Analyse vidéo &amp; coaching personnalisé</li>
<li>Accès aux infrastructures sportives</li>
<li>Maillot Tennis Impact offert</li>
</ul>
<button style="margin-top: 20px; padding: 12px 24px; background: #000; color: #fff; border: none; border-radius: 25px; font-size: 1em; cursor: pointer;">Ajouter ce stage</button>
</div>
</div>
</div>
</div>
<script>
function openPopup(id) {
  document.getElementById(id).style.display = "flex";
}
function closePopup(id) {
  document.getElementById(id).style.display = "none";
}
window.addEventListener('click', function(e) {
  const popup = document.getElementById('popup-hostens');
  if (e.target === popup) closePopup('popup-hostens');
});
</script>
<!-- POPUP FORMULAIRE -->
<div class="popup-overlay" id="popup-formulaire" style="display:none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.75); z-index: 10000; justify-content: center; align-items: center;">
<div class="popup-content" style="background: white; max-width: 600px; width: 90%; border-radius: 15px; overflow: hidden; position: relative; animation: fadeIn 0.4s ease; padding: 30px; font-family: Poppins, sans-serif;">
<span onclick="closePopup('popup-formulaire')" style="position: absolute; top: 15px; right: 20px; font-size: 24px; cursor: pointer;">×</span>
<h2 style="margin-top: 0; text-align:center;">Réserver mon stage</h2>
<form id="form-reservation">
<label>Prénom</label><br/>
<input name="prenom" required="" style="width:100%; padding:10px; margin-bottom:10px;" type="text"/><br/>
<label>Nom</label><br/>
<input name="nom" required="" style="width:100%; padding:10px; margin-bottom:10px;" type="text"/><br/>
<label>Âge</label><br/>
<input name="age" required="" style="width:100%; padding:10px; margin-bottom:10px;" type="number"/><br/>
<label>Email</label><br/>
<input name="email" required="" style="width:100%; padding:10px; margin-bottom:10px;" type="email"/><br/>
<label>Téléphone</label><br/>
<input name="tel" required="" style="width:100%; padding:10px; margin-bottom:10px;" type="tel"/><br/>
<label>Niveau</label><br/>
<select name="niveau" required="" style="width:100%; padding:10px; margin-bottom:10px;">
<option value="">Sélectionner</option>
<option>Débutant</option>
<option>Intermédiaire</option>
<option>Avancé</option>
<option>Classé FFT</option>
</select><br/>
<label>Nos Hébergements</label><br/>
<select name="hebergement" required="" style="width:100%; padding:10px; margin-bottom:20px;">
<option value="">Sélectionner</option>
<option>Avec hébergement</option>
<option>Sans hébergement</option>
</select><br/>
<button style="width:100%; padding:12px; background:#000; color:#fff; border:none; border-radius:25px; font-size:1em;" type="submit">Envoyer ma réservation</button>
</form>
</div>
</div>
<script>
function validerReservation() {
  document.getElementById('popup-formulaire').style.display = "flex";
}
</script>
<script>
  (function() {
    const navToggle = document.querySelector('.nav-toggle');
    const navLinks = document.getElementById('site-nav');
    const body = document.body;

    if (!navToggle || !navLinks) return;

    const toggleMenu = (open) => {
      const shouldOpen = open ?? !navToggle.classList.contains('is-open');
      navToggle.classList.toggle('is-open', shouldOpen);
      navToggle.setAttribute('aria-expanded', shouldOpen ? 'true' : 'false');
      navLinks.classList.toggle('open', shouldOpen);
      body.classList.toggle('menu-open', shouldOpen);
    };

    navToggle.addEventListener('click', () => toggleMenu());
    navLinks.querySelectorAll('a').forEach((link) => link.addEventListener('click', () => toggleMenu(false)));
    window.addEventListener('resize', () => {
      if (window.innerWidth > 860) toggleMenu(false);
    });
  })();
</script>
