<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RÃ©servez votre stage - Tennis Impact</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      --page-background: radial-gradient(circle at 10% 20%, #0f1a3a 0%, #050a1e 55%, #020512 100%);
      --surface-tinted: rgba(13, 23, 52, 0.82);
      --surface-soft: rgba(16, 26, 58, 0.68);
      --surface-light: rgba(255, 255, 255, 0.05);
      --text-primary: #f6f7ff;
      --text-secondary: #cdd5ff;
      --accent: #f5c451;
      --accent-strong: #f0ad2c;
      --accent-soft: rgba(245, 196, 81, 0.22);
      --nav-height: 76px;
      --section-spacing: clamp(64px, 14vw, 120px);
    }

    *, *::before, *::after {
      box-sizing: border-box;
    }

    html, body {
      scroll-behavior: smooth;
    }

    body {
      margin: 0;
      font-family: "Poppins", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: var(--page-background);
      color: var(--text-primary);
      line-height: 1.6;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    img {
      max-width: 100%;
      display: block;
    }

    section {
      padding: var(--section-spacing) clamp(20px, 8vw, 80px);
      position: relative;
    }

    section:target {
      scroll-margin-top: calc(var(--nav-height) + 24px);
    }

    .reservation-hero {
      position: relative;
      min-height: clamp(420px, 65vh, 560px);
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: clamp(48px, 12vw, 96px) clamp(20px, 6vw, 72px);
      background: linear-gradient(135deg, rgba(5, 10, 26, 0.6), rgba(5, 10, 26, 0.4)), url("assets/photos/3.png") center/cover;
      overflow: hidden;
    }

    .reservation-hero::before,
    .reservation-hero::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(7, 15, 36, 0.92), rgba(8, 18, 46, 0.75));
      mix-blend-mode: multiply;
      pointer-events: none;
    }

    .reservation-hero::after {
      background: radial-gradient(circle at 20% 20%, rgba(245, 196, 81, 0.25), transparent 55%),
        radial-gradient(circle at 80% 30%, rgba(74, 115, 255, 0.18), transparent 60%);
      opacity: 0.8;
    }

    .reservation-hero > div {
      position: relative;
      z-index: 1;
      max-width: 820px;
      background: linear-gradient(160deg, rgba(12, 22, 52, 0.86), rgba(6, 12, 30, 0.78));
      border-radius: 28px;
      padding: clamp(32px, 6vw, 56px);
      box-shadow: 0 30px 80px rgba(0, 0, 0, 0.45);
      backdrop-filter: blur(6px);
    }

    .hero-kicker {
      font-size: 0.95rem;
      letter-spacing: 0.4em;
      text-transform: uppercase;
      color: var(--accent);
      margin-bottom: 18px;
      display: inline-flex;
      align-items: center;
      gap: 12px;
    }

    .hero-kicker::before,
    .hero-kicker::after {
      content: "";
      height: 1px;
      width: 48px;
      background: var(--accent-soft);
    }

    .reservation-hero h1 {
      font-family: "Playfair Display", serif;
      font-size: clamp(2.4rem, 4vw, 3.3rem);
      margin: 0 0 20px;
      letter-spacing: 0.02em;
    }

    .reservation-hero p {
      margin: 0;
      font-size: clamp(1.05rem, 2.2vw, 1.2rem);
      color: var(--text-secondary);
    }

    .reservation-nav {
      position: sticky;
      top: 0;
      z-index: 999;
      display: flex;
      justify-content: center;
      gap: clamp(12px, 4vw, 48px);
      padding: 20px clamp(16px, 6vw, 48px);
      background: rgba(4, 9, 26, 0.85);
      backdrop-filter: blur(18px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.08);
    }

    .reservation-nav a {
      font-weight: 500;
      font-size: 0.95rem;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      position: relative;
      padding-bottom: 6px;
      color: var(--text-secondary);
      transition: color 0.2s ease;
    }

    .reservation-nav a::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: 0;
      width: 100%;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--accent), transparent);
      transform: scaleX(0);
      transform-origin: center;
      transition: transform 0.25s ease;
    }

    .reservation-nav a:hover,
    .reservation-nav a:focus-visible {
      color: #ffffff;
    }

    .reservation-nav a:hover::after,
    .reservation-nav a:focus-visible::after,
    .reservation-nav a[aria-current="true"]::after {
      transform: scaleX(1);
    }

    .section-intro {
      background: linear-gradient(180deg, rgba(9, 14, 32, 0.9), rgba(5, 10, 24, 0.95));
      text-align: center;
    }

    .section-intro h2 {
      font-family: "Playfair Display", serif;
      font-size: clamp(2rem, 3.6vw, 2.8rem);
      margin-bottom: 20px;
    }

    .section-intro p {
      max-width: 820px;
      margin: 0 auto;
      color: var(--text-secondary);
      font-size: clamp(1rem, 2vw, 1.15rem);
    }

    .booking-layout {
      display: grid;
      grid-template-columns: minmax(0, 1.3fr) minmax(280px, 360px);
      gap: clamp(32px, 6vw, 60px);
      max-width: 1180px;
      margin: 0 auto;
      padding: 0 clamp(20px, 5vw, 40px) var(--section-spacing);
    }

    .stage-list {
      display: flex;
      flex-direction: column;
      gap: clamp(24px, 4vw, 36px);
    }

    .stage-card {
      display: grid;
      grid-template-columns: minmax(220px, 320px) minmax(0, 1fr);
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.98), rgba(243, 243, 248, 0.94));
      color: #111321;
      border-radius: 28px;
      overflow: hidden;
      box-shadow: 0 26px 60px rgba(8, 10, 30, 0.18);
      transition: transform 0.25s ease, box-shadow 0.25s ease;
    }

    .stage-card:hover {
      transform: translateY(-6px);
      box-shadow: 0 32px 68px rgba(8, 12, 34, 0.24);
    }

    .stage-card figure {
      position: relative;
      height: 100%;
    }

    .stage-card img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .stage-card figcaption {
      position: absolute;
      left: 18px;
      bottom: 18px;
      background: rgba(5, 10, 26, 0.85);
      color: #ffffff;
      padding: 8px 16px;
      border-radius: 999px;
      font-size: 0.85rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    .stage-card__body {
      padding: clamp(24px, 4.5vw, 40px);
      display: flex;
      flex-direction: column;
      gap: 18px;
    }

    .stage-card__header {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      align-items: center;
    }

    .stage-card__header h3 {
      font-family: "Playfair Display", serif;
      font-size: clamp(1.45rem, 3vw, 1.85rem);
      margin: 0;
      color: #050a1c;
    }

    .stage-card__tag {
      padding: 6px 14px;
      border-radius: 999px;
      background: rgba(5, 10, 26, 0.08);
      font-size: 0.85rem;
      font-weight: 600;
      letter-spacing: 0.05em;
      text-transform: uppercase;
    }

    .stage-card__dates {
      margin: 0;
      font-weight: 600;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      color: #1c2f58;
      font-size: 0.85rem;
    }

    .stage-card__price {
      margin: 0;
      font-weight: 700;
      font-size: 1.1rem;
      color: #b58a07;
    }

    .stage-card__price span {
      font-size: 0.85rem;
      font-weight: 500;
      color: #4c556e;
      margin-left: 6px;
    }

    .stage-card__highlights {
      margin: 0;
      padding-left: 18px;
      color: #303855;
      font-size: 0.95rem;
    }

    .stage-card__actions {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin-top: auto;
    }

    .button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      border-radius: 16px;
      font-weight: 600;
      letter-spacing: 0.04em;
      padding: 12px 22px;
      font-size: 0.95rem;
      cursor: pointer;
      border: none;
      transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease, color 0.2s ease;
    }

    .button--primary {
      background: linear-gradient(135deg, #0b1c46, #050b1f);
      color: #ffffff;
      box-shadow: 0 16px 30px rgba(5, 11, 31, 0.24);
    }

    .button--primary:hover,
    .button--primary:focus-visible {
      transform: translateY(-2px);
      box-shadow: 0 24px 38px rgba(5, 11, 31, 0.35);
    }

    .button--ghost {
      background: rgba(5, 11, 31, 0.08);
      color: #0b1c46;
      border: 1px solid rgba(5, 11, 31, 0.12);
    }

    .button--ghost:hover,
    .button--ghost:focus-visible {
      background: rgba(5, 11, 31, 0.16);
    }

    .booking-summary {
      position: sticky;
      top: calc(var(--nav-height) + 24px);
      align-self: start;
      background: linear-gradient(180deg, rgba(14, 22, 48, 0.96), rgba(6, 10, 26, 0.98));
      border-radius: 28px;
      padding: clamp(28px, 5vw, 36px);
      box-shadow: 0 30px 70px rgba(0, 0, 0, 0.35);
      border: 1px solid rgba(245, 196, 81, 0.18);
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .booking-summary h2 {
      margin: 0;
      font-family: "Playfair Display", serif;
      font-size: 1.6rem;
    }

    .booking-summary__empty {
      margin: 0;
      color: var(--text-secondary);
      font-size: 0.95rem;
    }

    .booking-summary__selection {
      display: grid;
      gap: 10px;
      background: rgba(5, 9, 24, 0.6);
      border-radius: 18px;
      padding: 16px 18px;
      border: 1px solid rgba(245, 196, 81, 0.18);
    }

    .booking-summary__selection h3 {
      margin: 0;
      font-size: 1rem;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      color: var(--accent);
    }

    .booking-summary__selection p {
      margin: 0;
      font-size: 0.95rem;
      color: var(--text-secondary);
    }

    .booking-summary__badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 14px;
      background: rgba(245, 196, 81, 0.14);
      border-radius: 999px;
      font-size: 0.8rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--accent);
    }

    .booking-summary__note {
      margin: 0;
      font-size: 0.85rem;
      color: rgba(255, 255, 255, 0.6);
    }

    .section-title {
      font-family: "Playfair Display", serif;
      font-size: clamp(2rem, 3vw, 2.6rem);
      margin-bottom: 24px;
      letter-spacing: 0.02em;
    }

    .split-layout {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: clamp(24px, 5vw, 48px);
      align-items: center;
    }

    .split-layout p {
      color: var(--text-secondary);
      margin-bottom: 18px;
    }

    .pill-list {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 18px;
      padding: 0;
      list-style: none;
    }

    .pill-list li {
      padding: 10px 18px;
      border-radius: 999px;
      background: rgba(245, 196, 81, 0.12);
      color: var(--accent);
      font-size: 0.9rem;
      letter-spacing: 0.04em;
    }

    .options-section {
      background: linear-gradient(180deg, rgba(12, 19, 42, 0.92), rgba(6, 11, 28, 0.98));
    }

    .options-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: clamp(20px, 4vw, 32px);
    }

    .option-card {
      background: rgba(5, 10, 24, 0.75);
      border: 1px solid rgba(245, 196, 81, 0.14);
      border-radius: 22px;
      padding: 24px;
      display: grid;
      gap: 12px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.22);
    }

    .option-card h3 {
      margin: 0;
      font-size: 1.1rem;
      color: var(--accent);
      letter-spacing: 0.04em;
      text-transform: uppercase;
    }

    .option-card p {
      margin: 0;
      color: var(--text-secondary);
      font-size: 0.95rem;
    }

    .accommodations {
      background: #f5f6fb;
      color: #111321;
    }

    .accommodations .section-title {
      color: #050b1f;
    }

    .accommodation-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: clamp(20px, 4vw, 32px);
    }

    .accommodation-card {
      background: #ffffff;
      border-radius: 24px;
      overflow: hidden;
      box-shadow: 0 18px 40px rgba(12, 18, 38, 0.15);
      display: flex;
      flex-direction: column;
    }

    .accommodation-card__body {
      padding: 24px;
      display: flex;
      flex-direction: column;
      gap: 12px;
      flex: 1;
    }

    .accommodation-card h3 {
      margin: 0;
      font-size: 1.2rem;
      color: #07102a;
    }

    .accommodation-card p {
      margin: 0;
      color: #3a4463;
      font-size: 0.95rem;
    }

    .faq {
      background: linear-gradient(180deg, rgba(5, 10, 24, 0.94), rgba(5, 10, 24, 0.98));
    }

    .faq-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 18px;
    }

    details {
      background: rgba(5, 9, 24, 0.75);
      border-radius: 18px;
      padding: 18px 22px;
      border: 1px solid rgba(245, 196, 81, 0.12);
    }

    summary {
      cursor: pointer;
      font-weight: 600;
      letter-spacing: 0.03em;
    }

    summary::-webkit-details-marker {
      display: none;
    }

    summary::after {
      content: "+";
      float: right;
      font-size: 1.2rem;
      transition: transform 0.25s ease;
    }

    details[open] summary::after {
      transform: rotate(45deg);
    }

    details p {
      margin: 12px 0 0;
      color: var(--text-secondary);
      font-size: 0.95rem;
    }

    .cta-final {
      text-align: center;
      background: linear-gradient(180deg, rgba(12, 20, 46, 0.92), rgba(7, 12, 32, 0.92));
      padding-bottom: clamp(60px, 12vw, 96px);
    }

    .cta-final p {
      max-width: 680px;
      margin: 0 auto 24px;
      color: var(--text-secondary);
    }

    .modal {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      padding: clamp(24px, 6vw, 48px);
      background: rgba(3, 6, 18, 0.78);
      backdrop-filter: blur(6px);
      z-index: 1200;
    }

    .modal.is-visible {
      display: flex;
    }

    .modal__dialog {
      position: relative;
      max-width: 640px;
      width: min(92vw, 640px);
      background: #ffffff;
      color: #101530;
      border-radius: 24px;
      padding: clamp(28px, 5vw, 40px);
      box-shadow: 0 40px 90px rgba(0, 0, 0, 0.35);
      display: grid;
      gap: 18px;
    }

    .modal__header {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .modal__title {
      margin: 0;
      font-family: "Playfair Display", serif;
      font-size: 1.8rem;
      color: #050b1f;
    }

    .modal__stage-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      font-size: 0.9rem;
      color: #3b4662;
    }

    .modal__close {
      position: absolute;
      top: 20px;
      right: 24px;
      border: none;
      background: rgba(15, 22, 46, 0.1);
      color: #050b1f;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      font-size: 1.1rem;
      cursor: pointer;
    }

    .reservation-form {
      display: grid;
      gap: 16px;
    }

    .form-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 16px;
    }

    label {
      font-weight: 600;
      font-size: 0.95rem;
      color: #0c183a;
      display: grid;
      gap: 8px;
    }

    input,
    select,
    textarea {
      width: 100%;
      padding: 12px 14px;
      border-radius: 12px;
      border: 1px solid rgba(12, 24, 58, 0.18);
      font-family: inherit;
      font-size: 0.95rem;
      color: #0c183a;
      background: rgba(12, 24, 58, 0.04);
      transition: border-color 0.2s ease, box-shadow 0.2s ease;
    }

    input:focus,
    select:focus,
    textarea:focus {
      outline: none;
      border-color: var(--accent-strong);
      box-shadow: 0 0 0 3px rgba(245, 196, 81, 0.22);
    }

    textarea {
      resize: vertical;
      min-height: 96px;
    }

    .modal__footer {
      display: flex;
      flex-direction: column;
      gap: 12px;
      font-size: 0.9rem;
      color: #3b4662;
    }

    .toast {
      position: fixed;
      bottom: 32px;
      right: 32px;
      background: rgba(6, 12, 30, 0.92);
      color: #ffffff;
      padding: 16px 22px;
      border-radius: 16px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      opacity: 0;
      pointer-events: none;
      transform: translateY(12px);
      transition: opacity 0.3s ease, transform 0.3s ease;
      z-index: 1300;
      font-size: 0.95rem;
    }

    .toast.is-visible {
      opacity: 1;
      transform: translateY(0);
    }

    .accommodation-modal__media {
      border-radius: 18px;
      overflow: hidden;
      max-height: 280px;
    }

    .accommodation-modal__list {
      margin: 0;
      padding-left: 18px;
      color: #3b4662;
    }

    @media (max-width: 1024px) {
      .stage-card {
        grid-template-columns: minmax(0, 1fr);
      }

      .stage-card figure {
        height: clamp(220px, 45vw, 320px);
      }
    }

    @media (max-width: 960px) {
      .reservation-nav {
        flex-wrap: wrap;
        gap: 18px;
      }

      .booking-layout {
        grid-template-columns: minmax(0, 1fr);
      }

      .booking-summary {
        position: static;
      }
    }

    @media (max-width: 640px) {
      :root {
        --nav-height: 64px;
      }

      .reservation-hero > div {
        padding: clamp(24px, 8vw, 36px);
      }

      .stage-card__actions {
        flex-direction: column;
        align-items: stretch;
      }

      .button {
        width: 100%;
      }

      .reservation-nav a {
        font-size: 0.85rem;
      }

      .reservation-nav {
        justify-content: flex-start;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
    }
  </style>
</head>
<body>
  <header class="reservation-hero">
    <div>
      <span class="hero-kicker">Tennis Impact Academy</span>
      <h1>RÃ©servez votre stage premium</h1>
      <p>
        Des programmes dâentraÃ®nement haute intensitÃ©, encadrÃ©s par notre Ã©quipe Ã©lite. Choisissez votre formule, ajoutez vos
        options et laissez-nous orchestrer une semaine dâexception pour votre enfant.
      </p>
    </div>
  </header>

  <nav class="reservation-nav" aria-label="Navigation rapide">
    <a href="#stages">Stages</a>
    <a href="#methodologie">MÃ©thodologie</a>
    <a href="#options">Options</a>
    <a href="#hebergements">HÃ©bergements</a>
    <a href="#faq">FAQ</a>
  </nav>

  <main>
    <section id="stages" class="section-intro">
      <h2>Une sÃ©lection limitÃ©e de stages signatures</h2>
      <p>
        Chaque programme est calibrÃ© pour un groupe restreint de joueurs afin de garantir un coaching individualisÃ©, un suivi
        quotidien et des retours prÃ©cis sur la performance.
      </p>
    </section>

    <section class="booking-layout" aria-labelledby="titre-stages">
      <h2 id="titre-stages" class="visually-hidden">Liste des stages disponibles</h2>
      <div class="stage-list">
        <article class="stage-card" data-stage="Stage INTENSIF" data-dates="23 juin â 28 juin" data-format="JournÃ©e entiÃ¨re" data-price="1â¯600 â¬">
          <figure>
            <img src="assets/photos/1.png" alt="EntraÃ®nement intensif au centre Tennis Impact" loading="lazy" />
            <figcaption>8 places restantes</figcaption>
          </figure>
          <div class="stage-card__body">
            <div class="stage-card__header">
              <h3>Stage INTENSIF</h3>
              <span class="stage-card__tag">U12 - U18</span>
            </div>
            <p class="stage-card__dates">JournÃ©e entiÃ¨re â¢ 23 juin - 28 juin</p>
            <p class="stage-card__price">1â¯600 â¬ <span>Sans hÃ©bergement</span></p>
            <ul class="stage-card__highlights">
              <li>2 entraÃ®nements tennis quotidiens + 1h30 de physique</li>
              <li>Analyse vidÃ©o personnalisÃ©e chaque soir</li>
              <li>Bilan individuel &amp; plan de progression</li>
              <li>DÃ©jeuners gourmets inclus</li>
            </ul>
            <div class="stage-card__actions">
              <button type="button" class="button button--primary" data-open-reservation>RÃ©server ce stage</button>
              <button type="button" class="button button--ghost" data-summary-only>Ajouter au rÃ©capitulatif</button>
            </div>
          </div>
        </article>

        <article class="stage-card" data-stage="Stage COMPÃTITION" data-dates="23 juin â 5 juillet" data-format="JournÃ©e entiÃ¨re" data-price="4â¯200 â¬">
          <figure>
            <img src="assets/photos/2.png" alt="Jeunes joueurs en match de compÃ©tition" loading="lazy" />
            <figcaption>Coaching FFT &amp; UTR</figcaption>
          </figure>
          <div class="stage-card__body">
            <div class="stage-card__header">
              <h3>Stage COMPÃTITION</h3>
              <span class="stage-card__tag">Classement FFT</span>
            </div>
            <p class="stage-card__dates">JournÃ©e entiÃ¨re â¢ 23 juin - 5 juillet</p>
            <p class="stage-card__price">4â¯200 â¬ <span>Sans hÃ©bergement</span></p>
            <ul class="stage-card__highlights">
              <li>Tournoi UTR intÃ©grÃ© &amp; coaching tactique quotidien</li>
              <li>PrÃ©paration mentale et routines dâÃ©lite</li>
              <li>PrÃ©parateur physique &amp; rÃ©cupÃ©ration active</li>
              <li>Rapport de performance complet</li>
            </ul>
            <div class="stage-card__actions">
              <button type="button" class="button button--primary" data-open-reservation>RÃ©server ce stage</button>
              <button type="button" class="button button--ghost" data-summary-only>Ajouter au rÃ©capitulatif</button>
            </div>
          </div>
        </article>

        <article class="stage-card" data-stage="Stage DEMI-JOURNÃE" data-dates="23 juin â 28 juin" data-format="MatinÃ©e" data-price="1â¯050 â¬">
          <figure>
            <img src="assets/photos/3.png" alt="Stage demi-journÃ©e au lever du soleil" loading="lazy" />
            <figcaption>IdÃ©al dÃ©couverte</figcaption>
          </figure>
          <div class="stage-card__body">
            <div class="stage-card__header">
              <h3>Stage DEMI-JOURNÃE</h3>
              <span class="stage-card__tag">U10 - U15</span>
            </div>
            <p class="stage-card__dates">MatinÃ©e â¢ 23 juin - 28 juin</p>
            <p class="stage-card__price">1â¯050 â¬ <span>Sans hÃ©bergement</span></p>
            <ul class="stage-card__highlights">
              <li>1 session technique premium / jour</li>
              <li>Suivi individuel avec carnet de bord</li>
              <li>Groupes affinÃ©s par Ã¢ge et objectifs</li>
            </ul>
            <div class="stage-card__actions">
              <button type="button" class="button button--primary" data-open-reservation>RÃ©server ce stage</button>
              <button type="button" class="button button--ghost" data-summary-only>Ajouter au rÃ©capitulatif</button>
            </div>
          </div>
        </article>

        <article class="stage-card" data-stage="Stage INTENSIF + FRANÃAIS" data-dates="30 juin â 5 juillet" data-format="JournÃ©e entiÃ¨re" data-price="1â¯750 â¬">
          <figure>
            <img src="assets/photos/4.png" alt="Cours intensif de tennis et franÃ§ais" loading="lazy" />
            <figcaption>AcadÃ©mie bilingue</figcaption>
          </figure>
          <div class="stage-card__body">
            <div class="stage-card__header">
              <h3>Stage INTENSIF + FranÃ§ais</h3>
              <span class="stage-card__tag">Programme bilingue</span>
            </div>
            <p class="stage-card__dates">JournÃ©e entiÃ¨re â¢ 30 juin - 5 juillet</p>
            <p class="stage-card__price">1â¯750 â¬ <span>Sans hÃ©bergement</span></p>
            <ul class="stage-card__highlights">
              <li>Tennis haute intensitÃ© le matin</li>
              <li>Ateliers linguistiques immersifs</li>
              <li>Encadrement natif &amp; professeur certifiÃ©</li>
            </ul>
            <div class="stage-card__actions">
              <button type="button" class="button button--primary" data-open-reservation>RÃ©server ce stage</button>
              <button type="button" class="button button--ghost" data-summary-only>Ajouter au rÃ©capitulatif</button>
            </div>
          </div>
        </article>

        <article class="stage-card" data-stage="Stage NIGHT SESSIONS" data-dates="30 juin â 4 juillet" data-format="SoirÃ©e" data-price="900 â¬">
          <figure>
            <img src="assets/photos/6.png" alt="Session nocturne de tennis sous les projecteurs" loading="lazy" />
            <figcaption>Ambiance night tour</figcaption>
          </figure>
          <div class="stage-card__body">
            <div class="stage-card__header">
              <h3>Stage NIGHT SESSIONS</h3>
              <span class="stage-card__tag">After work</span>
            </div>
            <p class="stage-card__dates">SoirÃ©e â¢ 30 juin - 4 juillet</p>
            <p class="stage-card__price">900 â¬ <span>Sans hÃ©bergement</span></p>
            <ul class="stage-card__highlights">
              <li>Sessions Ã©clairÃ©es &amp; ambiance tournois</li>
              <li>Cardio tennis &amp; matchs coachÃ©s</li>
              <li>Club house premium &amp; networking</li>
            </ul>
            <div class="stage-card__actions">
              <button type="button" class="button button--primary" data-open-reservation>RÃ©server ce stage</button>
              <button type="button" class="button button--ghost" data-summary-only>Ajouter au rÃ©capitulatif</button>
            </div>
          </div>
        </article>
      </div>

      <aside class="booking-summary" aria-labelledby="resume-reservation">
        <h2 id="resume-reservation">Votre rÃ©servation</h2>
        <p class="booking-summary__empty" data-summary-empty>
          SÃ©lectionnez un stage pour prÃ©-remplir votre dossier premium et Ãªtre recontactÃ© en prioritÃ© par notre Ã©quipe admissions.
        </p>
        <div class="booking-summary__selection" data-summary-selection hidden>
          <h3>Stage sÃ©lectionnÃ©</h3>
          <span class="booking-summary__badge" data-summary-format>JournÃ©e entiÃ¨re</span>
          <p><strong data-summary-name></strong></p>
          <p data-summary-dates></p>
          <p data-summary-price></p>
        </div>
        <button type="button" class="button button--primary" data-summary-cta disabled>ComplÃ©ter ma demande</button>
        <p class="booking-summary__note">RÃ©ponse sous 24h ouvrÃ©es â¢ Paiement sÃ©curisÃ© aprÃ¨s validation du dossier</p>
      </aside>
    </section>

    <section id="methodologie">
      <div class="split-layout">
        <div>
          <h2 class="section-title">Notre mÃ©thodologie Haute Performance</h2>
          <p>
            Nous combinons coaching technique, prÃ©paration mentale et dÃ©veloppement physique dans un parcours personnalisÃ© pour
            chaque joueur. Notre staff FFT &amp; ATP construit la semaine autour de bilans quotidiens et de sÃ©ances calibrÃ©es selon
            les objectifs individuels.
          </p>
          <p>
            Chaque soir, un dÃ©brief vidÃ©o et un plan dâactions sont envoyÃ©s aux familles pour suivre la progression et prÃ©parer la
            journÃ©e suivante.
          </p>
          <ul class="pill-list">
            <li>Diagnostic 360Â°</li>
            <li>Analyse vidÃ©o</li>
            <li>PrÃ©pa mentale</li>
            <li>Routines recovery</li>
            <li>Feedback quotidien</li>
          </ul>
        </div>
        <div>
          <img src="assets/photos/6.png" alt="Coaching sur le court avec analyse vidÃ©o" loading="lazy" style="border-radius: 24px; box-shadow: 0 24px 60px rgba(0,0,0,0.4);" />
        </div>
      </div>
    </section>

    <section id="options" class="options-section">
      <h2 class="section-title" style="text-align: center;">Options premium &amp; services sur mesure</h2>
      <p style="text-align: center; max-width: 780px; margin: 0 auto 36px; color: var(--text-secondary);">
        Renforcez lâexpÃ©rience avec nos services complÃ©mentaires pensÃ©s pour les familles exigeantes. Chaque option peut Ãªtre
        ajoutÃ©e aprÃ¨s votre prise de contact.
      </p>
      <div class="options-grid">
        <article class="option-card">
          <h3>Conciergerie famille</h3>
          <p>Transport privÃ©, rÃ©servations dâhÃ´tels partenaires et activitÃ©s dÃ©tente pour les accompagnants.</p>
        </article>
        <article class="option-card">
          <h3>Coaching mental</h3>
          <p>Sessions individuelles avec notre prÃ©parateur mental certifiÃ© pour installer des routines durables.</p>
        </article>
        <article class="option-card">
          <h3>Suivi nutrition</h3>
          <p>Plan alimentaire personnalisÃ©, bilan body-scan et livret de recommandations pour la saison.</p>
        </article>
        <article class="option-card">
          <h3>Analyse biomÃ©canique</h3>
          <p>Capture haute vitesse, mesures de puissance et rapport dÃ©taillÃ© rÃ©alisÃ© par notre staff performance.</p>
        </article>
      </div>
    </section>

    <section id="hebergements" class="accommodations">
      <h2 class="section-title" style="text-align: center;">HÃ©bergements partenaires</h2>
      <p style="text-align: center; max-width: 780px; margin: 0 auto 40px; color: #3a4463;">
        Des rÃ©sidences haut de gamme sÃ©lectionnÃ©es pour leur confort, leur sÃ©curitÃ© et leur proximitÃ© immÃ©diate avec nos courts.
        Nos Ã©quipes accompagnent votre choix en fonction du profil du joueur et de la pÃ©riode.
      </p>
      <div class="accommodation-grid">
        <article class="accommodation-card">
          <img src="assets/photos/1.png" alt="Lac et forÃªt d'Hostens" loading="lazy" />
          <div class="accommodation-card__body">
            <h3>Hostens â Immersion nature</h3>
            <p>Chalets premium au cÅur de la rÃ©serve naturelle. Lac privÃ©, salles de briefing et restauration healthy.</p>
            <button type="button" class="button button--primary" data-open-accommodation="hostens">DÃ©couvrir le programme</button>
          </div>
        </article>
        <article class="accommodation-card">
          <img src="assets/photos/2.png" alt="CREPS de Poitiers" loading="lazy" />
          <div class="accommodation-card__body">
            <h3>Poitiers â CREPS &amp; Futuroscope</h3>
            <p>Infrastructure nationale dâentraÃ®nement avec sortie exclusive au parc du Futuroscope.</p>
            <button type="button" class="button button--primary" data-open-accommodation="poitiers">DÃ©couvrir le programme</button>
          </div>
        </article>
        <article class="accommodation-card">
          <img src="assets/photos/3.png" alt="CREPS d'Aix-en-Provence" loading="lazy" />
          <div class="accommodation-card__body">
            <h3>Aix-en-Provence â Intensif</h3>
            <p>Cadre provenÃ§al avec accÃ¨s direct aux courts couverts, zone cryothÃ©rapie et suivi mÃ©dical.</p>
            <button type="button" class="button button--primary" data-open-accommodation="aix">DÃ©couvrir le programme</button>
          </div>
        </article>
        <article class="accommodation-card">
          <img src="assets/photos/5.png" alt="Club de tennis en bord de mer" loading="lazy" />
          <div class="accommodation-card__body">
            <h3>Cabourg â TournÃ©e de tournois</h3>
            <p>Participation Ã  une sÃ©rie de tournois FFT avec accompagnement tactique et rÃ©cupÃ©ration en thalasso.</p>
            <button type="button" class="button button--primary" data-open-accommodation="cabourg">DÃ©couvrir le programme</button>
          </div>
        </article>
      </div>
    </section>

    <section id="faq" class="faq">
      <h2 class="section-title" style="text-align: center;">Questions frÃ©quentes</h2>
      <div class="faq-grid">
        <details>
          <summary>Quel est le niveau requis pour participer ?</summary>
          <p>Nos stages couvrent du joueur club motivÃ© au compÃ©titeur classÃ©. Nous organisons un appel de qualification afin de placer chaque joueur dans le groupe qui lui garantit le plus de progression.</p>
        </details>
        <details>
          <summary>Comment se dÃ©roule la prise en charge ?</summary>
          <p>Une fois votre dossier validÃ©, un conseiller dÃ©diÃ© vous accompagne sur le transport, lâhÃ©bergement et la prÃ©paration de la semaine. Vous recevez un carnet de route complet 10 jours avant le dÃ©but du stage.</p>
        </details>
        <details>
          <summary>Peut-on ajouter des options aprÃ¨s la rÃ©servation ?</summary>
          <p>Oui, les options premium peuvent Ãªtre ajoutÃ©es jusquâÃ  7 jours avant le dÃ©but du stage, sous rÃ©serve de disponibilitÃ© des intervenants spÃ©cialisÃ©s.</p>
        </details>
        <details>
          <summary>Quel est le processus de paiement ?</summary>
          <p>Le rÃ¨glement se fait en deux temps : un acompte pour rÃ©server la place, puis le solde une fois lâensemble des prestations confirmÃ©es. Paiement sÃ©curisÃ© et Ã©chelonnable.</p>
        </details>
      </div>
    </section>

    <section class="cta-final">
      <h2 class="section-title">Besoin dâun conseil personnalisÃ© ?</h2>
      <p>Notre cellule admissions revient vers vous sous 24h pour ajuster le programme Ã  votre projet sportif et familial.</p>
      <button type="button" class="button button--primary" data-summary-cta-secondary>Parler Ã  un conseiller</button>
    </section>
  </main>

  <div class="modal" id="reservation-modal" role="dialog" aria-modal="true" aria-labelledby="reservation-title">
    <div class="modal__dialog">
      <button type="button" class="modal__close" data-close-modal aria-label="Fermer la fenÃªtre">Ã</button>
      <header class="modal__header">
        <span class="booking-summary__badge" data-modal-format>Stage premium</span>
        <h2 class="modal__title" id="reservation-title">ComplÃ©ter ma demande</h2>
        <div class="modal__stage-meta">
          <strong data-modal-stage>Stage INTENSIF</strong>
          <span data-modal-dates>23 juin â 28 juin</span>
          <span data-modal-price>1â¯600 â¬</span>
        </div>
      </header>
      <form class="reservation-form" id="reservation-form">
        <input type="hidden" name="stage" data-modal-input-stage />
        <div class="form-grid">
          <label>
            PrÃ©nom du participant
            <input type="text" name="prenom" autocomplete="given-name" required />
          </label>
          <label>
            Nom du participant
            <input type="text" name="nom" autocomplete="family-name" required />
          </label>
          <label>
            Date de naissance
            <input type="date" name="naissance" required />
          </label>
          <label>
            Classement ou niveau
            <select name="niveau" required>
              <option value="">SÃ©lectionner</option>
              <option>DÃ©butant structurÃ©</option>
              <option>IntermÃ©diaire compÃ©tition</option>
              <option>ClassÃ© FFT</option>
              <option>Projet international</option>
            </select>
          </label>
        </div>
        <div class="form-grid">
          <label>
            Email de contact
            <input type="email" name="email" autocomplete="email" required />
          </label>
          <label>
            TÃ©lÃ©phone
            <input type="tel" name="telephone" autocomplete="tel" required />
          </label>
          <label>
            HÃ©bergement souhaitÃ©
            <select name="hebergement" required>
              <option value="">SÃ©lectionner</option>
              <option>Avec hÃ©bergement</option>
              <option>Sans hÃ©bergement</option>
              <option>Solution famille</option>
            </select>
          </label>
          <label>
            Options premium
            <select name="options">
              <option value="">Ã dÃ©finir plus tard</option>
              <option>Coaching mental</option>
              <option>Suivi nutrition</option>
              <option>Conciergerie famille</option>
              <option>Analyse biomÃ©canique</option>
            </select>
          </label>
        </div>
        <label>
          Message ou attentes particuliÃ¨res
          <textarea name="message" placeholder="PrÃ©cisez vos objectifs, contraintes ou demandes spÃ©cifiques"></textarea>
        </label>
        <div class="modal__footer">
          <button type="submit" class="button button--primary">Envoyer ma demande</button>
          <small>Nous revenons vers vous sous 24h avec un devis dÃ©taillÃ© et les prochaines Ã©tapes.</small>
        </div>
      </form>
    </div>
  </div>

  <div class="modal" id="accommodation-modal" role="dialog" aria-modal="true" aria-labelledby="accommodation-title">
    <div class="modal__dialog">
      <button type="button" class="modal__close" data-close-modal aria-label="Fermer la fenÃªtre">Ã</button>
      <header class="modal__header">
        <h2 class="modal__title" id="accommodation-title">HÃ©bergement premium</h2>
        <p class="modal__stage-meta" data-accommodation-intro></p>
      </header>
      <div class="accommodation-modal__media">
        <img src="assets/photos/1.png" alt="HÃ©bergement partenaire" data-accommodation-image />
      </div>
      <p data-accommodation-description></p>
      <h3 style="margin: 0; font-size: 1.1rem; color: #050b1f;">Une journÃ©e type</h3>
      <ul class="accommodation-modal__list" data-accommodation-program></ul>
      <div class="modal__footer">
        <button type="button" class="button button--primary" data-accommodation-reserve>Je souhaite cet hÃ©bergement</button>
        <small>Indiquez votre prÃ©fÃ©rence lors de lâenvoi du dossier, nous la confirmerons selon les disponibilitÃ©s.</small>
      </div>
    </div>
  </div>

  <div class="toast" role="status" aria-live="polite" data-toast></div>

  <style>
    .visually-hidden {
      position: absolute !important;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      border: 0;
    }
  </style>

  <script>
    (function () {
      const reservationModal = document.getElementById("reservation-modal");
      const accommodationModal = document.getElementById("accommodation-modal");
      const toast = document.querySelector("[data-toast]");
      const summaryEmpty = document.querySelector("[data-summary-empty]");
      const summarySelection = document.querySelector("[data-summary-selection]");
      const summaryName = document.querySelector("[data-summary-name]");
      const summaryDates = document.querySelector("[data-summary-dates]");
      const summaryPrice = document.querySelector("[data-summary-price]");
      const summaryFormat = document.querySelector("[data-summary-format]");
      const summaryCTA = document.querySelector("[data-summary-cta]");
      const summaryCTASecondary = document.querySelector("[data-summary-cta-secondary]");
      const modalStage = document.querySelector("[data-modal-stage]");
      const modalDates = document.querySelector("[data-modal-dates]");
      const modalPrice = document.querySelector("[data-modal-price]");
      const modalFormat = document.querySelector("[data-modal-format]");
      const modalInputStage = document.querySelector("[data-modal-input-stage]");
      const reservationForm = document.getElementById("reservation-form");
      const accommodationTitle = document.getElementById("accommodation-title");
      const accommodationIntro = document.querySelector("[data-accommodation-intro]");
      const accommodationImage = document.querySelector("[data-accommodation-image]");
      const accommodationDescription = document.querySelector("[data-accommodation-description]");
      const accommodationProgram = document.querySelector("[data-accommodation-program]");
      const accommodationReserve = document.querySelector("[data-accommodation-reserve]");

      let selectedStage = null;

      const accommodations = {
        hostens: {
          title: "Hostens â Immersion nature",
          intro: "Chalets premium au cÅur de la rÃ©serve naturelle, 40 minutes de Bordeaux",
          description:
            "Cadre forestier, lac privÃ© et infrastructures sportives Ã  moins de 5 minutes Ã  pied. IdÃ©al pour les groupes recherchant un environnement ressourÃ§ant entre deux sessions.",
          image: "assets/photos/1.png",
          program: [
            "7h30 â RÃ©veil musculaire au bord du lac",
            "9h00 â Tennis intensif et ateliers tactiques",
            "12h30 â DÃ©jeuner healthy & repos encadrÃ©",
            "14h30 â Multisport : paddle, VTT, lac",
            "20h00 â SoirÃ©e briefing et animations premium"
          ]
        },
        poitiers: {
          title: "Poitiers â CREPS & Futuroscope",
          intro: "RÃ©sidence sportive dâÃ©tat avec sortie exclusive au parc du Futuroscope",
          description:
            "Chambres rÃ©novÃ©es, salle vidÃ©o et pÃ´le mÃ©dical sur place. Une journÃ©e signature est consacrÃ©e au Futuroscope avec accÃ¨s prioritaire aux attractions.",
          image: "assets/photos/2.png",
          program: [
            "7h00 â PrÃ©paration physique indoor",
            "9h30 â Ateliers tactiques & matchs UTR",
            "12h30 â DÃ©jeuner au restaurant du CREPS",
            "15h00 â Sortie Futuroscope encadrÃ©e",
            "19h30 â Debrief collectif avec staff"
          ]
        },
        aix: {
          title: "Aix-en-Provence â Intensif",
          intro: "RÃ©sidence provenÃ§ale Ã  deux pas des courts couverts et de la cryothÃ©rapie",
          description:
            "Ambiance soleil & performance : terrains extÃ©rieurs et indoor, salle de musculation haut de gamme et espace bien-Ãªtre pour optimiser la rÃ©cupÃ©ration.",
          image: "assets/photos/3.png",
          program: [
            "7h30 â Activation & mobilitÃ©",
            "9h00 â Tennis intensif filmÃ©",
            "12h00 â DÃ©jeuner mÃ©diterranÃ©en",
            "14h00 â CryothÃ©rapie & prÃ©paration mentale",
            "17h30 â Matchs dirigÃ©s au coucher du soleil"
          ]
        },
        cabourg: {
          title: "Cabourg â TournÃ©e de tournois",
          intro: "RÃ©sidence bord de mer avec programme de tournois FFT accompagnÃ©s",
          description:
            "Logement premium face mer, navettes privÃ©es vers les clubs partenaires et accÃ¨s quotidien Ã  lâespace thalasso pour favoriser la rÃ©cupÃ©ration.",
          image: "assets/photos/5.png",
          program: [
            "8h00 â Footing plage & routine mobilitÃ©",
            "10h00 â Match officiel FFT avec coaching",
            "14h00 â Analyse tactique individuelle",
            "16h30 â RÃ©cupÃ©ration thalasso & cryo",
            "20h00 â DÃ®ner gastronomique & briefing"
          ]
        }
      };

      function updateSummary(stage) {
        selectedStage = stage;
        if (summaryEmpty) {
          summaryEmpty.hidden = true;
          summaryEmpty.setAttribute("hidden", "");
        }
        if (summarySelection) {
          summarySelection.hidden = false;
          summarySelection.removeAttribute("hidden");
        }
        if (summaryName) summaryName.textContent = stage.name;
        if (summaryDates) summaryDates.textContent = stage.dates;
        if (summaryPrice) summaryPrice.textContent = stage.price;
        if (summaryFormat) summaryFormat.textContent = stage.format;
        if (summaryCTA) summaryCTA.disabled = false;
      }

      function openReservationModal() {
        if (!selectedStage) return;
        modalStage.textContent = selectedStage.name;
        modalDates.textContent = selectedStage.dates;
        modalPrice.textContent = selectedStage.price;
        modalFormat.textContent = selectedStage.format;
        modalInputStage.value = selectedStage.name;
        reservationModal.classList.add("is-visible");
        document.body.style.overflow = "hidden";
      }

      function closeModal(modal) {
        if (!modal) return;
        modal.classList.remove("is-visible");
        document.body.style.overflow = "";
      }

      function showToast(message) {
        if (!toast) return;
        toast.textContent = message;
        toast.classList.add("is-visible");
        setTimeout(() => toast.classList.remove("is-visible"), 3200);
      }

      document.querySelectorAll("[data-open-reservation]").forEach((button) => {
        button.addEventListener("click", () => {
          const card = button.closest("[data-stage]");
          if (!card) return;
          updateSummary({
            name: card.dataset.stage,
            dates: card.dataset.dates,
            format: card.dataset.format,
            price: card.dataset.price
          });
          openReservationModal();
        });
      });

      document.querySelectorAll("[data-summary-only]").forEach((button) => {
        button.addEventListener("click", () => {
          const card = button.closest("[data-stage]");
          if (!card) return;
          updateSummary({
            name: card.dataset.stage,
            dates: card.dataset.dates,
            format: card.dataset.format,
            price: card.dataset.price
          });
          showToast("Stage ajoutÃ© au rÃ©capitulatif. Cliquez sur Â« ComplÃ©ter ma demande Â» pour finaliser.");
        });
      });

      if (summaryCTA) {
        summaryCTA.addEventListener("click", () => {
          if (!selectedStage) {
            showToast("SÃ©lectionnez dâabord un stage pour complÃ©ter votre dossier.");
            return;
          }
          openReservationModal();
        });
      }

      if (summaryCTASecondary) {
        summaryCTASecondary.addEventListener("click", () => {
          if (!selectedStage) {
            showToast("Ajoutez votre stage favori afin que notre Ã©quipe vous rappelle en prioritÃ©.");
            return;
          }
          openReservationModal();
        });
      }

      reservationForm.addEventListener("submit", (event) => {
        event.preventDefault();
        closeModal(reservationModal);
        reservationForm.reset();
        showToast("Merci ! Notre Ã©quipe admissions revient vers vous sous 24h.");
      });

      document.querySelectorAll("[data-open-accommodation]").forEach((button) => {
        button.addEventListener("click", () => {
          const key = button.getAttribute("data-open-accommodation");
          const data = accommodations[key];
          if (!data) return;
          accommodationTitle.textContent = data.title;
          accommodationIntro.textContent = data.intro;
          accommodationDescription.textContent = data.description;
          accommodationImage.setAttribute("src", data.image);
          accommodationImage.setAttribute("alt", data.title);
          accommodationProgram.innerHTML = data.program.map((item) => `<li>${item}</li>`).join("");
          accommodationModal.classList.add("is-visible");
          document.body.style.overflow = "hidden";
          accommodationReserve.onclick = () => {
            closeModal(accommodationModal);
            showToast("PrÃ©fÃ©rence hÃ©bergement ajoutÃ©e. Indiquez-la lors de votre envoi.");
          };
        });
      });

      document.querySelectorAll("[data-close-modal]").forEach((button) => {
        button.addEventListener("click", () => {
          closeModal(button.closest(".modal"));
        });
      });

      [reservationModal, accommodationModal].forEach((modal) => {
        modal.addEventListener("click", (event) => {
          if (event.target === modal) {
            closeModal(modal);
          }
        });
      });

      document.addEventListener("keydown", (event) => {
        if (event.key === "Escape") {
          closeModal(reservationModal);
          closeModal(accommodationModal);
        }
      });

      const navLinks = Array.from(document.querySelectorAll(".reservation-nav a[href^='#']"));
      const sections = navLinks
        .map((link) => document.querySelector(link.getAttribute("href")))
        .filter(Boolean);

      navLinks.forEach((link) => {
        link.addEventListener("click", () => {
          navLinks.forEach((l) => l.removeAttribute("aria-current"));
          link.setAttribute("aria-current", "true");
        });
      });

      if ("IntersectionObserver" in window) {
        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                const id = `#${entry.target.id}`;
                navLinks.forEach((link) => {
                  if (link.getAttribute("href") === id) {
                    link.setAttribute("aria-current", "true");
                  } else {
                    link.removeAttribute("aria-current");
                  }
                });
              }
            });
          },
          { rootMargin: "-45% 0px -45% 0px", threshold: 0.2 }
        );

        sections.forEach((section) => observer.observe(section));
      } else if (navLinks.length) {
        navLinks[0].setAttribute("aria-current", "true");
      }
    })();
  </script>
</body>
</html>
