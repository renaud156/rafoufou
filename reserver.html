<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Réserver votre stage - Tennis Impact Academy</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600;700&family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
    <style>
      body.reservation-page {
        --reservation-night: #050916;
        --reservation-deep: #0b1630;
        --reservation-surface: rgba(14, 28, 52, 0.82);
        --reservation-gold: #f5c451;
        --reservation-gold-strong: #f0ad2c;
        --reservation-muted: rgba(223, 230, 255, 0.75);
        --reservation-contrast: #f7f8ff;
        --reservation-border: rgba(255, 255, 255, 0.12);
        --reservation-shadow: 0 32px 80px rgba(2, 10, 32, 0.45);
        --reservation-radius-lg: 28px;
        --reservation-radius-md: 20px;
        --reservation-radius-sm: 14px;
        margin: 0;
        font-family: "Poppins", "Segoe UI", sans-serif;
        background: radial-gradient(circle at 12% 18%, rgba(67, 95, 255, 0.16), transparent 55%),
          linear-gradient(160deg, var(--reservation-night) 0%, #020714 45%, #030a1b 100%);
        color: var(--reservation-contrast);
        line-height: 1.7;
        min-height: 100vh;
        scroll-padding-top: 120px;
      }

      .reservation-page * {
        box-sizing: border-box;
      }

      a {
        color: inherit;
      }

      a:hover,
      a:focus-visible {
        color: var(--reservation-gold);
      }

      .reservation-container {
        width: min(1180px, 94vw);
        margin: 0 auto;
      }

      .reservation-navbar {
        position: fixed;
        inset: 0 0 auto 0;
        z-index: 80;
        backdrop-filter: blur(22px);
        background: linear-gradient(120deg, rgba(4, 10, 24, 0.95), rgba(8, 18, 40, 0.9));
        border-bottom: 1px solid rgba(255, 255, 255, 0.08);
      }

      .reservation-navbar__inner {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 24px;
        padding: 20px 0;
      }

      .reservation-navbar__brand {
        display: flex;
        flex-direction: column;
        gap: 2px;
        font-weight: 600;
        letter-spacing: 0.04em;
        text-transform: uppercase;
      }

      .reservation-navbar__brand span:first-child {
        font-size: 0.65rem;
        color: var(--reservation-muted);
      }

      .reservation-navbar__brand span:last-child {
        font-family: "Playfair Display", serif;
        font-size: 1.35rem;
      }

      .reservation-navbar__toggle {
        display: none;
        align-items: center;
        justify-content: center;
        width: 44px;
        height: 44px;
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.16);
        background: rgba(255, 255, 255, 0.04);
        color: inherit;
        cursor: pointer;
        transition: background 0.3s ease;
      }

      .reservation-navbar__toggle:hover,
      .reservation-navbar__toggle:focus-visible {
        background: rgba(255, 255, 255, 0.1);
      }

      .reservation-navbar__menu {
        display: flex;
        align-items: center;
        justify-content: flex-end;
        gap: 18px;
        flex-wrap: wrap;
        gap: 18px;
      }

      .reservation-navbar__menu a {
        font-size: 0.95rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        padding: 10px 14px;
        border-radius: 999px;
        transition: background 0.3s ease, color 0.3s ease;
      }

      .reservation-navbar__menu a:hover,
      .reservation-navbar__menu a:focus-visible {
        background: rgba(255, 255, 255, 0.12);
      }

      .reservation-navbar__cta {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        padding: 12px 20px;
        border-radius: 999px;
        background: linear-gradient(135deg, var(--reservation-gold), var(--reservation-gold-strong));
        color: #061126;
        font-weight: 600;
        letter-spacing: 0.06em;
        text-transform: uppercase;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .reservation-navbar__cta:hover,
      .reservation-navbar__cta:focus-visible {
        transform: translateY(-2px);
        box-shadow: 0 18px 50px rgba(10, 20, 48, 0.5);
      }

      .reservation-navbar__mobile {
        display: none;
        position: absolute;
        inset: 100% 0 auto;
        padding: 24px 0 28px;
        background: linear-gradient(150deg, rgba(6, 16, 38, 0.98), rgba(5, 14, 34, 0.98));
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 20px 40px rgba(2, 10, 30, 0.45);
      }

      .reservation-navbar__mobile a {
        display: block;
        padding: 14px 0;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        border-bottom: 1px solid rgba(255, 255, 255, 0.06);
      }

      .reservation-navbar__mobile a:last-child {
        border-bottom: 0;
      }

      .reservation-hero {
        position: relative;
        padding: clamp(140px, 18vw, 180px) 0 120px;
        background: linear-gradient(140deg, rgba(6, 14, 32, 0.88), rgba(8, 20, 46, 0.82)),
          url("assets/photos/3.png") center/cover;
        overflow: hidden;
      }

      .reservation-hero::before {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(140deg, rgba(3, 9, 24, 0.9), rgba(6, 16, 38, 0.7));
        z-index: 0;
      }

      .reservation-hero::after {
        content: "";
        position: absolute;
        inset: 0;
        background: radial-gradient(circle at 22% 20%, rgba(245, 196, 81, 0.18), transparent 45%),
          radial-gradient(circle at 78% 30%, rgba(82, 122, 255, 0.2), transparent 60%);
        mix-blend-mode: screen;
        opacity: 0.8;
      }

      .reservation-hero__inner {
        position: relative;
        z-index: 1;
        display: grid;
        gap: clamp(36px, 5vw, 48px);
        max-width: 980px;
      }

      .reservation-hero__badge {
        display: inline-flex;
        align-items: center;
        gap: 12px;
        padding: 10px 18px;
        border-radius: 999px;
        border: 1px solid rgba(245, 196, 81, 0.35);
        background: rgba(245, 196, 81, 0.12);
        color: var(--reservation-gold);
        letter-spacing: 0.38em;
        text-transform: uppercase;
        font-size: 0.72rem;
      }

      .reservation-hero__badge::before {
        content: "";
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: currentColor;
      }

      .reservation-hero h1 {
        font-family: "Playfair Display", serif;
        font-size: clamp(3rem, 4.6vw, 4.8rem);
        letter-spacing: -0.01em;
        margin: 0;
      }

      .reservation-hero p {
        margin: 0;
        color: var(--reservation-muted);
        font-size: clamp(1.05rem, 1.4vw, 1.3rem);
        max-width: 720px;
      }

      .reservation-hero__cta {
        display: flex;
        flex-wrap: wrap;
        gap: 18px;
      }

      .reservation-button {
        --btn-bg: rgba(255, 255, 255, 0.06);
        --btn-color: var(--reservation-contrast);
        --btn-border: rgba(255, 255, 255, 0.18);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        padding: 14px 26px;
        border-radius: 999px;
        border: 1px solid var(--btn-border);
        background: var(--btn-bg);
        color: var(--btn-color);
        font-weight: 600;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        cursor: pointer;
        transition: transform 0.3s ease, box-shadow 0.3s ease, background 0.3s ease;
      }

      .reservation-button:hover,
      .reservation-button:focus-visible {
        transform: translateY(-2px);
        box-shadow: 0 16px 48px rgba(5, 14, 36, 0.5);
      }

      .reservation-button--primary {
        --btn-bg: linear-gradient(135deg, var(--reservation-gold), var(--reservation-gold-strong));
        --btn-color: #061021;
        --btn-border: transparent;
      }

      .reservation-hero__stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 20px;
      }

      .reservation-hero__stat {
        padding: 20px 22px;
        border-radius: var(--reservation-radius-md);
        background: rgba(255, 255, 255, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.08);
        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.04);
      }

      .reservation-hero__stat strong {
        display: block;
        font-family: "Playfair Display", serif;
        font-size: clamp(1.6rem, 2vw, 2.2rem);
        color: var(--reservation-gold);
      }

      .reservation-hero__stat span {
        color: var(--reservation-muted);
        font-size: 0.92rem;
      }

      .reservation-body {
        position: relative;
        display: grid;
        gap: 36px;
        margin: -80px auto 120px;
      }

      @media (min-width: 1100px) {
        .reservation-body {
          grid-template-columns: minmax(0, 1fr) minmax(320px, 360px);
          align-items: start;
        }
      }

      .reservation-section {
        position: relative;
        margin-bottom: 72px;
        padding: clamp(42px, 5vw, 54px);
        border-radius: var(--reservation-radius-lg);
        background: rgba(8, 18, 42, 0.78);
        border: 1px solid rgba(255, 255, 255, 0.06);
        box-shadow: var(--reservation-shadow);
        overflow: hidden;
      }

      .reservation-section::after {
        content: "";
        position: absolute;
        inset: 0;
        pointer-events: none;
        mix-blend-mode: screen;
        opacity: 0.4;
        background: radial-gradient(circle at 18% 18%, rgba(245, 196, 81, 0.12), transparent 52%),
          radial-gradient(circle at 82% 24%, rgba(88, 128, 255, 0.12), transparent 60%);
      }

      .reservation-section > * {
        position: relative;
        z-index: 1;
      }

      .reservation-section__eyebrow {
        display: inline-flex;
        align-items: center;
        gap: 12px;
        letter-spacing: 0.32em;
        text-transform: uppercase;
        color: var(--reservation-gold);
        font-size: 0.78rem;
        margin-bottom: 18px;
      }

      .reservation-section__eyebrow::before,
      .reservation-section__eyebrow::after {
        content: "";
        width: 48px;
        height: 1px;
        background: rgba(245, 196, 81, 0.35);
      }

      .reservation-section h2 {
        font-family: "Playfair Display", serif;
        font-size: clamp(2.1rem, 2.7vw, 3rem);
        margin: 12px 0 16px;
      }

      .reservation-section p {
        margin: 0;
        color: var(--reservation-muted);
      }

      .calendar-shell {
        display: grid;
        gap: 32px;
      }

      @media (min-width: 920px) {
        .calendar-shell {
          grid-template-columns: minmax(0, 1.1fr) minmax(0, 0.9fr);
          align-items: start;
        }
      }

      .calendar-card {
        border-radius: var(--reservation-radius-md);
        border: 1px solid rgba(255, 255, 255, 0.08);
        background: rgba(6, 14, 32, 0.7);
        padding: 26px;
      }

      .calendar-nav {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 18px;
      }

      .calendar-nav__button {
        width: 40px;
        height: 40px;
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.14);
        background: rgba(255, 255, 255, 0.05);
        color: inherit;
        cursor: pointer;
        transition: background 0.3s ease;
      }

      .calendar-nav__button:hover,
      .calendar-nav__button:focus-visible {
        background: rgba(255, 255, 255, 0.1);
      }

      .calendar-nav__label {
        font-weight: 600;
        letter-spacing: 0.1em;
        text-transform: uppercase;
      }

      .calendar-grid {
        display: grid;
        grid-template-columns: repeat(7, minmax(0, 1fr));
        gap: 8px;
      }

      .calendar-grid__dayname {
        text-align: center;
        font-size: 0.75rem;
        letter-spacing: 0.2em;
        text-transform: uppercase;
        color: rgba(223, 230, 255, 0.55);
        padding-bottom: 8px;
      }

      .calendar-day {
        min-height: 68px;
        border-radius: 16px;
        border: 1px solid rgba(255, 255, 255, 0.06);
        background: rgba(255, 255, 255, 0.04);
        padding: 12px 10px;
        display: grid;
        align-content: start;
        gap: 6px;
        font-size: 0.92rem;
        cursor: default;
      }

      .calendar-day--empty {
        border: none;
        background: transparent;
      }

      .calendar-day__number {
        font-weight: 600;
        color: rgba(255, 255, 255, 0.75);
      }

      .calendar-day__stage {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        font-size: 0.7rem;
        text-transform: uppercase;
        letter-spacing: 0.16em;
        border-radius: 999px;
        padding: 4px 10px;
        background: rgba(245, 196, 81, 0.14);
        color: var(--reservation-gold);
      }

      .calendar-day--selectable {
        cursor: pointer;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .calendar-day--selectable:hover,
      .calendar-day--selectable:focus-visible {
        transform: translateY(-2px);
        box-shadow: 0 16px 40px rgba(8, 20, 46, 0.4);
      }

      .calendar-day--active {
        border-color: rgba(245, 196, 81, 0.6);
        box-shadow: 0 0 0 1px rgba(245, 196, 81, 0.35), 0 20px 48px rgba(6, 16, 40, 0.4);
      }

      .calendar-details {
        border-radius: var(--reservation-radius-md);
        border: 1px solid rgba(255, 255, 255, 0.08);
        background: rgba(255, 255, 255, 0.04);
        padding: 32px;
        display: grid;
        gap: 18px;
      }

      .calendar-details__badge {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 6px 14px;
        border-radius: 999px;
        background: rgba(245, 196, 81, 0.14);
        color: var(--reservation-gold);
        letter-spacing: 0.2em;
        text-transform: uppercase;
        font-size: 0.72rem;
      }

      .calendar-details h3 {
        font-family: "Playfair Display", serif;
        font-size: 1.8rem;
        margin: 0;
      }

      .calendar-details__meta {
        display: grid;
        gap: 8px;
        font-size: 0.95rem;
        color: var(--reservation-muted);
      }

      .calendar-details__meta strong {
        color: var(--reservation-contrast);
      }

      .calendar-details__features {
        display: grid;
        gap: 8px;
        padding: 0;
        margin: 0;
        list-style: none;
      }

      .calendar-details__features li::before {
        content: "•";
        color: var(--reservation-gold);
        margin-right: 10px;
      }

      .stage-grid {
        display: grid;
        gap: 28px;
      }

      @media (min-width: 840px) {
        .stage-grid {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
      }

      .stage-card {
        border-radius: var(--reservation-radius-md);
        border: 1px solid rgba(255, 255, 255, 0.08);
        background: rgba(6, 16, 36, 0.72);
        padding: 28px;
        display: grid;
        gap: 18px;
        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.04);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .stage-card:hover,
      .stage-card:focus-within {
        transform: translateY(-6px);
        box-shadow: 0 24px 60px rgba(8, 20, 46, 0.5);
      }

      .stage-card__header {
        display: grid;
        gap: 6px;
      }

      .stage-card__eyebrow {
        text-transform: uppercase;
        letter-spacing: 0.22em;
        font-size: 0.72rem;
        color: rgba(223, 230, 255, 0.7);
      }

      .stage-card h3 {
        margin: 0;
        font-family: "Playfair Display", serif;
        font-size: 1.6rem;
      }

      .stage-card__price {
        font-size: 1.05rem;
        color: var(--reservation-gold);
        font-weight: 600;
      }

      .stage-card__meta {
        display: grid;
        gap: 8px;
        font-size: 0.95rem;
        color: var(--reservation-muted);
      }

      .stage-card__features {
        margin: 0;
        padding: 0;
        list-style: none;
        display: grid;
        gap: 6px;
      }

      .stage-card__features li::before {
        content: "⁘";
        color: var(--reservation-gold);
        margin-right: 8px;
      }

      .stage-card__actions {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
      }

      .reservation-cart {
        position: relative;
        border-radius: var(--reservation-radius-lg);
        border: 1px solid rgba(255, 255, 255, 0.08);
        background: linear-gradient(165deg, rgba(8, 18, 42, 0.92), rgba(4, 12, 30, 0.9));
        box-shadow: var(--reservation-shadow);
        padding: clamp(32px, 5vw, 42px);
        display: grid;
        gap: 24px;
      }

      @media (min-width: 1100px) {
        .reservation-cart {
          position: sticky;
          top: 120px;
        }
      }

      .reservation-cart__header {
        display: grid;
        gap: 8px;
      }

      .reservation-cart__header span {
        letter-spacing: 0.3em;
        text-transform: uppercase;
        font-size: 0.72rem;
        color: rgba(223, 230, 255, 0.7);
      }

      .reservation-cart__header h3 {
        margin: 0;
        font-family: "Playfair Display", serif;
        font-size: 1.9rem;
      }

      .reservation-cart__items {
        display: grid;
        gap: 18px;
      }

      .cart-item {
        border-radius: var(--reservation-radius-sm);
        border: 1px solid rgba(255, 255, 255, 0.1);
        background: rgba(255, 255, 255, 0.05);
        padding: 18px;
        display: grid;
        gap: 12px;
      }

      .cart-item__header {
        display: flex;
        justify-content: space-between;
        gap: 12px;
      }

      .cart-item__header strong {
        font-family: "Playfair Display", serif;
        font-size: 1.1rem;
      }

      .cart-item__remove {
        background: none;
        border: 0;
        color: rgba(223, 230, 255, 0.65);
        cursor: pointer;
        font-size: 0.85rem;
        letter-spacing: 0.14em;
        text-transform: uppercase;
      }

      .cart-item__remove:hover,
      .cart-item__remove:focus-visible {
        color: var(--reservation-gold);
      }

      .cart-item__meta {
        font-size: 0.88rem;
        color: var(--reservation-muted);
        display: grid;
        gap: 4px;
      }

      .cart-item__controls {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
      }

      .cart-item__quantity {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: rgba(255, 255, 255, 0.05);
        padding: 6px 12px;
      }

      .cart-item__quantity button {
        width: 26px;
        height: 26px;
        border-radius: 50%;
        border: 0;
        background: rgba(245, 196, 81, 0.18);
        color: var(--reservation-gold);
        cursor: pointer;
      }

      .cart-item__options {
        display: grid;
        gap: 8px;
        font-size: 0.9rem;
        color: var(--reservation-muted);
      }

      .cart-item__options label {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        cursor: pointer;
      }

      .cart-item__price {
        text-align: right;
        font-weight: 600;
        color: var(--reservation-gold);
      }

      .reservation-cart__empty {
        border-radius: var(--reservation-radius-sm);
        border: 1px dashed rgba(255, 255, 255, 0.18);
        padding: 24px;
        text-align: center;
        color: var(--reservation-muted);
      }

      .reservation-cart__total {
        border-top: 1px solid rgba(255, 255, 255, 0.12);
        padding-top: 18px;
        display: grid;
        gap: 6px;
        font-size: 0.95rem;
      }

      .reservation-cart__total strong {
        font-size: 1.2rem;
        color: var(--reservation-gold);
      }

      .reservation-cart__fineprint {
        font-size: 0.8rem;
        color: rgba(223, 230, 255, 0.6);
      }

      .reservation-pillars {
        display: grid;
        gap: 18px;
        margin-top: 28px;
      }

      .reservation-pillar {
        border-radius: var(--reservation-radius-sm);
        border: 1px solid rgba(255, 255, 255, 0.08);
        background: rgba(255, 255, 255, 0.05);
        padding: 20px 24px;
        display: grid;
        gap: 10px;
      }

      .reservation-destinations {
        display: grid;
        gap: 18px;
        margin-top: 28px;
      }

      @media (min-width: 760px) {
        .reservation-destinations {
          grid-template-columns: repeat(3, minmax(0, 1fr));
        }
      }

      .reservation-destination {
        border-radius: var(--reservation-radius-sm);
        border: 1px solid rgba(255, 255, 255, 0.08);
        background: rgba(6, 16, 36, 0.72);
        padding: 22px;
        display: grid;
        gap: 8px;
      }

      .reservation-options {
        display: grid;
        gap: 18px;
        margin-top: 28px;
      }

      @media (min-width: 760px) {
        .reservation-options {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
      }

      .reservation-option {
        border-radius: var(--reservation-radius-sm);
        border: 1px solid rgba(255, 255, 255, 0.08);
        background: rgba(255, 255, 255, 0.05);
        padding: 22px;
        display: grid;
        gap: 6px;
      }

      .reservation-option strong {
        color: var(--reservation-contrast);
      }

      .reservation-faq {
        display: grid;
        gap: 18px;
        margin-top: 28px;
      }

      .reservation-faq__item {
        border-radius: var(--reservation-radius-sm);
        border: 1px solid rgba(255, 255, 255, 0.08);
        background: rgba(6, 14, 32, 0.75);
        padding: 22px;
        display: grid;
        gap: 8px;
      }

      .reservation-faq__item h3 {
        margin: 0;
        font-size: 1.1rem;
      }

      .reservation-toast {
        position: fixed;
        inset: auto 50% 32px auto;
        transform: translateX(50%);
        display: none;
        align-items: center;
        gap: 14px;
        padding: 16px 22px;
        border-radius: 999px;
        background: rgba(245, 196, 81, 0.16);
        border: 1px solid rgba(245, 196, 81, 0.4);
        color: var(--reservation-gold);
        font-weight: 600;
        letter-spacing: 0.1em;
        text-transform: uppercase;
        box-shadow: 0 20px 50px rgba(5, 12, 28, 0.4);
        z-index: 100;
      }

      .reservation-toast[data-active="true"] {
        display: inline-flex;
        animation: toast-in 0.4s ease;
      }

      @keyframes toast-in {
        from {
          opacity: 0;
          transform: translateX(50%) translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateX(50%) translateY(0);
        }
      }

      .reservation-modal {
        position: fixed;
        inset: 0;
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 120;
      }

      .reservation-modal[data-open="true"] {
        display: flex;
      }

      .reservation-modal__overlay {
        position: absolute;
        inset: 0;
        background: rgba(2, 8, 22, 0.8);
        backdrop-filter: blur(6px);
      }

      .reservation-modal__dialog {
        position: relative;
        z-index: 1;
        width: min(720px, 92vw);
        border-radius: var(--reservation-radius-lg);
        border: 1px solid rgba(255, 255, 255, 0.08);
        background: linear-gradient(150deg, rgba(6, 16, 36, 0.96), rgba(3, 9, 22, 0.96));
        box-shadow: var(--reservation-shadow);
        padding: clamp(32px, 6vw, 48px);
        display: grid;
        gap: 24px;
      }

      .reservation-modal__close {
        position: absolute;
        inset: 22px 22px auto auto;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        border: 0;
        background: rgba(255, 255, 255, 0.08);
        color: inherit;
        cursor: pointer;
      }

      .reservation-modal h2 {
        margin: 0;
        font-family: "Playfair Display", serif;
        font-size: clamp(1.9rem, 2.6vw, 2.4rem);
      }

      .reservation-modal__summary {
        border-radius: var(--reservation-radius-sm);
        border: 1px solid rgba(255, 255, 255, 0.1);
        background: rgba(255, 255, 255, 0.05);
        padding: 20px 22px;
        display: grid;
        gap: 8px;
        font-size: 0.92rem;
      }

      .reservation-modal__summary strong {
        font-family: "Playfair Display", serif;
        color: var(--reservation-gold);
      }

      .reservation-form {
        display: grid;
        gap: 18px;
      }

      .reservation-form__group {
        display: grid;
        gap: 6px;
      }

      .reservation-form label {
        font-size: 0.82rem;
        letter-spacing: 0.16em;
        text-transform: uppercase;
        color: rgba(223, 230, 255, 0.7);
      }

      .reservation-form input,
      .reservation-form select,
      .reservation-form textarea {
        border-radius: 14px;
        border: 1px solid rgba(255, 255, 255, 0.16);
        background: rgba(255, 255, 255, 0.04);
        color: inherit;
        padding: 14px 16px;
        font: inherit;
        transition: border 0.3s ease;
      }

      .reservation-form input:focus-visible,
      .reservation-form select:focus-visible,
      .reservation-form textarea:focus-visible {
        outline: none;
        border-color: rgba(245, 196, 81, 0.6);
      }

      .reservation-form textarea {
        min-height: 120px;
        resize: vertical;
      }

      .reservation-form__inline {
        display: grid;
        gap: 18px;
      }

      @media (min-width: 640px) {
        .reservation-form__inline {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
      }

      .reservation-form__choices {
        display: grid;
        gap: 12px;
      }

      .reservation-form__choices label {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        cursor: pointer;
      }

      .reservation-form__submit {
        justify-self: start;
      }

      @media (max-width: 1024px) {
        .reservation-navbar__menu {
        .reservation-navbar__menu,
        .reservation-navbar__cta {
          display: none;
        }

        .reservation-navbar__toggle {
          display: inline-flex;
        }

        .reservation-navbar[data-mobile-open="true"] .reservation-navbar__mobile {
          display: block;
        }
      }

      @media (max-width: 820px) {
        body.reservation-page {
          scroll-padding-top: 96px;
        }

        .reservation-body {
          margin: -60px auto 90px;
        }

        .reservation-cart {
          position: static;
        }
      }

      @media (max-width: 640px) {
        .reservation-section {
          margin-bottom: 48px;
        }

        .reservation-hero__stats {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }

        .reservation-toast {
          inset: auto 16px 24px auto;
          transform: none;
        }
      }
    </style>
  </head>
  <body class="reservation-page">
    <header class="reservation-navbar" data-reservation-nav>
      <div class="reservation-container reservation-navbar__inner">
        <a class="reservation-navbar__brand" href="index.html">
          <span>Tennis Impact Academy</span>
          <span>Réserver un stage</span>
        </a>
        <button class="reservation-navbar__toggle" type="button" data-nav-toggle aria-expanded="false" aria-controls="reservationNavMenu">
          ☰
        </button>
        <nav class="reservation-navbar__menu" id="reservationNavMenu">
          <a href="index.html#notre-academie">Notre Académie</a>
          <a href="index.html#stage-jeunes">Stages Jeunes</a>
          <a href="index.html#tennis-ecole">Tennis à l'école</a>
          <a href="index.html#lecon-individuelle">Leçons individuelles</a>
          <a href="#calendrier">Calendrier</a>
          <a href="#stages">Programmes</a>
          <a href="#calendrier">Calendrier</a>
          <a href="#stages">Stages</a>
          <a href="#methodologie">Méthodologie</a>
          <a href="#destinations">Lieux</a>
          <a href="#options">Options</a>
          <a href="#faq">FAQ</a>
        </nav>
        <button class="reservation-navbar__cta" type="button" data-open-modal>Voir le panier</button>
      </div>
      <div class="reservation-container reservation-navbar__mobile" data-nav-mobile>
        <a href="index.html#notre-academie">Notre Académie</a>
        <a href="index.html#stage-jeunes">Stages Jeunes</a>
        <a href="index.html#tennis-ecole">Tennis à l'école</a>
        <a href="index.html#lecon-individuelle">Leçons individuelles</a>
        <a href="#calendrier">Calendrier</a>
        <a href="#stages">Programmes</a>
        <a href="#methodologie">Méthodologie</a>
        <a href="#destinations">Lieux</a>
        <a href="#options">Options</a>
        <a class="reservation-navbar__cta" href="#" data-open-modal>Conciergerie</a>
      </div>
      <div class="reservation-container reservation-navbar__mobile" data-nav-mobile>
        <a href="#calendrier">Calendrier</a>
        <a href="#stages">Stages signature</a>
        <a href="#methodologie">Méthodologie</a>
        <a href="#destinations">Destinations</a>
        <a href="#options">Options premium</a>
        <a href="#faq">FAQ</a>
      </div>
    </header>

    <main>
      <section class="reservation-hero" id="top">
        <div class="reservation-container reservation-hero__inner">
          <span class="reservation-hero__badge">Expérience Signature</span>
          <h1>Réservez votre stage premium en ligne</h1>
          <p>
            Composez votre séjour d&rsquo;exception&nbsp;: sélectionnez vos dates, ajoutez vos options et validez votre demande directement sur le site.
            Notre équipe vous accompagne à chaque étape.
          </p>
          <div class="reservation-hero__cta">
            <a class="reservation-button reservation-button--primary" href="#calendrier">Explorer le calendrier</a>
            <button class="reservation-button" type="button" data-open-modal>Voir mon panier</button>
          <h1>Réservez votre stage premium avec notre conciergerie dédiée</h1>
          <p>
            Composez votre séjour d&rsquo;exception&nbsp;: sélectionnez vos dates, ajoutez les options hôtelières et transport, puis laissez notre équipe
            conciergerie orchestrer chaque détail pour vous.
          </p>
          <div class="reservation-hero__cta">
            <a class="reservation-button reservation-button--primary" href="#calendrier">Explorer le calendrier</a>
            <button class="reservation-button" type="button" data-open-modal>Parler à la conciergerie</button>
          </div>
          <div class="reservation-hero__stats">
            <div class="reservation-hero__stat">
              <strong>12 coachs experts</strong>
              <span>Préparateurs physiques, mental &amp; vidéo dédiés à votre progression</span>
            </div>
            <div class="reservation-hero__stat">
              <strong>5 destinations</strong>
              <span>CREPS et domaines partenaires sélectionnés partout en France</span>
            </div>
            <div class="reservation-hero__stat">
              <strong>100% sur-mesure</strong>
              <span>Options hébergement et transport à activer selon vos besoins</span>
              <strong>4 destinations</strong>
              <span>Académies &amp; resorts partenaires en France et à l&rsquo;international</span>
            </div>
            <div class="reservation-hero__stat">
              <strong>100% sur-mesure</strong>
              <span>Options hébergement, transport et conciergerie privée</span>
            </div>
          </div>
        </div>
      </section>

      <div class="reservation-container reservation-body">
        <div class="reservation-content">
          <section class="reservation-section" id="calendrier">
            <span class="reservation-section__eyebrow">Planifiez votre venue</span>
            <h2>Un calendrier interactif pour trouver le stage idéal</h2>
            <p>
              Naviguez dans nos prochaines sessions, découvrez les disponibilités en temps réel et ajoutez vos stages préférés à votre panier.
              Naviguez dans nos prochaines sessions, découvrez les disponibilités en temps réel et ajoutez vos stages préférés à votre panier intelligent.
            </p>
            <div class="calendar-shell">
              <div class="calendar-card">
                <div class="calendar-nav">
                  <button class="calendar-nav__button" type="button" data-calendar-prev aria-label="Mois précédent">‹</button>
                  <span class="calendar-nav__label" data-calendar-label>Juillet 2024</span>
                  <button class="calendar-nav__button" type="button" data-calendar-next aria-label="Mois suivant">›</button>
                </div>
                <div class="calendar-grid" data-calendar-grid>
                  <div class="calendar-grid__dayname">Lun</div>
                  <div class="calendar-grid__dayname">Mar</div>
                  <div class="calendar-grid__dayname">Mer</div>
                  <div class="calendar-grid__dayname">Jeu</div>
                  <div class="calendar-grid__dayname">Ven</div>
                  <div class="calendar-grid__dayname">Sam</div>
                  <div class="calendar-grid__dayname">Dim</div>
                </div>
              </div>
              <aside class="calendar-details" data-calendar-details>
                <span class="calendar-details__badge">Sélection</span>
                <h3>Choisissez une date pour afficher un stage</h3>
                <div class="calendar-details__meta">
                  <span>Nos disponibilités s&rsquo;actualisent en continu.</span>
                  <span>Utilisez le calendrier pour sélectionner vos semaines idéales et ajoutez-les au panier.</span>
                </div>
              </aside>
            </div>
          </section>

          <section class="reservation-section" id="stages">
            <span class="reservation-section__eyebrow">Nos programmes signature</span>
            <h2>Des stages premium adaptés à chaque profil</h2>
            <p>
              Elite, performance ou détente active&nbsp;: sélectionnez le stage qui correspond à vos objectifs. Chaque réservation peut être accompagnée
              d&rsquo;options personnalisées.
            </p>
            <div class="stage-grid" data-stage-list></div>
          </section>

          <section class="reservation-section" id="methodologie">
            <span class="reservation-section__eyebrow">Notre méthodologie</span>
            <h2>Une méthode éprouvée pour des résultats durables</h2>
            <p>
              Notre équipe conjugue expertise technique, préparation physique et suivi mental pour un accompagnement à 360°. Chaque participant
              bénéficie d&rsquo;un diagnostic individuel et d&rsquo;un plan de progression personnalisé.
            </p>
            <div class="reservation-pillars">
              <div class="reservation-pillar">
                <strong>Coaching quotidien</strong>
                <span>4h d&rsquo;entraînement terrain, ateliers tactiques et séances vidéo pour affiner votre jeu.</span>
              </div>
              <div class="reservation-pillar">
                <strong>Suivi performance</strong>
                <span>Bilans de début et fin de stage, statistiques clés et recommandations d&rsquo;entraînement.</span>
              </div>
              <div class="reservation-pillar">
                <strong>Bien-être &amp; récupération</strong>
                <span>Préparation physique, cryothérapie, nutrition personnalisée et accès spa selon destination.</span>
              </div>
            </div>
          </section>

          <section class="reservation-section" id="destinations">
            <span class="reservation-section__eyebrow">Nos destinations</span>
            <h2>Des cadres d&rsquo;exception pour vivre le tennis autrement</h2>
            <p>
              Les stages Tennis Impact se déroulent dans des infrastructures d&rsquo;élite, choisies pour la qualité des terrains, de l&rsquo;hébergement et de l&rsquo;encadrement.
            </p>
            <div class="reservation-destinations">
              <div class="reservation-destination">
                <strong>CREPS de Poitiers</strong>
                <span>Centre fédéral dédié à la haute performance, courts couverts et extérieurs, hébergements rénovés sur place.</span>
              </div>
              <div class="reservation-destination">
                <strong>CREPS de Toulouse</strong>
                <span>Installations modernes, préparation physique intégrée et atmosphère dynamique au cœur de l’Occitanie.</span>
              </div>
              <div class="reservation-destination">
                <strong>CREPS d&rsquo;Aix-en-Provence</strong>
                <span>Climat méditerranéen, équipes médicales sur site et courts en terre battue pour un jeu tout en toucher.</span>
              </div>
              <div class="reservation-destination">
                <strong>Domaine des Landes Girondines</strong>
                <span>Immersion nature, hébergements lodges et terrains au milieu de la forêt pour un stage intensif et ressourçant.</span>
              </div>
              <div class="reservation-destination">
                <strong>Cabourg</strong>
                <span>Station balnéaire mythique, courts en bord de mer et ambiance conviviale pour conjuguer progrès et évasion.</span>
              Sélectionnez votre atmosphère&nbsp;: académie intensive, resort 5 étoiles ou immersion nature. Chaque lieu propose un service conciergerie.
            </p>
            <div class="reservation-destinations">
              <div class="reservation-destination">
                <strong>Arcachon – Côte Atlantique</strong>
                <span>Résidence 5★ avec spa marin, accès direct aux courts en terre battue et coaching personnalisé sur place.</span>
              </div>
              <div class="reservation-destination">
                <strong>Paris – Lagardère Paris Racing</strong>
                <span>Club privé iconique, cours couverts &amp; extérieurs, accès lounge et services premium en centre-ville.</span>
              </div>
              <div class="reservation-destination">
                <strong>Val d&rsquo;Isère – Alpes</strong>
                <span>Altitude &amp; oxygénation, sessions outdoor et préparation physique ciblée avec activités montagne.</span>
              </div>
              <div class="reservation-destination">
                <strong>Marbella – Espagne</strong>
                <span>Resort balnéaire, 10 courts, club house gastronomique et conciergerie francophone.</span>
              </div>
              <div class="reservation-destination">
                <strong>Hostens – Landes</strong>
                <span>Immersion nature avec hébergements éco-responsables, programme intensif &amp; activités lacustres.</span>
              </div>
              <div class="reservation-destination">
                <strong>Monaco – Monte-Carlo</strong>
                <span>Accès privilégié aux installations du Monte-Carlo Country Club et service chauffeur dédié.</span>
              </div>
            </div>
          </section>

          <section class="reservation-section" id="options">
            <span class="reservation-section__eyebrow">Options sur-mesure</span>
            <h2>Composez votre expérience à la carte</h2>
            <p>
              Hébergement, transport, suivi vidéo ou préparation mentale&nbsp;: activez les services complémentaires qui rendent votre stage totalement personnalisé.
            </p>
            <div class="reservation-options">
              <div class="reservation-option">
                <strong>Hébergement premium</strong>
                <span>Chambres sur site ou partenaires 4★/5★ avec pension complète et espaces bien-être dédiés.</span>
              </div>
              <div class="reservation-option">
                <strong>Transferts organisés</strong>
                <span>Accueil gare ou aéroport, navettes quotidiennes et coordination des déplacements pendant le stage.</span>
            <h2>Composez votre expérience avec notre conciergerie</h2>
            <p>
              Hébergement, transport, soirées privées ou accompagnement scolaire&nbsp;: notre équipe personnalise chaque séjour pour qu&rsquo;il soit à la
              hauteur de vos attentes.
            </p>
            <div class="reservation-options">
              <div class="reservation-option">
                <strong>Hébergement 5★ partenaire</strong>
                <span>Chambres premium avec petit-déjeuner gourmet, room service et accès spa illimité.</span>
              </div>
              <div class="reservation-option">
                <strong>Transferts &amp; chauffeur privé</strong>
                <span>Accueil aéroport/gare, chauffeur dédié et déplacements locaux organisés par la conciergerie.</span>
              </div>
              <div class="reservation-option">
                <strong>Nutrition &amp; bien-être</strong>
                <span>Programme nutritionnel, séances de stretching, cryothérapie et massages sportifs sur réservation.</span>
              </div>
              <div class="reservation-option">
                <strong>Expériences exclusives</strong>
                <span>Rencontre avec des joueurs professionnels, soirées privées et visites backstage de tournois.</span>
              </div>
            </div>
          </section>

          <section class="reservation-section" id="faq">
            <span class="reservation-section__eyebrow">FAQ</span>
            <h2>Vos questions fréquentes</h2>
            <p>
              Notre équipe est disponible 7j/7 pour répondre à vos demandes spécifiques et préparer votre séjour de rêve.
            </p>
            <div class="reservation-faq">
              <div class="reservation-faq__item">
                <h3>Quand dois-je réserver mon hébergement&nbsp;?</h3>
                <p>Nous vous conseillons de réserver 4 à 6 semaines à l&rsquo;avance pour garantir la disponibilité des suites partenaires.</p>
              </div>
              <div class="reservation-faq__item">
                <h3>Puis-je venir accompagné&nbsp;?</h3>
                <p>Oui, nous adaptons l&rsquo;hébergement et les options bien-être pour les accompagnants (parents, conjoints, amis).</p>
              </div>
              <div class="reservation-faq__item">
                <h3>Le transport est-il inclus&nbsp;?</h3>
                <p>Le transport est optionnel. Vous pouvez sélectionner les transferts depuis la gare ou l&rsquo;aéroport directement dans le panier.</p>
              </div>
              <div class="reservation-faq__item">
                <h3>Comment se passe la confirmation&nbsp;?</h3>
                <p>Une fois votre demande envoyée, un membre de l&rsquo;équipe Tennis Impact vous contacte sous 24h pour finaliser votre réservation.</p>
                <p>Une fois votre demande envoyée, un membre de la conciergerie vous contacte sous 24h pour finaliser votre réservation.</p>
              </div>
            </div>
          </section>
        </div>

        <aside class="reservation-cart" aria-label="Panier de réservation">
          <div class="reservation-cart__header">
            <span>Votre sélection</span>
            <h3>Panier de réservation</h3>
            <h3>Panier intelligent</h3>
          </div>
          <div class="reservation-cart__items" data-cart-items></div>
          <div class="reservation-cart__total" data-cart-total>
            <span>Total provisoire</span>
            <strong>0&nbsp;€</strong>
          </div>
          <p class="reservation-cart__fineprint">
            L&rsquo;ajout au panier ne bloque pas encore vos places. Notre équipe vous confirme la disponibilité et organise le paiement sécurisé sous 24h ouvrées.
          </p>
          <button class="reservation-button reservation-button--primary" type="button" data-open-modal data-cart-cta disabled>
            Finaliser ma réservation
            L&rsquo;ajout au panier ne bloque pas encore vos places. La conciergerie vous recontacte pour confirmation et paiement sécurisé.
          </p>
          <button class="reservation-button reservation-button--primary" type="button" data-open-modal data-cart-cta disabled>
            Finaliser ma demande
          </button>
        </aside>
      </div>
    </main>

    <div class="reservation-toast" data-toast>Ajouté au panier</div>

    <div class="reservation-modal" data-modal aria-hidden="true">
      <div class="reservation-modal__overlay" data-modal-dismiss></div>
      <div class="reservation-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="reservationModalTitle">
        <button class="reservation-modal__close" type="button" data-modal-dismiss aria-label="Fermer la fenêtre">✕</button>
        <div>
          <span class="reservation-section__eyebrow">Réservation</span>
          <h2 id="reservationModalTitle">Formulaire de réservation premium</h2>
          <p>
            Validez votre panier, précisez vos besoins en hébergement ou transport et recevez la confirmation personnalisée d&rsquo;un membre de l&rsquo;équipe
            Tennis Impact.
          <span class="reservation-section__eyebrow">Conciergerie</span>
          <h2 id="reservationModalTitle">Formulaire de réservation premium</h2>
          <p>
            Validez votre panier, précisez vos besoins en hébergement ou transport et recevez la confirmation personnalisée d&rsquo;un membre de notre
            conciergerie dans les 24h.
          </p>
        </div>
        <div class="reservation-modal__summary" data-modal-summary>
          Votre panier est vide pour le moment. Ajoutez un stage avant de finaliser votre demande.
        </div>
        <form class="reservation-form" data-reservation-form>
          <div class="reservation-form__inline">
            <div class="reservation-form__group">
              <label for="reservation-name">Nom &amp; prénom</label>
              <input id="reservation-name" name="name" type="text" required autocomplete="name" />
            </div>
            <div class="reservation-form__group">
              <label for="reservation-email">Email</label>
              <input id="reservation-email" name="email" type="email" required autocomplete="email" />
            </div>
          </div>
          <div class="reservation-form__inline">
            <div class="reservation-form__group">
              <label for="reservation-phone">Téléphone</label>
              <input id="reservation-phone" name="phone" type="tel" required autocomplete="tel" />
            </div>
            <div class="reservation-form__group">
              <label for="reservation-participants">Nombre de participants</label>
              <select id="reservation-participants" name="participants">
                <option value="1">1 participant</option>
                <option value="2">2 participants</option>
                <option value="3">3 participants</option>
                <option value="4">4 participants</option>
              </select>
            </div>
          </div>
          <div class="reservation-form__group">
            <label>Souhaitez-vous l&rsquo;hébergement proposé&nbsp;?</label>
            <div class="reservation-form__choices">
              <label><input type="radio" name="housing" value="oui" /> Oui, ajoutez l&rsquo;hébergement recommandé</label>
            <label>Souhaitez-vous l&rsquo;hébergement premium&nbsp;?</label>
            <div class="reservation-form__choices">
              <label><input type="radio" name="housing" value="oui" /> Oui, ajoutez l&rsquo;hébergement 5★</label>
              <label><input type="radio" name="housing" value="non" checked /> Non, je gère l&rsquo;hébergement</label>
            </div>
          </div>
          <div class="reservation-form__group">
            <label>Souhaitez-vous les transferts organisés&nbsp;?</label>
            <div class="reservation-form__choices">
              <label><input type="radio" name="transport" value="oui" /> Oui, je souhaite les transferts</label>
            <label>Souhaitez-vous le transport privé&nbsp;?</label>
            <div class="reservation-form__choices">
              <label><input type="radio" name="transport" value="oui" /> Oui, transferts et chauffeur</label>
              <label><input type="radio" name="transport" value="non" checked /> Non, je gère mes déplacements</label>
            </div>
          </div>
          <div class="reservation-form__group">
            <label for="reservation-message">Message pour l&rsquo;équipe</label>
            <label for="reservation-message">Message à la conciergerie</label>
            <textarea id="reservation-message" name="message" placeholder="Précisez vos attentes, régime alimentaire, horaires d&rsquo;arrivée..."></textarea>
          </div>
          <button class="reservation-button reservation-button--primary reservation-form__submit" type="submit">Envoyer ma demande</button>
          <p class="reservation-cart__fineprint">
            Vos informations sont utilisées exclusivement pour organiser votre séjour. Un devis personnalisé vous sera envoyé pour validation.
          </p>
        </form>
        <div class="reservation-modal__confirmation" data-modal-confirmation hidden>
          <h3>Merci&nbsp;! Votre demande est enregistrée</h3>
          <p>
            Nous avons bien reçu votre demande. Un membre de l&rsquo;équipe vous contactera sous 24h pour finaliser votre réservation et sécuriser vos
            options.
          </p>
        </div>
      </div>
    </div>

    <script>
      const stageCatalogue = [
        {
          id: "poitiers-ete",
          name: "Stage Intensif CREPS Poitiers",
          category: "Compétiteurs 12-18 ans",
          start: "2024-07-08",
          end: "2024-07-13",
          location: "CREPS de Poitiers",
          price: 990,
          housingPrice: 320,
          transportPrice: 140,
          spots: 12,
          description: "Stage intensif au cœur du centre fédéral avec suivi vidéo quotidien et préparation physique ciblée.",
          features: [
            "4h de terrain &amp; prépa physique par jour",
            "Bilan de performance individuel",
            "Accès aux espaces de récupération du CREPS"
          ]
        },
        {
          id: "toulouse-ete",
          name: "Stage Performance CREPS Toulouse",
          category: "Adultes classés",
          start: "2024-07-22",
          end: "2024-07-27",
          location: "CREPS de Toulouse",
          price: 950,
          housingPrice: 300,
          transportPrice: 130,
          spots: 10,
          description: "Programme intensif sur dur extérieur avec sparring et coaching tactique personnalisé.",
          features: [
            "Groupes de 4 joueurs maximum",
            "Analyse vidéo service &amp; retour",
            "Accès salle de musculation et balnéo"
          ]
        },
        {
          id: "aix-aout",
          name: "Stage Elite CREPS Aix-en-Provence",
          category: "Jeunes espoirs",
          start: "2024-08-19",
          end: "2024-08-24",
          location: "CREPS d'Aix-en-Provence",
          price: 1020,
          housingPrice: 340,
          transportPrice: 150,
          spots: 14,
          description: "Immersion sur terre battue méditerranéenne avec coaching mental et séances spécifiques service.",
          features: [
            "Diagnostic vidéo d'entrée et de sortie",
            "Séances de préparation mentale",
            "Accès aux installations médicales du CREPS"
          ]
        },
        {
          id: "landes-automne",
          name: "Stage Intensif Domaine Landes Girondines",
          category: "Académie jeunes",
          start: "2024-10-21",
          end: "2024-10-26",
          location: "Domaine des Landes Girondines",
          price: 780,
          housingPrice: 260,
          transportPrice: 110,
          spots: 16,
          description: "Immersion nature avec sessions physiques outdoor, coaching tactique et ateliers cohésion d'équipe.",
          features: [
            "Triple séance quotidienne",
            "Encadrement 1 coach / 4 joueurs",
            "Activités lacustres et récupération en forêt"
          ]
        },
        {
          id: "cabourg-toussaint",
          name: "Stage Signature Cabourg",
          category: "Loisirs &amp; accompagnants",
          start: "2024-11-04",
          end: "2024-11-09",
          location: "Cabourg – Tennis Club",
          price: 860,
          housingPrice: 300,
          transportPrice: 120,
          spots: 18,
          description: "Semaine balnéaire mêlant coaching technique, séances bien-être et animations bord de mer.",
          features: [
            "2h30 de coaching quotidien",
            "Séances yoga &amp; mobilité",
            "Accès lounge et cocktail de clôture"
          ]
        }
      ];

      const monthNames = [
        "Janvier",
        "Février",
        "Mars",
        "Avril",
        "Mai",
        "Juin",
        "Juillet",
        "Août",
        "Septembre",
        "Octobre",
        "Novembre",
        "Décembre"
      ];

      const calendarState = (() => {
        const now = new Date();
        const firstStage = stageCatalogue[0];
        if (!firstStage) {
          return { year: now.getFullYear(), month: now.getMonth() };
        }
        const startDate = new Date(firstStage.start);
        return { year: startDate.getFullYear(), month: startDate.getMonth() };
      })();

      const cart = [];

      const nav = document.querySelector("[data-reservation-nav]");
      const navToggle = document.querySelector("[data-nav-toggle]");
      const navMobile = document.querySelector("[data-nav-mobile]");
      const toast = document.querySelector("[data-toast]");
      const cartItemsContainer = document.querySelector("[data-cart-items]");
      const cartTotal = document.querySelector("[data-cart-total]");
      const cartCta = document.querySelector("[data-cart-cta]");
      const stageListContainer = document.querySelector("[data-stage-list]");
      const calendarGrid = document.querySelector("[data-calendar-grid]");
      const calendarLabel = document.querySelector("[data-calendar-label]");
      const calendarDetails = document.querySelector("[data-calendar-details]");
      const modal = document.querySelector("[data-modal]");
      const modalSummary = document.querySelector("[data-modal-summary]");
      const modalConfirmation = document.querySelector("[data-modal-confirmation]");
      const reservationForm = document.querySelector("[data-reservation-form]");

      function formatDateRange(start, end) {
        const startDate = new Date(start);
        const endDate = new Date(end);
        const startDay = startDate.getDate();
        const endDay = endDate.getDate();
        const month = monthNames[startDate.getMonth()];
        return `${startDay} – ${endDay} ${month}`;
      }

      function formatPrice(value) {
        return new Intl.NumberFormat("fr-FR", { style: "currency", currency: "EUR" }).format(value);
      }

      function renderCalendar() {
        const { year, month } = calendarState;
        calendarLabel.textContent = `${monthNames[month]} ${year}`;

        const firstDay = new Date(year, month, 1);
        const daysInMonth = new Date(year, month + 1, 0).getDate();
        const offset = (firstDay.getDay() + 6) % 7;

        calendarGrid.querySelectorAll(".calendar-day").forEach((node) => node.remove());

        for (let i = 0; i < offset; i += 1) {
          const filler = document.createElement("div");
          filler.className = "calendar-day calendar-day--empty";
          calendarGrid.appendChild(filler);
        }

        for (let day = 1; day <= daysInMonth; day += 1) {
          const dateIso = `${year}-${String(month + 1).padStart(2, "0")}-${String(day).padStart(2, "0")}`;
          const stage = stageCatalogue.find((item) => item.start === dateIso);
          const dayEl = document.createElement(stage ? "button" : "div");
          if (stage) {
            dayEl.type = "button";
          }
          dayEl.className = "calendar-day";
          dayEl.innerHTML = `<span class="calendar-day__number">${day}</span>`;

          if (stage) {
            dayEl.classList.add("calendar-day--selectable");
            dayEl.dataset.stageId = stage.id;
            dayEl.innerHTML += `<span class="calendar-day__stage">Stage</span>`;
            dayEl.addEventListener("click", () => {
              document.querySelectorAll(".calendar-day--active").forEach((node) => node.classList.remove("calendar-day--active"));
              dayEl.classList.add("calendar-day--active");
              showStageDetails(stage);
            });
          }

          calendarGrid.appendChild(dayEl);
        }
      }

      function showStageDetails(stage) {
        calendarDetails.innerHTML = `
          <span class="calendar-details__badge">Sélection</span>
          <h3>${stage.name}</h3>
          <div class="calendar-details__meta">
            <span><strong>Période :</strong> ${formatDateRange(stage.start, stage.end)}</span>
            <span><strong>Lieu :</strong> ${stage.location}</span>
            <span><strong>Places disponibles :</strong> ${stage.spots}</span>
            <span><strong>Investissement :</strong> ${formatPrice(stage.price)}</span>
          </div>
          <p>${stage.description}</p>
          <ul class="calendar-details__features">
            ${stage.features.map((feature) => `<li>${feature}</li>`).join("")}
          </ul>
          <div class="stage-card__actions">
            <button class="reservation-button reservation-button--primary" type="button" data-add-stage="${stage.id}">
              Ajouter au panier
            </button>
            <button class="reservation-button" type="button" data-open-modal>
              Finaliser ma réservation
            </button>
          </div>
        `;
      }

      function renderStageCards() {
        stageListContainer.innerHTML = stageCatalogue
          .map(
            (stage) => `
              <article class="stage-card">
                <div class="stage-card__header">
                  <span class="stage-card__eyebrow">${stage.category}</span>
                  <h3>${stage.name}</h3>
                  <span class="stage-card__price">${formatPrice(stage.price)}</span>
                </div>
                <div class="stage-card__meta">
                  <span><strong>Période :</strong> ${formatDateRange(stage.start, stage.end)}</span>
                  <span><strong>Lieu :</strong> ${stage.location}</span>
                  <span><strong>Places :</strong> ${stage.spots} participants</span>
                </div>
                <p>${stage.description}</p>
                <ul class="stage-card__features">
                  ${stage.features.map((feature) => `<li>${feature}</li>`).join("")}
                </ul>
                <div class="stage-card__actions">
                  <button class="reservation-button reservation-button--primary" type="button" data-add-stage="${stage.id}">
                    Ajouter au panier
                  </button>
                  <button class="reservation-button" type="button" data-open-modal>
                    Voir le panier
                  </button>
                </div>
              </article>
            `
          )
          .join("");
      }

      function findCartItem(stageId) {
        return cart.find((item) => item.id === stageId);
      }

      function updateCartDisplay() {
        if (!cart.length) {
          cartItemsContainer.innerHTML = '<div class="reservation-cart__empty">Ajoutez un stage pour démarrer votre réservation.</div>';
          cartTotal.querySelector("strong").textContent = "0 €";
          cartCta.disabled = true;
          return;
        }

        cartItemsContainer.innerHTML = cart
          .map((item) => {
            const stage = stageCatalogue.find((stageItem) => stageItem.id === item.id);
            const linePrice = item.quantity * stage.price;
            const housingPrice = item.housing ? item.quantity * stage.housingPrice : 0;
            const transportPrice = item.transport ? item.quantity * stage.transportPrice : 0;
            const total = linePrice + housingPrice + transportPrice;
            return `
              <div class="cart-item" data-cart-item="${item.id}">
                <div class="cart-item__header">
                  <strong>${stage.name}</strong>
                  <button class="cart-item__remove" type="button" data-remove-stage="${item.id}">Retirer</button>
                </div>
                <div class="cart-item__meta">
                  <span>${formatDateRange(stage.start, stage.end)}</span>
                  <span>${stage.location}</span>
                </div>
                <div class="cart-item__controls">
                  <span>Participants</span>
                  <div class="cart-item__quantity">
                    <button type="button" data-qty="minus" aria-label="Réduire">−</button>
                    <span>${item.quantity}</span>
                    <button type="button" data-qty="plus" aria-label="Augmenter">+</button>
                  </div>
                </div>
                <div class="cart-item__options">
                  <label>
                    <input type="checkbox" data-toggle-option="housing" ${item.housing ? "checked" : ""} /> Hébergement + ${formatPrice(stage.housingPrice)} / pers.
                  </label>
                  <label>
                    <input type="checkbox" data-toggle-option="transport" ${item.transport ? "checked" : ""} /> Transport + ${formatPrice(stage.transportPrice)} / pers.
                  </label>
                </div>
                <div class="cart-item__price">${formatPrice(total)}</div>
              </div>
            `;
          })
          .join("");

        const totalValue = cart.reduce((acc, item) => {
          const stage = stageCatalogue.find((stageItem) => stageItem.id === item.id);
          if (!stage) return acc;
          let subtotal = item.quantity * stage.price;
          if (item.housing) subtotal += item.quantity * stage.housingPrice;
          if (item.transport) subtotal += item.quantity * stage.transportPrice;
          return acc + subtotal;
        }, 0);

        cartTotal.querySelector("strong").textContent = formatPrice(totalValue);
        cartCta.disabled = false;
      }

      function addStageToCart(stageId) {
        const stage = stageCatalogue.find((item) => item.id === stageId);
        if (!stage) return;
        const existing = findCartItem(stageId);
        if (existing) {
          existing.quantity += 1;
        } else {
          cart.push({ id: stageId, quantity: 1, housing: false, transport: false });
        }
        updateCartDisplay();
        showToast(`${stage.name} ajouté au panier`);
      }

      function showToast(message) {
        if (!toast) return;
        toast.textContent = message;
        toast.dataset.active = "true";
        setTimeout(() => {
          delete toast.dataset.active;
        }, 2500);
      }

      function handleCartInteraction(event) {
        const target = event.target;
        const cartItemEl = target.closest("[data-cart-item]");
        if (!cartItemEl) return;
        const stageId = cartItemEl.dataset.cartItem;
        const item = findCartItem(stageId);
        if (!item) return;

        if (target.matches("[data-remove-stage]")) {
          const index = cart.findIndex((entry) => entry.id === stageId);
          if (index > -1) {
            cart.splice(index, 1);
            updateCartDisplay();
          }
          return;
        }

        if (target.matches("[data-qty]") || target.closest("[data-qty]") === target) {
          if (target.dataset.qty === "minus" && item.quantity > 1) {
            item.quantity -= 1;
          }
          if (target.dataset.qty === "plus") {
            item.quantity += 1;
          }
          updateCartDisplay();
          return;
        }

        if (target.matches("[data-toggle-option]") || target.closest("[data-toggle-option]") === target) {
          const option = target.dataset.toggleOption;
          if (option === "housing") {
            item.housing = !item.housing;
          }
          if (option === "transport") {
            item.transport = !item.transport;
          }
          updateCartDisplay();
        }
      }

      function openModal() {
        if (cart.length === 0) {
          showToast("Ajoutez un stage avant de finaliser");
          return;
        }
        modal.dataset.open = "true";
        modal.setAttribute("aria-hidden", "false");
        updateModalSummary();
        modalConfirmation.hidden = true;
        reservationForm.hidden = false;
        const firstField = reservationForm.querySelector("input, select, textarea");
        if (firstField) {
          firstField.focus();
        }
      }

      function closeModal() {
        delete modal.dataset.open;
        modal.setAttribute("aria-hidden", "true");
      }

      function updateModalSummary() {
        if (!cart.length) {
          modalSummary.innerHTML = "Votre panier est vide pour le moment.";
          return;
        }
        const summaryHtml = cart
          .map((item) => {
            const stage = stageCatalogue.find((stageItem) => stageItem.id === item.id);
            if (!stage) return "";
            const options = [
              item.housing ? "Hébergement premium" : null,
              item.transport ? "Transferts privés" : null
            ]
              .filter(Boolean)
              .join(" · ");
            return `
              <div>
                <strong>${stage.name}</strong>
                <div>${formatDateRange(stage.start, stage.end)} &ndash; ${stage.location}</div>
                <div>${item.quantity} participant${item.quantity > 1 ? "s" : ""}${options ? ` · ${options}` : ""}</div>
              </div>
            `;
          })
          .join("");
        modalSummary.innerHTML = summaryHtml;
      }

      function handleFormSubmit(event) {
        event.preventDefault();
        reservationForm.hidden = true;
        modalConfirmation.hidden = false;
      }

      function bindEvents() {
        document.querySelectorAll("[data-open-modal]").forEach((button) => {
          button.addEventListener("click", openModal);
        });

        document.querySelectorAll("[data-modal-dismiss]").forEach((button) => {
          button.addEventListener("click", closeModal);
        });

        document.addEventListener("keydown", (event) => {
          if (event.key === "Escape" && modal.dataset.open === "true") {
            closeModal();
          }
        });

        navToggle.addEventListener("click", () => {
          const isOpen = nav.getAttribute("data-mobile-open") === "true";
          nav.setAttribute("data-mobile-open", String(!isOpen));
          navToggle.setAttribute("aria-expanded", String(!isOpen));
        });

        navMobile.querySelectorAll("a").forEach((link) => {
          link.addEventListener("click", () => {
            nav.setAttribute("data-mobile-open", "false");
            navToggle.setAttribute("aria-expanded", "false");
          });
        });

        stageListContainer.addEventListener("click", (event) => {
          const button = event.target.closest("[data-add-stage]");
          if (!button) return;
          addStageToCart(button.dataset.addStage);
        });

        calendarDetails.addEventListener("click", (event) => {
          const button = event.target.closest("[data-add-stage]");
          if (!button) return;
          addStageToCart(button.dataset.addStage);
        });

        cartItemsContainer.addEventListener("click", handleCartInteraction);

        document.querySelector("[data-calendar-prev]").addEventListener("click", () => {
          if (calendarState.month === 0) {
            calendarState.month = 11;
            calendarState.year -= 1;
          } else {
            calendarState.month -= 1;
          }
          renderCalendar();
        });

        document.querySelector("[data-calendar-next]").addEventListener("click", () => {
          if (calendarState.month === 11) {
            calendarState.month = 0;
            calendarState.year += 1;
          } else {
            calendarState.month += 1;
          }
          renderCalendar();
        });

        reservationForm.addEventListener("submit", handleFormSubmit);
      }

      renderCalendar();
      renderStageCards();
      updateCartDisplay();
      bindEvents();
    </script>
  </body>
</html>
          <h3>Merci&nbsp;! Votre conciergerie prend le relais</h3>
          <p>
            Nous avons bien reçu votre demande. Un membre de l&rsquo;équipe vous contactera sous 24h pour finaliser votre réservation et sécuriser vos
            options premium.
          </p>
        </div>
      </div>
    </div>

    <script>
      const stageCatalogue = [
        {
          id: "elite-juillet",
          name: "Stage Elite Performance",
          category: "Compétiteurs 12-18 ans",
          start: "2024-07-08",
          end: "2024-07-14",
          location: "Arcachon – Résidence 5★",
          price: 1290,
          housingPrice: 420,
          transportPrice: 160,
          spots: 10,
          description: "Stage intensif avec préparation physique quotidienne et analyses vidéo.",
          features: [
            "4h de terrain &amp; prépa physique chaque jour",
            "Coaching mental &amp; routines de match",
            "Accès exclusif au spa marin en fin de journée"
          ]
        },
        {
          id: "performance-aout",
          name: "Stage Performance Adultes",
          category: "Adultes classés",
          start: "2024-08-12",
          end: "2024-08-17",
          location: "Marbella – Resort privé",
          price: 1150,
          housingPrice: 480,
          transportPrice: 190,
          spots: 12,
          description: "Programme performance sur terre battue avec sparring international.",
          features: [
            "Groupes de 4 joueurs maximum",
            "Analyse vidéo service &amp; revers",
            "Cocktail networking et dîner signature"
          ]
        },
        {
          id: "decouverte-septembre",
          name: "Stage Découverte Premium",
          category: "Loisirs &amp; accompagnants",
          start: "2024-09-09",
          end: "2024-09-13",
          location: "Paris – Lagardère Paris Racing",
          price: 890,
          housingPrice: 320,
          transportPrice: 110,
          spots: 14,
          description: "Initiation haut de gamme avec ateliers bien-être et visites culturelles.",
          features: [
            "2h30 de coaching quotidien",
            "Séance yoga &amp; mobilité",
            "Accès lounge et cocktail de clôture"
          ]
        },
        {
          id: "hostens-octobre",
          name: "Stage Intensif Hostens",
          category: "Académie jeunes",
          start: "2024-10-21",
          end: "2024-10-26",
          location: "Hostens – Domaine nature",
          price: 760,
          housingPrice: 260,
          transportPrice: 90,
          spots: 16,
          description: "Immersion nature avec sessions physiques en extérieur et cohésion d'équipe.",
          features: [
            "Triple séance quotidienne",
            "Encadrement 1 coach / 4 joueurs",
            "Activités lacustres et team building"
          ]
        },
        {
          id: "monaco-novembre",
          name: "Masterclass Monte-Carlo",
          category: "Coaching privé",
          start: "2024-11-18",
          end: "2024-11-21",
          location: "Monte-Carlo Country Club",
          price: 2150,
          housingPrice: 680,
          transportPrice: 260,
          spots: 6,
          description: "Coaching individuel sur les installations mythiques de Monaco.",
          features: [
            "2h de cours privés par jour",
            "Rencontre avec un joueur du circuit",
            "Accès lounge Monte-Carlo &amp; dîner gastronomique"
          ]
        }
      ];

      const monthNames = [
        "Janvier",
        "Février",
        "Mars",
        "Avril",
        "Mai",
        "Juin",
        "Juillet",
        "Août",
        "Septembre",
        "Octobre",
        "Novembre",
        "Décembre"
      ];

      const calendarState = (() => {
        const now = new Date();
        const firstStage = stageCatalogue[0];
        if (!firstStage) {
          return { year: now.getFullYear(), month: now.getMonth() };
        }
        const startDate = new Date(firstStage.start);
        return { year: startDate.getFullYear(), month: startDate.getMonth() };
      })();

      const cart = [];

      const nav = document.querySelector("[data-reservation-nav]");
      const navToggle = document.querySelector("[data-nav-toggle]");
      const navMobile = document.querySelector("[data-nav-mobile]");
      const toast = document.querySelector("[data-toast]");
      const cartItemsContainer = document.querySelector("[data-cart-items]");
      const cartTotal = document.querySelector("[data-cart-total]");
      const cartCta = document.querySelector("[data-cart-cta]");
      const stageListContainer = document.querySelector("[data-stage-list]");
      const calendarGrid = document.querySelector("[data-calendar-grid]");
      const calendarLabel = document.querySelector("[data-calendar-label]");
      const calendarDetails = document.querySelector("[data-calendar-details]");
      const modal = document.querySelector("[data-modal]");
      const modalSummary = document.querySelector("[data-modal-summary]");
      const modalConfirmation = document.querySelector("[data-modal-confirmation]");
      const reservationForm = document.querySelector("[data-reservation-form]");

      function formatDateRange(start, end) {
        const startDate = new Date(start);
        const endDate = new Date(end);
        const startDay = startDate.getDate();
        const endDay = endDate.getDate();
        const month = monthNames[startDate.getMonth()];
        return `${startDay} – ${endDay} ${month}`;
      }

      function formatPrice(value) {
        return new Intl.NumberFormat("fr-FR", { style: "currency", currency: "EUR" }).format(value);
      }

      function renderCalendar() {
        const { year, month } = calendarState;
        calendarLabel.textContent = `${monthNames[month]} ${year}`;

        const firstDay = new Date(year, month, 1);
        const daysInMonth = new Date(year, month + 1, 0).getDate();
        const offset = (firstDay.getDay() + 6) % 7;

        calendarGrid.querySelectorAll(".calendar-day").forEach((node) => node.remove());

        for (let i = 0; i < offset; i += 1) {
          const filler = document.createElement("div");
          filler.className = "calendar-day calendar-day--empty";
          calendarGrid.appendChild(filler);
        }

        for (let day = 1; day <= daysInMonth; day += 1) {
          const dateIso = `${year}-${String(month + 1).padStart(2, "0")}-${String(day).padStart(2, "0")}`;
          const stage = stageCatalogue.find((item) => item.start === dateIso);
          const dayEl = document.createElement(stage ? "button" : "div");
          if (stage) {
            dayEl.type = "button";
          }
          dayEl.className = "calendar-day";
          dayEl.innerHTML = `<span class="calendar-day__number">${day}</span>`;

          if (stage) {
            dayEl.classList.add("calendar-day--selectable");
            dayEl.dataset.stageId = stage.id;
            dayEl.innerHTML += `<span class="calendar-day__stage">Stage</span>`;
            dayEl.addEventListener("click", () => {
              document.querySelectorAll(".calendar-day--active").forEach((node) => node.classList.remove("calendar-day--active"));
              dayEl.classList.add("calendar-day--active");
              showStageDetails(stage);
            });
          }

          calendarGrid.appendChild(dayEl);
        }
      }

      function showStageDetails(stage) {
        calendarDetails.innerHTML = `
          <span class="calendar-details__badge">Sélection</span>
          <h3>${stage.name}</h3>
          <div class="calendar-details__meta">
            <span><strong>Période :</strong> ${formatDateRange(stage.start, stage.end)}</span>
            <span><strong>Lieu :</strong> ${stage.location}</span>
            <span><strong>Places disponibles :</strong> ${stage.spots}</span>
            <span><strong>Investissement :</strong> ${formatPrice(stage.price)}</span>
          </div>
          <p>${stage.description}</p>
          <ul class="calendar-details__features">
            ${stage.features.map((feature) => `<li>${feature}</li>`).join("")}
          </ul>
          <div class="stage-card__actions">
            <button class="reservation-button reservation-button--primary" type="button" data-add-stage="${stage.id}">
              Ajouter au panier
            </button>
            <button class="reservation-button" type="button" data-open-modal>
              Réserver avec la conciergerie
            </button>
          </div>
        `;
      }

      function renderStageCards() {
        stageListContainer.innerHTML = stageCatalogue
          .map(
            (stage) => `
              <article class="stage-card">
                <div class="stage-card__header">
                  <span class="stage-card__eyebrow">${stage.category}</span>
                  <h3>${stage.name}</h3>
                  <span class="stage-card__price">${formatPrice(stage.price)}</span>
                </div>
                <div class="stage-card__meta">
                  <span><strong>Période :</strong> ${formatDateRange(stage.start, stage.end)}</span>
                  <span><strong>Lieu :</strong> ${stage.location}</span>
                  <span><strong>Places :</strong> ${stage.spots} participants</span>
                </div>
                <p>${stage.description}</p>
                <ul class="stage-card__features">
                  ${stage.features.map((feature) => `<li>${feature}</li>`).join("")}
                </ul>
                <div class="stage-card__actions">
                  <button class="reservation-button reservation-button--primary" type="button" data-add-stage="${stage.id}">
                    Ajouter au panier
                  </button>
                  <button class="reservation-button" type="button" data-open-modal>
                    Contacter la conciergerie
                  </button>
                </div>
              </article>
            `
          )
          .join("");
      }

      function findCartItem(stageId) {
        return cart.find((item) => item.id === stageId);
      }

      function updateCartDisplay() {
        if (!cart.length) {
          cartItemsContainer.innerHTML = '<div class="reservation-cart__empty">Ajoutez un stage pour démarrer votre réservation.</div>';
          cartTotal.querySelector("strong").textContent = "0 €";
          cartCta.disabled = true;
          return;
        }

        cartItemsContainer.innerHTML = cart
          .map((item) => {
            const stage = stageCatalogue.find((stageItem) => stageItem.id === item.id);
            const linePrice = item.quantity * stage.price;
            const housingPrice = item.housing ? item.quantity * stage.housingPrice : 0;
            const transportPrice = item.transport ? item.quantity * stage.transportPrice : 0;
            const total = linePrice + housingPrice + transportPrice;
            return `
              <div class="cart-item" data-cart-item="${item.id}">
                <div class="cart-item__header">
                  <strong>${stage.name}</strong>
                  <button class="cart-item__remove" type="button" data-remove-stage="${item.id}">Retirer</button>
                </div>
                <div class="cart-item__meta">
                  <span>${formatDateRange(stage.start, stage.end)}</span>
                  <span>${stage.location}</span>
                </div>
                <div class="cart-item__controls">
                  <span>Participants</span>
                  <div class="cart-item__quantity">
                    <button type="button" data-qty="minus" aria-label="Réduire">−</button>
                    <span>${item.quantity}</span>
                    <button type="button" data-qty="plus" aria-label="Augmenter">+</button>
                  </div>
                </div>
                <div class="cart-item__options">
                  <label>
                    <input type="checkbox" data-toggle-option="housing" ${item.housing ? "checked" : ""} /> Hébergement + ${formatPrice(stage.housingPrice)} / pers.
                  </label>
                  <label>
                    <input type="checkbox" data-toggle-option="transport" ${item.transport ? "checked" : ""} /> Transport + ${formatPrice(stage.transportPrice)} / pers.
                  </label>
                </div>
                <div class="cart-item__price">${formatPrice(total)}</div>
              </div>
            `;
          })
          .join("");

        const totalValue = cart.reduce((acc, item) => {
          const stage = stageCatalogue.find((stageItem) => stageItem.id === item.id);
          if (!stage) return acc;
          let subtotal = item.quantity * stage.price;
          if (item.housing) subtotal += item.quantity * stage.housingPrice;
          if (item.transport) subtotal += item.quantity * stage.transportPrice;
          return acc + subtotal;
        }, 0);

        cartTotal.querySelector("strong").textContent = formatPrice(totalValue);
        cartCta.disabled = false;
      }

      function addStageToCart(stageId) {
        const stage = stageCatalogue.find((item) => item.id === stageId);
        if (!stage) return;
        const existing = findCartItem(stageId);
        if (existing) {
          existing.quantity += 1;
        } else {
          cart.push({ id: stageId, quantity: 1, housing: false, transport: false });
        }
        updateCartDisplay();
        showToast(`${stage.name} ajouté au panier`);
      }

      function showToast(message) {
        if (!toast) return;
        toast.textContent = message;
        toast.dataset.active = "true";
        setTimeout(() => {
          delete toast.dataset.active;
        }, 2500);
      }

      function handleCartInteraction(event) {
        const target = event.target;
        const cartItemEl = target.closest("[data-cart-item]");
        if (!cartItemEl) return;
        const stageId = cartItemEl.dataset.cartItem;
        const item = findCartItem(stageId);
        if (!item) return;

        if (target.matches("[data-remove-stage]")) {
          const index = cart.findIndex((entry) => entry.id === stageId);
          if (index > -1) {
            cart.splice(index, 1);
            updateCartDisplay();
          }
          return;
        }

        if (target.matches("[data-qty]") || target.closest("[data-qty]") === target) {
          if (target.dataset.qty === "minus" && item.quantity > 1) {
            item.quantity -= 1;
          }
          if (target.dataset.qty === "plus") {
            item.quantity += 1;
          }
          updateCartDisplay();
          return;
        }

        if (target.matches("[data-toggle-option]") || target.closest("[data-toggle-option]") === target) {
          const option = target.dataset.toggleOption;
          if (option === "housing") {
            item.housing = !item.housing;
          }
          if (option === "transport") {
            item.transport = !item.transport;
          }
          updateCartDisplay();
        }
      }

      function openModal() {
        if (cart.length === 0) {
          showToast("Ajoutez un stage avant de finaliser");
          return;
        }
        modal.dataset.open = "true";
        modal.setAttribute("aria-hidden", "false");
        updateModalSummary();
        modalConfirmation.hidden = true;
        reservationForm.hidden = false;
        const firstField = reservationForm.querySelector("input, select, textarea");
        if (firstField) {
          firstField.focus();
        }
      }

      function closeModal() {
        delete modal.dataset.open;
        modal.setAttribute("aria-hidden", "true");
      }

      function updateModalSummary() {
        if (!cart.length) {
          modalSummary.innerHTML = "Votre panier est vide pour le moment.";
          return;
        }
        const summaryHtml = cart
          .map((item) => {
            const stage = stageCatalogue.find((stageItem) => stageItem.id === item.id);
            if (!stage) return "";
            const options = [
              item.housing ? "Hébergement premium" : null,
              item.transport ? "Transferts privés" : null
            ]
              .filter(Boolean)
              .join(" · ");
            return `
              <div>
                <strong>${stage.name}</strong>
                <div>${formatDateRange(stage.start, stage.end)} &ndash; ${stage.location}</div>
                <div>${item.quantity} participant${item.quantity > 1 ? "s" : ""}${options ? ` · ${options}` : ""}</div>
              </div>
            `;
          })
          .join("");
        modalSummary.innerHTML = summaryHtml;
      }

      function handleFormSubmit(event) {
        event.preventDefault();
        reservationForm.hidden = true;
        modalConfirmation.hidden = false;
      }

      function bindEvents() {
        document.querySelectorAll("[data-open-modal]").forEach((button) => {
          button.addEventListener("click", openModal);
        });

        document.querySelectorAll("[data-modal-dismiss]").forEach((button) => {
          button.addEventListener("click", closeModal);
        });

        document.addEventListener("keydown", (event) => {
          if (event.key === "Escape" && modal.dataset.open === "true") {
            closeModal();
          }
        });

        navToggle.addEventListener("click", () => {
          const isOpen = nav.getAttribute("data-mobile-open") === "true";
          nav.setAttribute("data-mobile-open", String(!isOpen));
          navToggle.setAttribute("aria-expanded", String(!isOpen));
        });

        navMobile.querySelectorAll("a").forEach((link) => {
          link.addEventListener("click", () => {
            nav.setAttribute("data-mobile-open", "false");
            navToggle.setAttribute("aria-expanded", "false");
          });
        });

        stageListContainer.addEventListener("click", (event) => {
          const button = event.target.closest("[data-add-stage]");
          if (!button) return;
          addStageToCart(button.dataset.addStage);
        });

        calendarDetails.addEventListener("click", (event) => {
          const button = event.target.closest("[data-add-stage]");
          if (!button) return;
          addStageToCart(button.dataset.addStage);
        });

        cartItemsContainer.addEventListener("click", handleCartInteraction);

        document.querySelector("[data-calendar-prev]").addEventListener("click", () => {
          if (calendarState.month === 0) {
            calendarState.month = 11;
            calendarState.year -= 1;
          } else {
            calendarState.month -= 1;
          }
          renderCalendar();
        });

        document.querySelector("[data-calendar-next]").addEventListener("click", () => {
          if (calendarState.month === 11) {
            calendarState.month = 0;
            calendarState.year += 1;
          } else {
            calendarState.month += 1;
          }
          renderCalendar();
        });

        reservationForm.addEventListener("submit", handleFormSubmit);
      }

      renderCalendar();
      renderStageCards();
      updateCartDisplay();
      bindEvents();
    </script>
  </body>
</html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Réservez votre stage premium - Tennis Impact Academy</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap"
    rel="stylesheet"
  />
  <link rel="stylesheet" href="style.css" />
  <style>
    body.reservation-page,
    body.reservation-page *,
    body.reservation-page *::before,
    body.reservation-page *::after {
      box-sizing: border-box;
    }

    body.reservation-page {
      --nav-height: 78px;
      --bg-body: radial-gradient(circle at 15% 20%, rgba(15, 32, 72, 0.28), transparent 52%),
        linear-gradient(160deg, #040916 0%, #020512 45%, #050a1f 100%);
      --bg-surface: linear-gradient(155deg, rgba(8, 18, 42, 0.82), rgba(5, 14, 34, 0.85));
      --bg-soft: rgba(8, 20, 46, 0.55);
      --border-soft: rgba(255, 255, 255, 0.08);
      --text-primary: #f5f7ff;
      --text-secondary: rgba(222, 231, 255, 0.75);
      --accent: #f5c451;
      --accent-strong: #f0ad2c;
      --accent-soft: rgba(245, 196, 81, 0.18);
      --shadow-soft: 0 26px 72px rgba(2, 10, 32, 0.45);
      margin: 0;
      font-family: "Poppins", "Segoe UI", sans-serif;
      background: var(--bg-body);
      color: var(--text-primary);
      line-height: 1.7;
      min-height: 100vh;
      scroll-padding-top: calc(var(--nav-height) + 36px);
    }

    body.reservation-page a {
      color: inherit;
      text-decoration: none;
    }

    body.reservation-page a:hover,
    body.reservation-page a:focus-visible {
      color: var(--accent);
    }

    body.reservation-page ::selection {
      background: var(--accent);
      color: #041021;
    }

    .reservation-page .container {
      width: min(1120px, 92vw);
      margin: 0 auto;
    }

    .reservation-section {
      position: relative;
      padding: clamp(64px, 9vw, 110px) 0;
      overflow: hidden;
    }

    .reservation-section::after {
      content: "";
      position: absolute;
      inset: 0;
      pointer-events: none;
      opacity: 0.4;
      mix-blend-mode: screen;
      background: radial-gradient(circle at 18% 20%, rgba(245, 196, 81, 0.1), transparent 45%),
        radial-gradient(circle at 82% 26%, rgba(92, 125, 255, 0.12), transparent 60%);
    }

    .reservation-section > * {
      position: relative;
      z-index: 1;
    }

    .reservation-section--surface {
      background: linear-gradient(155deg, rgba(7, 16, 38, 0.82), rgba(6, 18, 45, 0.9));
    }

    .reservation-section--deep {
      background: linear-gradient(150deg, rgba(3, 9, 24, 0.94), rgba(4, 12, 32, 0.96));
    }

    .section-intro {
      max-width: 720px;
      margin: 0 auto clamp(38px, 6vw, 64px);
      text-align: center;
    }

    .section-eyebrow {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      font-size: 0.85rem;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      color: var(--accent);
    }

    .section-eyebrow::before,
    .section-eyebrow::after {
      content: "";
      display: block;
      height: 1px;
      width: 44px;
      background: var(--accent-soft);
    }

    .section-intro h2 {
      font-family: "Playfair Display", serif;
      font-size: clamp(2.3rem, 3.2vw, 3.2rem);
      margin: 16px 0 18px;
      color: var(--text-primary);
    }

    .section-intro p {
      margin: 0;
      color: var(--text-secondary);
    }

    .reservation-hero {
      position: relative;
      display: grid;
      place-items: center;
      min-height: clamp(520px, 72vh, 680px);
      padding: clamp(72px, 12vw, 128px) clamp(20px, 6vw, 72px);
      background: linear-gradient(135deg, rgba(6, 14, 32, 0.82), rgba(7, 17, 40, 0.78)),
        url("assets/photos/3.png") center/cover;
      overflow: hidden;
    }

    .reservation-hero::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(3, 9, 24, 0.85), rgba(7, 16, 38, 0.68));
      backdrop-filter: blur(5px);
    }

    .reservation-hero::after {
      content: "";
      position: absolute;
      inset: 0;
      opacity: 0.6;
      background: radial-gradient(circle at 20% 24%, rgba(245, 196, 81, 0.25), transparent 52%),
        radial-gradient(circle at 78% 30%, rgba(82, 122, 255, 0.18), transparent 60%);
    }

    .hero-content {
      position: relative;
      z-index: 2;
      width: min(1040px, 100%);
      margin: 0 auto;
      max-width: 880px;
      background: linear-gradient(160deg, rgba(10, 22, 52, 0.78), rgba(7, 14, 36, 0.72));
      border-radius: 32px;
      padding: clamp(36px, 6vw, 68px);
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(255, 255, 255, 0.06);
    }

    .hero-shell {
      display: grid;
      gap: clamp(28px, 4vw, 42px);
      align-items: center;
    }

    @media (min-width: 980px) {
      .hero-shell {
        grid-template-columns: minmax(0, 1fr) minmax(280px, 36%);
      }
    }

    .hero-copy {
      display: grid;
      gap: clamp(22px, 3vw, 32px);
      text-align: left;
      justify-items: start;
    }

      text-align: center;
      border: 1px solid rgba(255, 255, 255, 0.06);
    }

    .hero-kicker {
      display: inline-flex;
      align-items: center;
      gap: 14px;
      font-size: 0.95rem;
      letter-spacing: 0.38em;
      text-transform: uppercase;
      color: var(--accent);
      margin-bottom: clamp(18px, 3vw, 28px);
    }

    .hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 8px 18px;
      border-radius: 999px;
      background: rgba(245, 196, 81, 0.16);
      color: var(--accent);
      font-size: 0.8rem;
      letter-spacing: 0.28em;
      text-transform: uppercase;
      margin-bottom: 8px;
    }

    .hero-badge::before {
      content: "";
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: currentColor;
      opacity: 0.8;
    }

    .hero-kicker::before,
    .hero-kicker::after {
      content: "";
      display: block;
      height: 1px;
      width: 48px;
      background: var(--accent-soft);
    }

    .hero-title {
      font-family: "Playfair Display", serif;
      font-size: clamp(2.8rem, 4vw, 4rem);
      margin: 0 0 18px;
      letter-spacing: -0.01em;
    }

    .hero-subtitle {
      margin: 0;
      margin-bottom: clamp(24px, 4vw, 32px);
      margin: 0 auto clamp(28px, 4vw, 38px);
      max-width: 640px;
      color: var(--text-secondary);
      font-size: clamp(1.05rem, 1.2vw, 1.25rem);
    }

    .hero-cta {
      display: flex;
      flex-wrap: wrap;
      justify-content: flex-start;
      justify-content: center;
      gap: 18px;
      margin-bottom: clamp(32px, 5vw, 48px);
    }

    .hero-metrics {
      margin: 0;
      padding: 0;
      list-style: none;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
      gap: 16px;
      width: 100%;
    }

    .hero-metric {
      padding: 18px 20px;
      border-radius: 20px;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.08);
      display: grid;
      gap: 4px;
    }

    .hero-metric strong {
      font-family: "Playfair Display", serif;
      font-size: clamp(1.6rem, 2vw, 2rem);
      color: var(--accent);
      line-height: 1.1;
    }

    .hero-metric span {
      color: var(--text-secondary);
      font-size: 0.92rem;
    }

    .btn {
      --btn-bg: rgba(255, 255, 255, 0.05);
      --btn-color: var(--text-primary);
      --btn-border: rgba(255, 255, 255, 0.14);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      padding: 14px 26px;
      border-radius: 999px;
      border: 1px solid var(--btn-border);
      background: var(--btn-bg);
      color: var(--btn-color);
      font-weight: 600;
      letter-spacing: 0.02em;
      transition: transform 0.25s ease, box-shadow 0.25s ease, background 0.25s ease, color 0.25s ease,
        border-color 0.25s ease;
      cursor: pointer;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 16px 48px rgba(6, 16, 40, 0.45);
    }

    .btn:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    .btn--primary {
      --btn-bg: linear-gradient(135deg, var(--accent) 0%, var(--accent-strong) 100%);
      --btn-border: transparent;
      --btn-color: #041021;
      box-shadow: 0 14px 42px rgba(245, 196, 81, 0.32);
    }

    .btn--ghost {
      --btn-bg: rgba(255, 255, 255, 0.06);
    }

    .hero-benefits {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 22px;
      text-align: left;
    }

    .hero-benefit {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 18px 22px;
      border-radius: 20px;
      background: rgba(8, 20, 46, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.08);
    }

    .hero-benefit span {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 36px;
      height: 36px;
      border-radius: 10px;
      background: rgba(245, 196, 81, 0.18);
      color: var(--accent);
      font-size: 1.05rem;
      flex-shrink: 0;
    }

    .hero-note {
      margin-top: clamp(24px, 3vw, 34px);
      color: rgba(235, 240, 255, 0.64);
      font-size: 0.94rem;
    }

    .hero-visual {
      position: relative;
      display: grid;
      gap: 22px;
      align-content: center;
      justify-items: center;
    }

    .hero-pass {
      width: min(340px, 100%);
      padding: clamp(22px, 3vw, 32px);
      border-radius: 28px;
      background: linear-gradient(145deg, rgba(245, 196, 81, 0.22), rgba(98, 132, 255, 0.14));
      border: 1px solid rgba(255, 255, 255, 0.18);
      box-shadow: 0 32px 64px rgba(3, 10, 32, 0.45);
      display: grid;
      gap: 18px;
      color: #041021;
      text-align: left;
      backdrop-filter: blur(14px);
    }

    .hero-pass__title {
      font-family: "Playfair Display", serif;
      font-size: clamp(1.4rem, 2vw, 1.7rem);
      margin: 0;
      color: #041021;
    }

    .hero-pass__subtitle {
      margin: 0;
      color: rgba(4, 16, 35, 0.7);
      font-size: 0.95rem;
    }

    .hero-pass__list {
      list-style: none;
      padding: 0;
      margin: 0;
      display: grid;
      gap: 10px;
      font-size: 0.95rem;
      color: rgba(4, 16, 35, 0.82);
    }

    .hero-pass__list li {
      display: inline-flex;
      align-items: center;
      gap: 10px;
    }

    .hero-pass__list li::before {
      content: "⟢";
      color: var(--accent-strong);
      font-size: 0.85rem;
    }

    .hero-seal {
      width: min(160px, 36vw);
      aspect-ratio: 1;
      border-radius: 50%;
      display: grid;
      place-items: center;
      padding: 18px;
      border: 1px solid rgba(245, 196, 81, 0.38);
      background: rgba(5, 14, 34, 0.72);
      box-shadow: 0 24px 46px rgba(2, 8, 24, 0.55);
      text-transform: uppercase;
      font-size: 0.75rem;
      letter-spacing: 0.22em;
      text-align: center;
      color: var(--accent);
    }

    .hero-seal span {
      display: block;
      font-family: "Playfair Display", serif;
      font-size: 1.35rem;
      letter-spacing: 0.04em;
      color: var(--text-primary);
      margin-top: 6px;
    }

    .reservation-nav {
      position: sticky;
      top: 0;
      z-index: 50;
      background: rgba(4, 10, 24, 0.82);
      backdrop-filter: blur(14px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.06);
    }

    .reservation-nav ul {
      list-style: none;
      display: flex;
      gap: 12px;
      margin: 0;
      padding: 16px clamp(18px, 6vw, 48px);
      overflow-x: auto;
      scrollbar-width: none;
    }

    .reservation-nav ul::-webkit-scrollbar {
      display: none;
    }

    .reservation-nav a {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 10px 18px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.06);
      color: rgba(236, 240, 255, 0.75);
      border: 1px solid transparent;
      white-space: nowrap;
      font-size: 0.95rem;
      transition: background 0.25s ease, color 0.25s ease, border-color 0.25s ease;
    }

    .reservation-nav a[aria-current="true"],
    .reservation-nav a:hover {
      background: rgba(245, 196, 81, 0.18);
      color: var(--accent);
      border-color: rgba(245, 196, 81, 0.4);
    }

    .stage-layout {
      display: grid;
      gap: clamp(32px, 4vw, 48px);
      grid-template-areas:
        'list'
        'summary';
    }

    .stage-list {
      grid-area: list;
      display: grid;
      gap: clamp(28px, 3vw, 34px);
    }

    .stage-card {
      background: var(--bg-surface);
      border-radius: 28px;
      border: 1px solid var(--border-soft);
      padding: clamp(26px, 4vw, 36px);
      display: grid;
      gap: 24px;
      box-shadow: var(--shadow-soft);
    }

    .stage-card__header {
      display: grid;
      gap: 10px;
    }

    .stage-card__tagline {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      font-size: 0.82rem;
      letter-spacing: 0.36em;
      margin: 0;
      font-family: "Poppins", "Segoe UI", sans-serif;
      background: var(--bg-body);
      color: var(--text-primary);
      line-height: 1.7;
      min-height: 100vh;
      scroll-padding-top: calc(var(--nav-height) + 36px);
    }

    body.reservation-page a {
      color: inherit;
      text-decoration: none;
    }

    body.reservation-page a:hover,
    body.reservation-page a:focus-visible {
      color: var(--accent);
    }

    body.reservation-page ::selection {
      background: var(--accent);
      color: #041021;
    }

    .reservation-page .container {
      width: min(1120px, 92vw);
      margin: 0 auto;
    }

    .reservation-section {
      position: relative;
      padding: clamp(64px, 9vw, 110px) 0;
      overflow: hidden;
    }

    .reservation-section::after {
      content: "";
      position: absolute;
      inset: 0;
      pointer-events: none;
      opacity: 0.4;
      mix-blend-mode: screen;
      background: radial-gradient(circle at 18% 20%, rgba(245, 196, 81, 0.1), transparent 45%),
        radial-gradient(circle at 82% 26%, rgba(92, 125, 255, 0.12), transparent 60%);
    }

    .reservation-section > * {
      position: relative;
      z-index: 1;
    }

    .reservation-section--surface {
      background: linear-gradient(155deg, rgba(7, 16, 38, 0.82), rgba(6, 18, 45, 0.9));
    }

    .reservation-section--deep {
      background: linear-gradient(150deg, rgba(3, 9, 24, 0.94), rgba(4, 12, 32, 0.96));
    }

    .section-intro {
      max-width: 720px;
      margin: 0 auto clamp(38px, 6vw, 64px);
      text-align: center;
    }

    .section-eyebrow {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      font-size: 0.85rem;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      color: var(--accent);
    }

    .stage-card__tagline::before,
    .stage-card__tagline::after {
      content: "";
      display: block;
      height: 1px;
      width: 34px;
      background: var(--accent-soft);
    }

    .stage-card__title {
      font-family: "Playfair Display", serif;
      font-size: clamp(1.8rem, 2.4vw, 2.4rem);
      margin: 0;
    }

    .stage-card__audience {
      margin: 0;
      color: var(--accent);
      font-weight: 600;
    }

    .stage-card__description {
      margin: 0;
      color: var(--text-secondary);
    }

    .stage-card__highlights {
      list-style: none;
      margin: 0;
      padding: 0;
      display: grid;
      gap: 12px;
    }

    .stage-card__highlights li {
      position: relative;
      padding-left: 26px;
      color: rgba(236, 240, 255, 0.82);
      font-size: 0.96rem;
    }

    .stage-card__highlights li::before {
      content: "★";
      position: absolute;
      left: 0;
      top: 0;
      color: var(--accent);
      font-size: 0.9rem;
    }

    .stage-card__sessions {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 22px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 20px;
      display: grid;
      gap: 16px;
    }

    .stage-card__sessions label {
      font-weight: 600;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .stage-card__sessions select {
      width: 100%;
      margin-top: 10px;
      padding: 12px 14px;
      border-radius: 16px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: rgba(7, 16, 38, 0.6);
      color: var(--text-primary);
      font-size: 1rem;
    }

    .stage-card__sessions select:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    .stage-card__session-info {
      display: grid;
      gap: 6px;
      color: var(--text-secondary);
      font-size: 0.95rem;
    }

    .stage-card__session-info strong {
      color: var(--text-primary);
      font-weight: 600;
    }

    .stage-card__actions {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      gap: 14px;
    }

    .stage-card__price {
      display: grid;
      gap: 4px;
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    .stage-card__price strong {
      font-size: 1.2rem;
      color: var(--text-primary);
    }

    .stage-summary {
      grid-area: summary;
      background: rgba(6, 14, 34, 0.82);
      border-radius: 28px;
      border: 1px solid var(--border-soft);
      padding: clamp(24px, 3vw, 32px);
      display: grid;
      gap: 22px;
      position: relative;
      top: auto;
      box-shadow: var(--shadow-soft);
    }

    @media (min-width: 1080px) {
      .stage-layout {
        grid-template-columns: minmax(0, 1fr) 360px;
        align-items: start;
        grid-template-areas: 'list summary';
      }

      .stage-summary {
        position: sticky;
        top: calc(var(--nav-height) + 24px);
      }
    }

    .stage-summary h3 {
      margin: 0;
      font-family: "Playfair Display", serif;
      font-size: clamp(1.4rem, 2.1vw, 1.9rem);
    }

    .cart-empty {
      margin: 0;
      color: var(--text-secondary);
      text-align: center;
      border: 1px dashed rgba(255, 255, 255, 0.12);
      border-radius: 18px;
      padding: 18px;
      background: rgba(255, 255, 255, 0.05);
    }

    .cart-items {
      display: grid;
      gap: 18px;
    }

    .cart-item {
      display: grid;
      gap: 12px;
      padding: 18px;
      border-radius: 20px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      background: rgba(255, 255, 255, 0.06);
    }

    .cart-item__header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 12px;
    }

    .cart-item__title {
      margin: 0;
      font-weight: 600;
    }

    .cart-item__meta {
      margin: 0;
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    .cart-remove {
      background: none;
      border: none;
      color: rgba(236, 240, 255, 0.68);
      cursor: pointer;
    .section-eyebrow::before,
    .section-eyebrow::after {
      content: "";
      display: block;
      height: 1px;
      width: 44px;
      background: var(--accent-soft);
    }

    .section-intro h2 {
      font-family: "Playfair Display", serif;
      font-size: clamp(2.3rem, 3.2vw, 3.2rem);
      margin: 16px 0 18px;
      color: var(--text-primary);
    }

    .section-intro p {
      margin: 0;
      color: var(--text-secondary);
    }

    .reservation-hero {
      position: relative;
      display: grid;
      place-items: center;
      min-height: clamp(520px, 72vh, 680px);
      padding: clamp(72px, 12vw, 128px) clamp(20px, 6vw, 72px);
      background: linear-gradient(135deg, rgba(6, 14, 32, 0.82), rgba(7, 17, 40, 0.78)),
        url("assets/photos/3.png") center/cover;
      overflow: hidden;
    }

    .reservation-hero::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(3, 9, 24, 0.85), rgba(7, 16, 38, 0.68));
      backdrop-filter: blur(5px);
    }

    .reservation-hero::after {
      content: "";
      position: absolute;
      inset: 0;
      opacity: 0.6;
      background: radial-gradient(circle at 20% 24%, rgba(245, 196, 81, 0.25), transparent 52%),
        radial-gradient(circle at 78% 30%, rgba(82, 122, 255, 0.18), transparent 60%);
    }

    .hero-content {
      position: relative;
      z-index: 2;
      max-width: 880px;
      background: linear-gradient(160deg, rgba(10, 22, 52, 0.78), rgba(7, 14, 36, 0.72));
      border-radius: 32px;
      padding: clamp(36px, 6vw, 68px);
      box-shadow: var(--shadow-soft);
      text-align: center;
      border: 1px solid rgba(255, 255, 255, 0.06);
    }

    .hero-kicker {
      display: inline-flex;
      align-items: center;
      gap: 14px;
      font-size: 0.95rem;
      letter-spacing: 0.38em;
      text-transform: uppercase;
      color: var(--accent);
      margin-bottom: clamp(18px, 3vw, 28px);
    }

    .hero-kicker::before,
    .hero-kicker::after {
      content: "";
      display: block;
      height: 1px;
      width: 48px;
      background: var(--accent-soft);
    }

    .hero-title {
      font-family: "Playfair Display", serif;
      font-size: clamp(2.8rem, 4vw, 4rem);
      margin: 0 0 18px;
      letter-spacing: -0.01em;
    }

    .hero-subtitle {
      margin: 0 auto clamp(28px, 4vw, 38px);
      max-width: 640px;
      color: var(--text-secondary);
      font-size: clamp(1.05rem, 1.2vw, 1.25rem);
    }

    .hero-cta {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 18px;
      margin-bottom: clamp(32px, 5vw, 48px);
    }

    .btn {
      --btn-bg: rgba(255, 255, 255, 0.05);
      --btn-color: var(--text-primary);
      --btn-border: rgba(255, 255, 255, 0.14);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      padding: 14px 26px;
      border-radius: 999px;
      border: 1px solid var(--btn-border);
      background: var(--btn-bg);
      color: var(--btn-color);
      font-weight: 600;
      letter-spacing: 0.02em;
      transition: transform 0.25s ease, box-shadow 0.25s ease, background 0.25s ease, color 0.25s ease,
        border-color 0.25s ease;
      cursor: pointer;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 16px 48px rgba(6, 16, 40, 0.45);
    }

    .btn:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    .btn--primary {
      --btn-bg: linear-gradient(135deg, var(--accent) 0%, var(--accent-strong) 100%);
      --btn-border: transparent;
      --btn-color: #041021;
      box-shadow: 0 14px 42px rgba(245, 196, 81, 0.32);
    }

    .btn--ghost {
      --btn-bg: rgba(255, 255, 255, 0.06);
    }

    .hero-benefits {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 22px;
      text-align: left;
    }

    .hero-benefit {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 18px 22px;
      border-radius: 20px;
      background: rgba(8, 20, 46, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.08);
    }

    .hero-benefit span {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 36px;
      height: 36px;
      border-radius: 10px;
      background: rgba(245, 196, 81, 0.18);
      color: var(--accent);
      font-size: 1.05rem;
      flex-shrink: 0;
    }

    .hero-note {
      margin-top: clamp(24px, 3vw, 34px);
      color: rgba(235, 240, 255, 0.64);
      font-size: 0.94rem;
    }

    .reservation-nav {
      position: sticky;
      top: 0;
      z-index: 50;
      background: rgba(4, 10, 24, 0.82);
      backdrop-filter: blur(14px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.06);
    }

    .reservation-nav ul {
      list-style: none;
      display: flex;
      gap: 12px;
      margin: 0;
      padding: 16px clamp(18px, 6vw, 48px);
      overflow-x: auto;
      scrollbar-width: none;
    }

    .reservation-nav ul::-webkit-scrollbar {
      display: none;
    }

    .reservation-nav a {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 10px 18px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.06);
      color: rgba(236, 240, 255, 0.75);
      border: 1px solid transparent;
      white-space: nowrap;
      font-size: 0.95rem;
      transition: background 0.25s ease, color 0.25s ease, border-color 0.25s ease;
    }

    .reservation-nav a[aria-current="true"],
    .reservation-nav a:hover {
      background: rgba(245, 196, 81, 0.18);
      color: var(--accent);
      border-color: rgba(245, 196, 81, 0.4);
    }

    .stage-layout {
      display: grid;
      gap: clamp(32px, 4vw, 48px);
    }

    @media (min-width: 1080px) {
      .stage-layout {
        grid-template-columns: minmax(0, 1fr) 360px;
        align-items: start;
      }
    }

    .stage-list {
      display: grid;
      gap: clamp(28px, 3vw, 34px);
    }

    .stage-card {
      background: var(--bg-surface);
      border-radius: 28px;
      border: 1px solid var(--border-soft);
      padding: clamp(26px, 4vw, 36px);
      display: grid;
      gap: 24px;
      box-shadow: var(--shadow-soft);
    }

    .stage-card__header {
      display: grid;
      gap: 10px;
    }

    .stage-card__tagline {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      font-size: 0.82rem;
      letter-spacing: 0.36em;
      text-transform: uppercase;
      color: var(--accent);
    }

    .stage-card__tagline::before,
    .stage-card__tagline::after {
      content: "";
      display: block;
      height: 1px;
      width: 34px;
      background: var(--accent-soft);
    }

    .stage-card__title {
      font-family: "Playfair Display", serif;
      font-size: clamp(1.8rem, 2.4vw, 2.4rem);
      margin: 0;
    }

    .stage-card__audience {
      margin: 0;
      color: var(--accent);
      font-weight: 600;
    }

    .stage-card__description {
      margin: 0;
      color: var(--text-secondary);
    }

    .stage-card__highlights {
      list-style: none;
      margin: 0;
      padding: 0;
      display: grid;
      gap: 12px;
    }

    .stage-card__highlights li {
      position: relative;
      padding-left: 26px;
      color: rgba(236, 240, 255, 0.82);
      font-size: 0.96rem;
    }

    .stage-card__highlights li::before {
      content: "★";
      position: absolute;
      left: 0;
      top: 0;
      color: var(--accent);
      font-size: 0.9rem;
    }

    .stage-card__sessions {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 22px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 20px;
      display: grid;
      gap: 16px;
    }

    .stage-card__sessions label {
      font-weight: 600;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .stage-card__sessions select {
      width: 100%;
      margin-top: 10px;
      padding: 12px 14px;
      border-radius: 16px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: rgba(7, 16, 38, 0.6);
      color: var(--text-primary);
      font-size: 1rem;
    }

    .stage-card__sessions select:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    .stage-card__session-info {
      display: grid;
      gap: 6px;
      color: var(--text-secondary);
      font-size: 0.95rem;
    }

    .stage-card__session-info strong {
      color: var(--text-primary);
      font-weight: 600;
    }

    .stage-card__actions {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      gap: 14px;
    }

    .stage-card__price {
      display: grid;
      gap: 4px;
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    .stage-card__price strong {
      font-size: 1.2rem;
      color: var(--text-primary);
    }

    .stage-summary {
      background: rgba(6, 14, 34, 0.82);
      border-radius: 28px;
      border: 1px solid var(--border-soft);
      padding: clamp(24px, 3vw, 32px);
      display: grid;
      gap: 22px;
      position: sticky;
      top: calc(var(--nav-height) + 24px);
      box-shadow: var(--shadow-soft);
    }

    .stage-summary h3 {
      margin: 0;
      font-family: "Playfair Display", serif;
      font-size: clamp(1.4rem, 2.1vw, 1.9rem);
    }

    .cart-empty {
      margin: 0;
      color: var(--text-secondary);
      text-align: center;
      border: 1px dashed rgba(255, 255, 255, 0.12);
      border-radius: 18px;
      padding: 18px;
      background: rgba(255, 255, 255, 0.05);
    }

    .cart-items {
      display: grid;
      gap: 18px;
    }

    .cart-item {
      display: grid;
      gap: 12px;
      padding: 18px;
      border-radius: 20px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      background: rgba(255, 255, 255, 0.06);
    }

    .cart-item__header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 12px;
    }

    .cart-item__title {
      margin: 0;
      font-weight: 600;
    }

    .cart-item__meta {
      margin: 0;
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    .cart-remove {
      background: none;
      border: none;
      color: rgba(236, 240, 255, 0.68);
      cursor: pointer;
      padding: 4px;
      font-size: 0.85rem;
    }

    .cart-remove:hover {
      color: var(--accent);
    }

    .cart-options {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .cart-chip {
      position: relative;
    }

    .cart-chip input {
      position: absolute;
      inset: 0;
      opacity: 0;
      cursor: pointer;
    }

    .cart-chip span {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 14px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: rgba(255, 255, 255, 0.06);
      font-size: 0.85rem;
      transition: background 0.2s ease, border-color 0.2s ease, color 0.2s ease;
    }

    .cart-chip input:checked + span {
      background: rgba(245, 196, 81, 0.22);
      border-color: rgba(245, 196, 81, 0.45);
      color: var(--accent);
    }

    .cart-item__total {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 0.95rem;
      color: var(--text-secondary);
    }

    .cart-item__total strong {
      color: var(--text-primary);
      font-size: 1.05rem;
    }

    .cart-total {
      border-top: 1px solid rgba(255, 255, 255, 0.12);
      padding-top: 18px;
      display: grid;
      gap: 10px;
    }

    .cart-total__row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: var(--text-secondary);
    }

    .cart-total__amount {
      font-size: 1.4rem;
      font-weight: 600;
      color: var(--text-primary);
    }

    .cart-note {
      margin: 0;
      color: rgba(236, 240, 255, 0.68);
      font-size: 0.85rem;
    }

    .calendar-grid {
      display: grid;
      gap: clamp(24px, 3vw, 32px);
    }

    .calendar-month {
      border-radius: 28px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 24px;
      display: grid;
      gap: 18px;
    }

    .calendar-month h3 {
      margin: 0;
      font-family: "Playfair Display", serif;
      font-size: 1.6rem;
    }

    .calendar-entry {
      display: grid;
      gap: 6px;
      padding: 18px;
      border-radius: 18px;
      background: rgba(8, 20, 46, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.08);
    }

    .calendar-entry__actions {
      display: flex;
      justify-content: flex-start;
      gap: 12px;
      flex-wrap: wrap;
    }

    .calendar-legend {
      margin-top: clamp(22px, 3vw, 32px);
      color: rgba(236, 240, 255, 0.68);
      text-align: center;
      font-size: 0.95rem;
    }

    .calendar-entry__header {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
    }

    .calendar-entry__dates {
      font-weight: 600;
      color: var(--accent);
    }

    .calendar-entry__meta {
      margin: 0;
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    .features-grid {
      display: grid;
      gap: clamp(20px, 3vw, 32px);
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    }

    .feature-card {
      padding: 24px;
      border-radius: 24px;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.08);
      display: grid;
      gap: 12px;
    }

    .feature-card h3 {
      margin: 0;
      font-size: 1.2rem;
    }

    .feature-card p {
      margin: 0;
      color: var(--text-secondary);
    }

    .locations-grid {
      display: grid;
      gap: clamp(20px, 3vw, 32px);
    }

    @media (min-width: 860px) {
      .locations-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }
    }

    .location-card {
      padding: 26px;
      border-radius: 24px;
      background: rgba(8, 20, 46, 0.62);
      border: 1px solid rgba(255, 255, 255, 0.08);
      display: grid;
      gap: 12px;
    }

    .location-card h3 {
      margin: 0;
      font-size: 1.25rem;
    }

    .location-card ul {
      margin: 0;
      padding-left: 20px;
      color: var(--text-secondary);
    }

    .options-grid {
      display: grid;
      gap: clamp(24px, 4vw, 40px);
      grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
    }

    .option-block {
      padding: 26px;
      border-radius: 24px;
      background: linear-gradient(150deg, rgba(8, 18, 44, 0.82), rgba(6, 14, 34, 0.72));
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: 0 22px 48px rgba(2, 8, 24, 0.4);
      display: grid;
      gap: 12px;
    }

    .option-block h3 {
      margin: 0;
      font-size: 1.2rem;
    }

    .option-block p {
      margin: 0;
      color: var(--text-secondary);
    }

    .faq-list {
      display: grid;
      gap: 16px;
    }

    .faq-list details {
      border-radius: 20px;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 18px 22px;
    }

    .faq-list summary {
      cursor: pointer;
      font-weight: 600;
      list-style: none;
    }

    .faq-list summary::marker,
    .faq-list summary::-webkit-details-marker {
      display: none;
    }

    .faq-list details p {
      margin: 14px 0 0;
      color: var(--text-secondary);
    }

    .reservation-form {
      display: grid;
      gap: clamp(24px, 3vw, 36px);
      padding: clamp(26px, 4vw, 36px);
      border-radius: 28px;
      background: rgba(6, 14, 34, 0.84);
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: var(--shadow-soft);
    }

    .form-grid {
      display: grid;
      gap: 18px;
    }

    @media (min-width: 860px) {
      .form-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    .form-control {
      display: grid;
      gap: 8px;
    }

    .form-control label {
      font-weight: 600;
    }

    .form-control input,
    .form-control select,
    .form-control textarea {
      width: 100%;
      padding: 14px 16px;
      border-radius: 16px;
      border: 1px solid rgba(255, 255, 255, 0.14);
      background: rgba(8, 18, 44, 0.6);
      color: var(--text-primary);
      font-size: 1rem;
    }

    .form-control textarea {
      min-height: 140px;
      resize: vertical;
    }

    .form-control input:focus-visible,
    .form-control select:focus-visible,
    .form-control textarea:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    .option-selector {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .option-selector label {
      position: relative;
    }

    .option-selector input {
      position: absolute;
      inset: 0;
      opacity: 0;
    }

    .option-selector span {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 18px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.14);
      background: rgba(255, 255, 255, 0.06);
      font-size: 0.92rem;
    }

    .option-selector input:checked + span {
      background: rgba(245, 196, 81, 0.22);
      border-color: rgba(245, 196, 81, 0.45);
      color: var(--accent);
    }

    .form-selection {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 20px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 18px;
      display: grid;
      gap: 14px;
    }

    .form-selection__item {
      display: grid;
      gap: 4px;
      font-size: 0.95rem;
    }

    .form-selection__empty {
      margin: 0;
      color: var(--text-secondary);
    }

    .form-selection__total {
      margin-top: 6px;
      font-size: 1.05rem;
      color: var(--accent);
    }

    .form-actions {
      display: flex;
      flex-direction: column;
      gap: 12px;
      align-items: flex-start;
    }

    .form-feedback {
      margin: 0;
      font-size: 0.95rem;
      color: var(--accent);
    }

    .reservation-footer {
      text-align: center;
      padding: 48px 20px;
      color: rgba(222, 231, 255, 0.68);
      font-size: 0.9rem;
    }

    .reservation-toast {
      position: fixed;
      bottom: 24px;
      left: 50%;
      right: auto;
      background: rgba(6, 14, 34, 0.9);
      border-radius: 18px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 14px 18px;
      color: var(--text-primary);
      font-size: 0.95rem;
      box-shadow: 0 18px 46px rgba(2, 8, 24, 0.55);
      opacity: 0;
      transform: translate(-50%, 12px);
      transition: opacity 0.3s ease, transform 0.3s ease;
      pointer-events: none;
      z-index: 200;
    }

    .reservation-toast.is-visible {
      opacity: 1;
      transform: translate(-50%, 0);
    }

    @media (max-width: 720px) {
      body.reservation-page {
        --nav-height: 62px;
      }

      .hero-content {
        padding: 30px 22px;
      }

      .hero-copy {
        text-align: center;
        justify-items: center;
      }

      .hero-subtitle {
        margin-left: auto;
        margin-right: auto;
      }

      .hero-cta {
        justify-content: center;
      }

      .hero-metrics {
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      }

      .hero-metric {
        text-align: center;
      }

      .hero-badge {
        letter-spacing: 0.22em;
      }

      .hero-visual {
        gap: 18px;
      }

      .hero-kicker {
        justify-content: center;
        flex-wrap: wrap;
        gap: 10px;
        letter-spacing: 0.26em;
      }

      .hero-kicker::before,
      .hero-kicker::after {
        width: 32px;
      }

      .reservation-nav {
        top: auto;
      }

      .stage-card__actions {
        flex-direction: column;
        align-items: stretch;
      }

      .btn {
        width: 100%;
      }

      .stage-summary {
        padding: 24px 22px;
        gap: 20px;
      }

      .cart-options {
        flex-direction: column;
        align-items: stretch;
        gap: 12px;
      }

      .cart-chip span {
        width: 100%;
        justify-content: center;
      }

      .reservation-form {
        padding: 26px 20px;
      }

      .reservation-toast {
        max-width: calc(100% - 32px);
      }
    }

    @media (max-width: 600px) {
      .stage-card {
        padding: 24px 22px;
        border-radius: 24px;
      }

      .stage-card__sessions {
        padding: 18px;
      }

      .stage-summary {
        padding: 24px 20px;
      }

      .calendar-entry__header {
        flex-direction: column;
        align-items: flex-start;
        gap: 6px;
      }

      .calendar-month {
        padding: 20px;
      }

      .calendar-entry {
        padding: 16px;
      }

      .calendar-entry__actions {
        width: 100%;
      }

      .calendar-entry__actions .btn {
        width: 100%;
      }
    }

    @media (max-width: 480px) {
      .hero-badge {
        letter-spacing: 0.18em;
        padding-inline: 16px;
      }

      .hero-kicker::before,
      .hero-kicker::after {
        display: none;
      }

      .hero-pass {
        padding: 24px 20px;
      }

      .hero-metrics {
        grid-template-columns: minmax(0, 1fr);
      }

      .cart-item {
        padding: 16px;
      }

      .option-block {
        padding: 22px;
      }
    }
  </style>
</head>
<body class="reservation-page">
  <header class="reservation-hero" id="top">
    <div class="hero-content">
      <div class="hero-shell">
        <div class="hero-copy">
          <span class="hero-badge">Collection Signature 2024</span>
          <span class="hero-kicker">Tennis Impact Academy</span>
          <h1 class="hero-title">Réservez votre stage premium</h1>
          <p class="hero-subtitle">
            Choisissez votre programme idéal, vos dates et vos options pour vivre une semaine d'entraînement haute
            intensité aux côtés de notre équipe élite. Nous orchestrons l'accueil, les repas, l'hébergement et le suivi
            personnalisé dès votre demande.
          </p>
          <div class="hero-cta">
            <a class="btn btn--primary" href="#stages">Découvrir les stages</a>
            <a class="btn btn--ghost" href="tel:+33607080910">Parler à un conseiller</a>
          </div>
          <ul class="hero-metrics">
            <li class="hero-metric">
              <strong>98&nbsp;%</strong>
              <span>Satisfaction familles sur la saison 2023</span>
            </li>
            <li class="hero-metric">
              <strong>1 coach / 4</strong>
              <span>Ratio d'encadrement garanti sur chaque stage</span>
            </li>
            <li class="hero-metric">
              <strong>+300</strong>
              <span>Joueurs accompagnés chaque année</span>
            </li>
          </ul>
          <div class="hero-benefits">
            <div class="hero-benefit">
              <span aria-hidden="true">★</span>
              <div>
                <strong>Coaching sur-mesure</strong>
                <p>Bilans individuels, analyse vidéo quotidienne et ratio de 4 joueurs par coach pour accélérer les
                  progrès.</p>
              </div>
            </div>
            <div class="hero-benefit">
              <span aria-hidden="true">⏱</span>
              <div>
                <strong>Planning optimisé</strong>
                <p>Deux entraînements tennis par jour, préparation physique ciblée et ateliers mentaux pour performer en
                  compétition.</p>
              </div>
            </div>
            <div class="hero-benefit">
              <span aria-hidden="true">✨</span>
              <div>
                <strong>Expérience premium</strong>
                <p>Hospitalité 4 étoiles, chef privé, conciergerie transport et soirées signatures au sein du domaine
                  Impact.</p>
              </div>
            </div>
          </div>
          <p class="hero-note">Réservations sur-mesure pour joueurs et joueuses de 8 à 18 ans ainsi que programmes adultes.</p>
        </div>
        <div class="hero-visual">
          <div class="hero-pass">
            <p class="hero-pass__title">Conciergerie 24/7</p>
            <p class="hero-pass__subtitle">Notre équipe dédiée orchestre chaque détail de votre expérience premium.</p>
            <ul class="hero-pass__list">
              <li>Accueil privé &amp; transfert personnalisé</li>
              <li>Suites signature avec chef nutrition</li>
              <li>Service WhatsApp dédié aux familles</li>
            </ul>
          </div>
          <div class="hero-seal" aria-label="Excellence 2024">
            Excellence<span>2024</span>
          </div>
        </div>
      </div>
    </div>
  </header>

  <nav class="reservation-nav" aria-label="Navigation du parcours">
    <ul>
      <li><a href="#stages">Stages</a></li>
      <li><a href="#calendrier">Calendrier</a></li>
      <li><a href="#methodologie">Méthodologie</a></li>
      <li><a href="#lieux">Lieux</a></li>
      <li><a href="#options">Options</a></li>
      <li><a href="#faq">FAQ</a></li>
      <li><a href="#reservation">Réserver</a></li>
    </ul>
  </nav>

  <main>
    <section id="stages" class="reservation-section reservation-section--surface">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Les stages signature</span>
          <h2>Choisissez le programme adapté à votre niveau</h2>
          <p>Nos directeurs techniques ont conçu trois parcours complémentaires pour répondre aux objectifs de chaque
            joueur : performance, progression ou immersion adulte. Sélectionnez vos dates, personnalisez les options et
            constituez votre séjour idéal.</p>
        </div>

        <div class="stage-layout">
          <div class="stage-list" data-stage-list></div>

          <aside class="stage-summary" aria-label="Panier de réservation">
            <h3>Votre sélection</h3>
            <p class="cart-empty" data-cart-empty>Ajoutez un stage pour constituer votre séjour personnalisé.</p>
            <div class="cart-items" data-cart-items></div>
            <div class="cart-total">
              <div class="cart-total__row">
                <span>Total estimé</span>
                <span class="cart-total__amount" data-cart-total>0 €</span>
              </div>
              <p class="cart-note">Les options hébergement et transport sont ajustables jusqu’à la validation finale.
              </p>
              <button type="button" class="btn btn--primary" data-scroll-to-form disabled>Finaliser ma demande</button>
            </div>
          </aside>
        </div>
      </div>
    </section>

    <section id="calendrier" class="reservation-section reservation-section--deep">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Calendrier 2024</span>
          <h2>Planifiez votre semaine idéale</h2>
          <p>Chaque semaine de stage est limitée pour préserver la qualité d’entraînement. Consultez les disponibilités
            en temps réel et ajoutez la session de votre choix à votre panier.</p>
        </div>

        <div class="calendar-grid" data-calendar></div>
        <p class="calendar-legend">Les départs sont garantis dès 6 participants confirmés. Nous vous recontactons sous
          24&nbsp;h pour valider l’hébergement et le transport.</p>
      </div>
    </section>

    <section id="methodologie" class="reservation-section reservation-section--surface">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Notre méthode</span>
          <h2>Un accompagnement complet sur et en dehors du court</h2>
          <p>La Tennis Impact Academy s’appuie sur une équipe pluridisciplinaire : coaches experts FFT, préparateurs
            physiques, ostéopathes et staff hospitalité. Chaque joueur repart avec un plan de progression détaillé.</p>
        </div>

        <div class="features-grid">
          <article class="feature-card">
            <h3>Bilan initial individualisé</h3>
            <p>Avant la première balle, nous réalisons un entretien vidéo et un test de mobilité afin de calibrer le
              contenu technique, physique et mental de la semaine.</p>
          </article>
          <article class="feature-card">
            <h3>Coaching haute performance</h3>
            <p>2h30 de tennis le matin, ateliers tactiques l’après-midi, matchs dirigés et feedback vidéo quotidien avec
              votre référent de stage.</p>
          </article>
          <article class="feature-card">
            <h3>Suivi bien-être et récupération</h3>
            <p>Préparation physique fonctionnelle, cryothérapie, séances d’étirements guidés et cuisine sportive
              personnalisée par notre chef.</p>
          </article>
          <article class="feature-card">
            <h3>Restitution premium</h3>
            <p>Remise d’un dossier digital : statistiques match, vidéos commentées, plan d’entraînement sur 6 semaines et
              recommandations nutritionnelles.</p>
          </article>
        </div>
      </div>
    </section>

    <section id="lieux" class="reservation-section reservation-section--deep">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Nos destinations</span>
          <h2>Des cadres d’exception pour progresser</h2>
          <p>Nous sélectionnons des sites premium avec infrastructures indoor/outdoor, espaces bien-être et hébergements
            haut de gamme pour offrir confort et intensité à chaque joueur.</p>
        </div>

        <div class="locations-grid">
          <article class="location-card">
            <h3>Domaine Impact – Bordeaux</h3>
            <p>Centre d’entraînement principal au cœur d’un parc arboré. 6 courts extérieurs, 3 courts couverts, salle de
              préparation physique, espace récupération et villa privative.</p>
            <ul>
              <li>Hébergement suites juniors &amp; penthouse</li>
              <li>Chef privé &amp; nutrition sportive</li>
              <li>Accès navette gare Bordeaux Saint-Jean</li>
            </ul>
          </article>
          <article class="location-card">
            <h3>Grand Hôtel de Biarritz</h3>
            <p>Vue océan, courts en terre battue et programme surf/condition physique complémentaire pour varier les
              sollicitations.</p>
            <ul>
              <li>Programme premium adultes &amp; familles</li>
              <li>Hébergement ***** &amp; spa marin</li>
              <li>Transferts aéroport Biarritz inclus</li>
            </ul>
          </article>
          <article class="location-card">
            <h3>Hostens Forest Lodge</h3>
            <p>Immersion nature et stage résidentiel pour les 10-14 ans : courts GreenSet, lac privatif, activités
              outdoor et accompagnement 24h/24.</p>
            <ul>
              <li>Encadrement pédagogique dédié</li>
              <li>Chalets premium 4 lits</li>
              <li>Transport collectif depuis Bordeaux</li>
            </ul>
          </article>
        </div>
      </div>
    </section>

    <section id="options" class="reservation-section reservation-section--surface">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Options &amp; services</span>
          <h2>Personnalisez votre séjour</h2>
          <p>Hébergement grand confort, navettes dédiées, séances individuelles supplémentaires… nos conseillers ajustent
            chaque détail selon vos besoins.</p>
        </div>

        <div class="options-grid">
          <article class="option-block">
            <h3>Hébergement premium</h3>
            <p>Suites partagées ou individuelles, encadrement nocturne, room service sportif et animations privées. À
              partir de 290&nbsp;€ la semaine.</p>
          </article>
          <article class="option-block">
            <h3>Transport personnalisé</h3>
            <p>Navettes gare/aéroport, chauffeur privé depuis votre domicile ou organisation du transport collectif
              depuis les principales villes.</p>
          </article>
          <article class="option-block">
            <h3>Coaching additionnel</h3>
            <p>Séances individuelles en plus du programme collectif, préparation mentale, match analysis ou hitting avec
              sparring partenaire.</p>
          </article>
          <article class="option-block">
            <h3>Conciergerie famille</h3>
            <p>Réservations hôtels &amp; restaurants partenaires, activités touristiques, courts &amp; coachs privatisables pour
              les accompagnants.</p>
          </article>
        </div>
      </div>
    </section>

    <section id="faq" class="reservation-section reservation-section--deep">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">FAQ</span>
          <h2>Vos questions les plus fréquentes</h2>
          <p>Un chargé de relation famille vous accompagne avant, pendant et après le stage. Voici les réponses aux
            questions qui reviennent le plus souvent.</p>
        </div>

        <div class="faq-list">
          <details>
            <summary>Quel niveau est requis pour participer ?</summary>
            <p>Nos stages accueillent les joueurs classés de NC à -2/6. Chaque session est organisée par groupe homogène
              (maximum 4 joueurs par coach). Un entretien préalable permet d’orienter vers le programme adapté.</p>
          </details>
          <details>
            <summary>Comment se déroule l’hébergement ?</summary>
            <p>Les jeunes résident dans nos suites sécurisées ou chalets premium, encadrés 24h/24. Les adultes peuvent
              opter pour nos hôtels partenaires ou une formule sans hébergement.</p>
          </details>
          <details>
            <summary>Peut-on venir en famille ?</summary>
            <p>Oui ! Des packs famille sont disponibles avec accès spa, séances de tennis privatisées et activités
              touristiques. Indiquez-le dans votre demande pour que nous préparions un devis dédié.</p>
          </details>
          <details>
            <summary>Quel est le processus de réservation ?</summary>
            <p>Ajoutez votre stage et vos options, complétez le formulaire, puis un conseiller vous contacte sous 24&nbsp;h
              pour confirmer les disponibilités, valider les options et envoyer le contrat électronique.</p>
          </details>
        </div>
      </div>
    </section>

    <section id="reservation" class="reservation-section reservation-section--surface">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Réservation</span>
          <h2>Finalisez votre demande personnalisée</h2>
          <p>Indiquez-nous vos coordonnées et les informations sur le participant. Un conseiller vous rappellera sous
            24&nbsp;h pour valider l’ensemble de votre séjour.</p>
        </div>

        <form class="reservation-form" data-reservation-form>
          <div class="form-selection" data-form-selection>
            <p class="form-selection__empty">Votre panier est vide. Ajoutez un stage pour générer votre devis
              personnalisé.</p>
          </div>

          <div class="form-grid">
            <div class="form-control">
              <label for="responsable-name">Nom et prénom du responsable</label>
              <input type="text" id="responsable-name" name="responsable" autocomplete="name" required />
            </div>
            <div class="form-control">
              <label for="responsable-email">Adresse e-mail</label>
              <input type="email" id="responsable-email" name="email" autocomplete="email" required />
            </div>
            <div class="form-control">
              <label for="responsable-phone">Téléphone</label>
              <input type="tel" id="responsable-phone" name="telephone" autocomplete="tel" required />
            </div>
            <div class="form-control">
              <label for="participant-name">Participant principal</label>
              <input type="text" id="participant-name" name="participant" autocomplete="given-name" required />
            </div>
            <div class="form-control">
              <label for="participant-birth">Date de naissance</label>
              <input type="date" id="participant-birth" name="naissance" required />
            </div>
            <div class="form-control">
              <label for="participant-level">Niveau actuel</label>
              <select id="participant-level" name="niveau" required>
                <option value="" disabled selected>Choisissez une option</option>
                <option value="initiation">Initiation / Galaxie</option>
                <option value="perfectionnement">Perfectionnement (classement 30/5 à 15/4)</option>
                <option value="competition">Compétition (15/3 à 2/6)</option>
                <option value="haut-niveau">Haut niveau (-2/6 et plus)</option>
              </select>
            </div>
            <div class="form-control">
              <label>Option hébergement</label>
              <div class="option-selector" role="group" aria-label="Choix de l'hébergement">
                <label>
                  <input type="radio" name="hebergement" value="Avec hébergement" checked />
                  <span>Avec hébergement</span>
                </label>
                <label>
                  <input type="radio" name="hebergement" value="Sans hébergement" />
                  <span>Sans hébergement</span>
                </label>
              </div>
            </div>
            <div class="form-control">
              <label>Option transport</label>
              <div class="option-selector" role="group" aria-label="Choix du transport">
                <label>
                  <input type="radio" name="transport" value="Avec transport" checked />
                  <span>Avec transport</span>
                </label>
                <label>
                  <input type="radio" name="transport" value="Sans transport" />
                  <span>Sans transport</span>
                </label>
              </div>
            </div>
            <div class="form-control">
              <label for="message">Précisions complémentaires</label>
              <textarea id="message" name="message" placeholder="Allergies, attentes spécifiques, préférences horaires..."></textarea>
            </div>
          </div>

          <div class="form-actions">
            <button type="submit" class="btn btn--primary" data-submit-button disabled>Envoyer ma demande personnalisée</button>
            <p class="form-feedback" role="status" aria-live="polite" data-form-feedback></p>
          </div>

          <div data-hidden-inputs></div>
        </form>
      </div>
    </section>
  </main>

  <footer class="reservation-footer">
    Besoin d’une assistance immédiate ? Contactez notre conciergerie :
    <a href="tel:+33607080910">+33 6 07 08 09 10</a> •
    <a href="mailto:contact@tennisimpact.fr">contact@tennisimpact.fr</a>
  </footer>

  <div class="reservation-toast" role="status" aria-live="polite" data-toast></div>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const stageCatalog = [
        {
          id: 'performance-ados',
          title: 'Stage Intensif Performance',
          tagline: 'Préparation match & coaching mental',
          audience: '12-17 ans • Niveau compétition',
          description:
            'Programme signature pour joueurs classés 15/3 à -2/6 : coaching intensif, suivi mental et préparation physique quotidienne.',
          price: 890,
          lodgingPrice: 320,
          transportPrice: 110,
          highlights: [
            '2 séances tennis quotidiennes + ateliers tactiques en situation de match',
            'Analyse vidéo HD, plan tactique personnalisé et entretien mental',
            'Accès cryothérapie, ostéopathie et cuisine sportive dédiée'
          ],
          sessions: [
            {
              start: '2024-06-24',
              end: '2024-06-29',
              location: 'Domaine Impact – Bordeaux',
              status: 'Places limitées (5)',
              spots: 5
            },
            {
              start: '2024-07-08',
              end: '2024-07-13',
              location: 'Domaine Impact – Bordeaux',
              status: 'Dernières places',
              spots: 4
            },
            {
              start: '2024-08-05',
              end: '2024-08-10',
              location: 'Grand Hôtel de Biarritz',
              status: 'Nouvelles disponibilités',
              spots: 6
            }
          ]
        },
        {
          id: 'progression-jeunes',
          title: 'Stage Évolution Jeunes',
          tagline: 'Progression technique & confiance',
          audience: '9-13 ans • Classement NC à 30/3',
          description:
            'Une semaine structurée et ludique pour consolider les fondamentaux, gagner en régularité et développer la confiance en match.',
          price: 690,
          lodgingPrice: 280,
          transportPrice: 95,
          highlights: [
            'Séances spécifiques par thèmes : services, retours, jeu de jambes',
            'Ateliers tactiques en petit groupe et matchs coachés chaque après-midi',
            'Activités outdoor, veillées encadrées et accompagnement 24h/24'
          ],
          sessions: [
            {
              start: '2024-07-01',
              end: '2024-07-06',
              location: 'Hostens Forest Lodge',
              status: 'Places disponibles (9)',
              spots: 9
            },
            {
              start: '2024-07-22',
              end: '2024-07-27',
              location: 'Hostens Forest Lodge',
              status: 'Nouvelles ouvertures',
              spots: 8
            },
            {
              start: '2024-08-19',
              end: '2024-08-24',
              location: 'Domaine Impact – Bordeaux',
              status: 'Stage confirmé',
              spots: 7
            }
          ]
        },
        {
          id: 'experience-adultes',
          title: 'Stage Expérience Adultes',
          tagline: 'Immersion prestige & coaching illimité',
          audience: 'Adultes classés 30/1 à 15/1',
          description:
            'Une immersion luxe à Biarritz : coaching en très petit groupe, séances individuelles quotidiennes et expériences bien-être.',
          price: 640,
          lodgingPrice: 420,
          transportPrice: 140,
          highlights: [
            '3h de tennis quotidien + hitting avec sparring partenaire',
            'Accès spa marin, yoga de récupération et dîners gastronomiques',
            'Conciergerie dédiée pour conjoints et accompagnants'
          ],
          sessions: [
            {
              start: '2024-06-17',
              end: '2024-06-21',
              location: 'Grand Hôtel de Biarritz',
              status: 'Derniers suites disponibles',
              spots: 3
            },
            {
              start: '2024-07-29',
              end: '2024-08-02',
              location: 'Grand Hôtel de Biarritz',
              status: 'Places disponibles (6)',
              spots: 6
            }
          ]
        }
      ];

      const stageList = document.querySelector('[data-stage-list]');
      const cartEmpty = document.querySelector('[data-cart-empty]');
      const cartItems = document.querySelector('[data-cart-items]');
      const cartTotal = document.querySelector('[data-cart-total]');
      const finalizeButton = document.querySelector('[data-scroll-to-form]');
      const submitButton = document.querySelector('[data-submit-button]');
      const formSelection = document.querySelector('[data-form-selection]');
      const hiddenInputs = document.querySelector('[data-hidden-inputs]');
      const form = document.querySelector('[data-reservation-form]');
      const formFeedback = document.querySelector('[data-form-feedback]');
      const calendarContainer = document.querySelector('[data-calendar]');
      const toast = document.querySelector('[data-toast]');
      const navLinks = Array.from(document.querySelectorAll('.reservation-nav a'));
      const currencyFormatter = new Intl.NumberFormat('fr-FR', {
        style: 'currency',
        currency: 'EUR',
        maximumFractionDigits: 0
      });

      let cart = [];
      let toastTimeout;

      function formatCurrency(value) {
        return currencyFormatter.format(value);
      }

      function formatDateRange(start, end) {
        const startDate = new Date(start);
        const endDate = new Date(end);
        const sameMonth = startDate.getMonth() === endDate.getMonth();
        const options = { day: 'numeric', month: 'long' };
        const startLabel = startDate.toLocaleDateString('fr-FR', options);
        const endLabel = endDate.toLocaleDateString('fr-FR', options);
        return sameMonth ? `${startDate.getDate()} – ${endLabel}` : `${startLabel} – ${endLabel}`;
      }

      function formatMonthLabel(dateString) {
        const label = new Date(dateString).toLocaleDateString('fr-FR', { month: 'long', year: 'numeric' });
        return label.charAt(0).toUpperCase() + label.slice(1);
      }

      function showToast(message) {
        if (!toast) return;
        toast.textContent = message;
        toast.classList.add('is-visible');
        clearTimeout(toastTimeout);
        toastTimeout = setTimeout(() => {
          toast.classList.remove('is-visible');
        }, 3400);
      }

      function renderStages() {
        if (!stageList) return;
        stageList.innerHTML = '';

        stageCatalog.forEach((stage) => {
          const card = document.createElement('article');
          card.className = 'stage-card';
          card.innerHTML = `
            <header class="stage-card__header">
              <span class="stage-card__tagline">${stage.tagline}</span>
              <h3 class="stage-card__title">${stage.title}</h3>
              <p class="stage-card__audience">${stage.audience}</p>
              <p class="stage-card__description">${stage.description}</p>
            </header>
            <ul class="stage-card__highlights">
              ${stage.highlights.map((item) => `<li>${item}</li>`).join('')}
            </ul>
            <div class="stage-card__sessions">
              <label for="${stage.id}-session">Prochaines sessions</label>
              <select id="${stage.id}-session" data-session-select>
                ${stage.sessions
                  .map(
                    (session, index) =>
                      `<option value="${index}">${formatDateRange(session.start, session.end)} • ${session.location}</option>`
                  )
                  .join('')}
              </select>
              <div class="stage-card__session-info" data-session-info></div>
            </div>
            <div class="stage-card__actions">
              <div class="stage-card__price">
                <span>Programme 6 jours</span>
                <strong>${formatCurrency(stage.price)}</strong>
                <small>Options hébergement dès ${formatCurrency(stage.lodgingPrice)}</small>
              </div>
              <button type="button" class="btn btn--primary" data-add-stage data-stage-id="${stage.id}">
                Ajouter au panier
              </button>
            </div>
          `;

          const select = card.querySelector('[data-session-select]');
          const info = card.querySelector('[data-session-info]');
          const button = card.querySelector('[data-add-stage]');

          function updateInfo(index) {
            const session = stage.sessions[index];
            if (!session) return;
            info.innerHTML = `
              <span><strong>${formatDateRange(session.start, session.end)}</strong></span>
              <span>${session.location}</span>
              <span>${session.status}</span>
            `;
            button.dataset.sessionIndex = String(index);
          }

          updateInfo(Number(select.value) || 0);

          select.addEventListener('change', (event) => {
            updateInfo(Number(event.target.value));
          });

          button.addEventListener('click', () => {
            const sessionIndex = Number(button.dataset.sessionIndex || 0);
            addToCart(stage.id, sessionIndex);
          });

          stageList.appendChild(card);
        });
      }

      function addToCart(stageId, sessionIndex) {
        const key = `${stageId}-${sessionIndex}`;
        if (cart.some((item) => item.key === key)) {
          showToast('Cette session est déjà dans votre sélection.');
          return;
        }
        cart.push({ key, stageId, sessionIndex, lodging: false, transport: false });
        renderCart();
        showToast('Stage ajouté à votre sélection.');
      }

      function removeFromCart(key) {
        cart = cart.filter((item) => item.key !== key);
        renderCart();
        showToast('Stage retiré de votre sélection.');
      }

      function calculateItemTotal(item) {
        const stage = stageCatalog.find((stage) => stage.id === item.stageId);
        if (!stage) return 0;
        let total = stage.price;
        if (item.lodging) total += stage.lodgingPrice;
        if (item.transport) total += stage.transportPrice;
        return total;
      }

      function calculateTotal() {
        return cart.reduce((sum, item) => sum + calculateItemTotal(item), 0);
      }

      function updateCartOption(key, option, value) {
        const target = cart.find((item) => item.key === key);
        if (!target) return;
        target[option === 'lodging' ? 'lodging' : 'transport'] = value;
        renderCart();
      }

    }

    .calendar-entry {
      display: grid;
      gap: 6px;
      padding: 18px;
      border-radius: 18px;
      background: rgba(8, 20, 46, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.08);
    }

    .calendar-entry__actions {
      display: flex;
      justify-content: flex-start;
    }

    .calendar-legend {
      margin-top: clamp(22px, 3vw, 32px);
      color: rgba(236, 240, 255, 0.68);
      text-align: center;
      font-size: 0.95rem;
    }

    .calendar-entry__header {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
    }

    .calendar-entry__dates {
      font-weight: 600;
      color: var(--accent);
    }

    .calendar-entry__meta {
      margin: 0;
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    .features-grid {
      display: grid;
      gap: clamp(20px, 3vw, 32px);
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    }

    .feature-card {
      padding: 24px;
      border-radius: 24px;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.08);
      display: grid;
      gap: 12px;
    }

    .feature-card h3 {
      margin: 0;
      font-size: 1.2rem;
    }

    .feature-card p {
      margin: 0;
      color: var(--text-secondary);
    }

    .locations-grid {
      display: grid;
      gap: clamp(20px, 3vw, 32px);
    }

    @media (min-width: 860px) {
      .locations-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }
    }

    .location-card {
      padding: 26px;
      border-radius: 24px;
      background: rgba(8, 20, 46, 0.62);
      border: 1px solid rgba(255, 255, 255, 0.08);
      display: grid;
      gap: 12px;
    }

    .location-card h3 {
      margin: 0;
      font-size: 1.25rem;
    }

    .location-card ul {
      margin: 0;
      padding-left: 20px;
      color: var(--text-secondary);
    }

    .options-grid {
      display: grid;
      gap: clamp(24px, 4vw, 40px);
    }

    @media (min-width: 960px) {
      .options-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    .option-block {
      padding: 26px;
      border-radius: 24px;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.08);
      display: grid;
      gap: 12px;
    }

    .option-block h3 {
      margin: 0;
      font-size: 1.2rem;
    }

    .option-block p {
      margin: 0;
      color: var(--text-secondary);
    }

    .faq-list {
      display: grid;
      gap: 16px;
    }

    .faq-list details {
      border-radius: 20px;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 18px 22px;
    }

    .faq-list summary {
      cursor: pointer;
      font-weight: 600;
      list-style: none;
    }

    .faq-list summary::marker,
    .faq-list summary::-webkit-details-marker {
      display: none;
    }

    .faq-list details p {
      margin: 14px 0 0;
      color: var(--text-secondary);
    }

    .reservation-form {
      display: grid;
      gap: clamp(24px, 3vw, 36px);
      padding: clamp(26px, 4vw, 36px);
      border-radius: 28px;
      background: rgba(6, 14, 34, 0.84);
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: var(--shadow-soft);
    }

    .form-grid {
      display: grid;
      gap: 18px;
    }

    @media (min-width: 860px) {
      .form-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    .form-control {
      display: grid;
      gap: 8px;
    }

    .form-control label {
      font-weight: 600;
    }

    .form-control input,
    .form-control select,
    .form-control textarea {
      width: 100%;
      padding: 14px 16px;
      border-radius: 16px;
      border: 1px solid rgba(255, 255, 255, 0.14);
      background: rgba(8, 18, 44, 0.6);
      color: var(--text-primary);
      font-size: 1rem;
    }

    .form-control textarea {
      min-height: 140px;
      resize: vertical;
    }

    .form-control input:focus-visible,
    .form-control select:focus-visible,
    .form-control textarea:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    .option-selector {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .option-selector label {
      position: relative;
    }

    .option-selector input {
      position: absolute;
      inset: 0;
      opacity: 0;
    }

    .option-selector span {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 18px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.14);
      background: rgba(255, 255, 255, 0.06);
      font-size: 0.92rem;
    }

    .option-selector input:checked + span {
      background: rgba(245, 196, 81, 0.22);
      border-color: rgba(245, 196, 81, 0.45);
      color: var(--accent);
    }

    .form-selection {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 20px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 18px;
      display: grid;
      gap: 14px;
    }

    .form-selection__item {
      display: grid;
      gap: 4px;
      font-size: 0.95rem;
    }

    .form-selection__empty {
      margin: 0;
      color: var(--text-secondary);
    }

    .form-selection__total {
      margin-top: 6px;
      font-size: 1.05rem;
      color: var(--accent);
    }

    .form-actions {
      display: flex;
      flex-direction: column;
      gap: 12px;
      align-items: flex-start;
    }

    .form-feedback {
      margin: 0;
      font-size: 0.95rem;
      color: var(--accent);
    }

    .reservation-footer {
      text-align: center;
      padding: 48px 20px;
      color: rgba(222, 231, 255, 0.68);
      font-size: 0.9rem;
    }

    .reservation-toast {
      position: fixed;
      bottom: 24px;
      right: clamp(20px, 4vw, 48px);
      background: rgba(6, 14, 34, 0.9);
      border-radius: 18px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 14px 18px;
      color: var(--text-primary);
      font-size: 0.95rem;
      box-shadow: 0 18px 46px rgba(2, 8, 24, 0.55);
      opacity: 0;
      transform: translateY(12px);
      transition: opacity 0.3s ease, transform 0.3s ease;
      pointer-events: none;
      z-index: 200;
    }

    .reservation-toast.is-visible {
      opacity: 1;
      transform: translateY(0);
    }

    @media (max-width: 720px) {
      .hero-content {
        padding: 32px 22px;
      }

      .reservation-nav {
        top: auto;
      }

      .stage-card__actions {
        flex-direction: column;
        align-items: stretch;
      }

      .btn {
        width: 100%;
      }

      .stage-summary {
        position: relative;
        top: 0;
      }

      .reservation-form {
        padding: 26px 20px;
      }

      .reservation-toast {
        left: 50%;
        right: auto;
        transform: translate(-50%, 12px);
      }

      .reservation-toast.is-visible {
        transform: translate(-50%, 0);
      }
    }
  </style>
</head>
<body class="reservation-page">
  <header class="reservation-hero" id="top">
    <div class="hero-content">
      <span class="hero-kicker">Tennis Impact Academy</span>
      <h1 class="hero-title">Réservez votre stage premium</h1>
      <p class="hero-subtitle">
        Choisissez votre programme idéal, vos dates et vos options pour vivre une semaine d'entraînement haute
        intensité aux côtés de notre équipe élite. Nous orchestrons l'accueil, les repas, l'hébergement et le suivi
        personnalisé dès votre demande.
      </p>
      <div class="hero-cta">
        <a class="btn btn--primary" href="#stages">Découvrir les stages</a>
        <a class="btn btn--ghost" href="tel:+33607080910">Parler à un conseiller</a>
      </div>
      <div class="hero-benefits">
        <div class="hero-benefit">
          <span aria-hidden="true">★</span>
          <div>
            <strong>Coaching sur-mesure</strong>
            <p>Bilans individuels, analyse vidéo quotidienne et ratio de 4 joueurs par coach pour accélérer les
              progrès.</p>
          </div>
        </div>
        <div class="hero-benefit">
          <span aria-hidden="true">⏱</span>
          <div>
            <strong>Planning optimisé</strong>
            <p>Deux entraînements tennis par jour, préparation physique ciblée et ateliers mentaux pour performer en
              compétition.</p>
          </div>
        </div>
        <div class="hero-benefit">
          <span aria-hidden="true">✨</span>
          <div>
            <strong>Expérience premium</strong>
            <p>Hospitalité 4 étoiles, chef privé, conciergerie transport et soirées signatures au sein du domaine
              Impact.</p>
          </div>
        </div>
      </div>
      <p class="hero-note">Réservations sur-mesure pour joueurs et joueuses de 8 à 18 ans ainsi que programmes adultes.</p>
    </div>
  </header>

  <nav class="reservation-nav" aria-label="Navigation du parcours">
    <ul>
      <li><a href="#stages">Stages</a></li>
      <li><a href="#calendrier">Calendrier</a></li>
      <li><a href="#methodologie">Méthodologie</a></li>
      <li><a href="#lieux">Lieux</a></li>
      <li><a href="#options">Options</a></li>
      <li><a href="#faq">FAQ</a></li>
      <li><a href="#reservation">Réserver</a></li>
    </ul>
  </nav>

  <main>
    <section id="stages" class="reservation-section reservation-section--surface">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Les stages signature</span>
          <h2>Choisissez le programme adapté à votre niveau</h2>
          <p>Nos directeurs techniques ont conçu trois parcours complémentaires pour répondre aux objectifs de chaque
            joueur : performance, progression ou immersion adulte. Sélectionnez vos dates, personnalisez les options et
            constituez votre séjour idéal.</p>
        </div>

        <div class="stage-layout">
          <div class="stage-list" data-stage-list></div>

          <aside class="stage-summary" aria-label="Panier de réservation">
            <h3>Votre sélection</h3>
            <p class="cart-empty" data-cart-empty>Ajoutez un stage pour constituer votre séjour personnalisé.</p>
            <div class="cart-items" data-cart-items></div>
            <div class="cart-total">
              <div class="cart-total__row">
                <span>Total estimé</span>
                <span class="cart-total__amount" data-cart-total>0 €</span>
              </div>
              <p class="cart-note">Les options hébergement et transport sont ajustables jusqu’à la validation finale.
              </p>
              <button type="button" class="btn btn--primary" data-scroll-to-form disabled>Finaliser ma demande</button>
            </div>
          </aside>
        </div>
      </div>
    </section>

    <section id="calendrier" class="reservation-section reservation-section--deep">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Calendrier 2024</span>
          <h2>Planifiez votre semaine idéale</h2>
          <p>Chaque semaine de stage est limitée pour préserver la qualité d’entraînement. Consultez les disponibilités
            en temps réel et ajoutez la session de votre choix à votre panier.</p>
        </div>

        <div class="calendar-grid" data-calendar></div>
        <p class="calendar-legend">Les départs sont garantis dès 6 participants confirmés. Nous vous recontactons sous
          24&nbsp;h pour valider l’hébergement et le transport.</p>
      </div>
    </section>

    <section id="methodologie" class="reservation-section reservation-section--surface">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Notre méthode</span>
          <h2>Un accompagnement complet sur et en dehors du court</h2>
          <p>La Tennis Impact Academy s’appuie sur une équipe pluridisciplinaire : coaches experts FFT, préparateurs
            physiques, ostéopathes et staff hospitalité. Chaque joueur repart avec un plan de progression détaillé.</p>
        </div>

        <div class="features-grid">
          <article class="feature-card">
            <h3>Bilan initial individualisé</h3>
            <p>Avant la première balle, nous réalisons un entretien vidéo et un test de mobilité afin de calibrer le
              contenu technique, physique et mental de la semaine.</p>
          </article>
          <article class="feature-card">
            <h3>Coaching haute performance</h3>
            <p>2h30 de tennis le matin, ateliers tactiques l’après-midi, matchs dirigés et feedback vidéo quotidien avec
              votre référent de stage.</p>
          </article>
          <article class="feature-card">
            <h3>Suivi bien-être et récupération</h3>
            <p>Préparation physique fonctionnelle, cryothérapie, séances d’étirements guidés et cuisine sportive
              personnalisée par notre chef.</p>
          </article>
          <article class="feature-card">
            <h3>Restitution premium</h3>
            <p>Remise d’un dossier digital : statistiques match, vidéos commentées, plan d’entraînement sur 6 semaines et
              recommandations nutritionnelles.</p>
          </article>
        </div>
      </div>
    </section>

    <section id="lieux" class="reservation-section reservation-section--deep">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Nos destinations</span>
          <h2>Des cadres d’exception pour progresser</h2>
          <p>Nous sélectionnons des sites premium avec infrastructures indoor/outdoor, espaces bien-être et hébergements
            haut de gamme pour offrir confort et intensité à chaque joueur.</p>
        </div>

        <div class="locations-grid">
          <article class="location-card">
            <h3>Domaine Impact – Bordeaux</h3>
            <p>Centre d’entraînement principal au cœur d’un parc arboré. 6 courts extérieurs, 3 courts couverts, salle de
              préparation physique, espace récupération et villa privative.</p>
            <ul>
              <li>Hébergement suites juniors &amp; penthouse</li>
              <li>Chef privé &amp; nutrition sportive</li>
              <li>Accès navette gare Bordeaux Saint-Jean</li>
            </ul>
          </article>
          <article class="location-card">
            <h3>Grand Hôtel de Biarritz</h3>
            <p>Vue océan, courts en terre battue et programme surf/condition physique complémentaire pour varier les
              sollicitations.</p>
            <ul>
              <li>Programme premium adultes &amp; familles</li>
              <li>Hébergement ***** &amp; spa marin</li>
              <li>Transferts aéroport Biarritz inclus</li>
            </ul>
          </article>
          <article class="location-card">
            <h3>Hostens Forest Lodge</h3>
            <p>Immersion nature et stage résidentiel pour les 10-14 ans : courts GreenSet, lac privatif, activités
              outdoor et accompagnement 24h/24.</p>
            <ul>
              <li>Encadrement pédagogique dédié</li>
              <li>Chalets premium 4 lits</li>
              <li>Transport collectif depuis Bordeaux</li>
            </ul>
          </article>
        </div>
      </div>
    </section>

    <section id="options" class="reservation-section reservation-section--surface">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Options &amp; services</span>
          <h2>Personnalisez votre séjour</h2>
          <p>Hébergement grand confort, navettes dédiées, séances individuelles supplémentaires… nos conseillers ajustent
            chaque détail selon vos besoins.</p>
        </div>

        <div class="options-grid">
          <article class="option-block">
            <h3>Hébergement premium</h3>
            <p>Suites partagées ou individuelles, encadrement nocturne, room service sportif et animations privées. À
              partir de 290&nbsp;€ la semaine.</p>
          </article>
          <article class="option-block">
            <h3>Transport personnalisé</h3>
            <p>Navettes gare/aéroport, chauffeur privé depuis votre domicile ou organisation du transport collectif
              depuis les principales villes.</p>
          </article>
          <article class="option-block">
            <h3>Coaching additionnel</h3>
            <p>Séances individuelles en plus du programme collectif, préparation mentale, match analysis ou hitting avec
              sparring partenaire.</p>
          </article>
          <article class="option-block">
            <h3>Conciergerie famille</h3>
            <p>Réservations hôtels &amp; restaurants partenaires, activités touristiques, courts &amp; coachs privatisables pour
              les accompagnants.</p>
          </article>
  <title>Réservez votre stage - Tennis Impact</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      --page-background: radial-gradient(circle at 10% 20%, #0f1a3a 0%, #050a1e 55%, #020512 100%);
      --surface-tinted: rgba(13, 23, 52, 0.82);
      --surface-soft: rgba(16, 26, 58, 0.68);
      --surface-light: rgba(255, 255, 255, 0.05);
      --text-primary: #f6f7ff;
      --text-secondary: #cdd5ff;
      --accent: #f5c451;
      --accent-strong: #f0ad2c;
      --accent-soft: rgba(245, 196, 81, 0.22);
      --nav-height: 76px;
      --section-spacing: clamp(64px, 14vw, 120px);
    }

    *, *::before, *::after {
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
      scroll-padding-top: calc(var(--nav-height) + 12px);
    }

    body {
      margin: 0;
      font-family: "Poppins", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: var(--page-background);
      color: var(--text-primary);
      line-height: 1.6;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    img {
      max-width: 100%;
      display: block;
    }

    section {
      padding: clamp(52px, 12vw, 120px) clamp(20px, 8vw, 80px);
      position: relative;
    }

    section:target {
      scroll-margin-top: calc(var(--nav-height) + 24px);
    }

    .reservation-hero {
      position: relative;
      min-height: clamp(420px, 65vh, 560px);
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: clamp(48px, 12vw, 96px) clamp(20px, 6vw, 72px);
      background: linear-gradient(135deg, rgba(5, 10, 26, 0.6), rgba(5, 10, 26, 0.4)), url("assets/photos/3.png") center/cover;
      overflow: hidden;
    }

    .reservation-hero::before,
    .reservation-hero::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(7, 15, 36, 0.92), rgba(8, 18, 46, 0.75));
      mix-blend-mode: multiply;
      pointer-events: none;
    }

    .reservation-hero::after {
      background: radial-gradient(circle at 20% 20%, rgba(245, 196, 81, 0.25), transparent 55%),
        radial-gradient(circle at 80% 30%, rgba(74, 115, 255, 0.18), transparent 60%);
      opacity: 0.8;
    }

    .reservation-hero > div {
      position: relative;
      z-index: 1;
      max-width: 820px;
      background: linear-gradient(160deg, rgba(12, 22, 52, 0.86), rgba(6, 12, 30, 0.78));
      border-radius: 28px;
      padding: clamp(32px, 6vw, 56px);
      box-shadow: 0 30px 80px rgba(0, 0, 0, 0.45);
      backdrop-filter: blur(6px);
    }

    .hero-kicker {
      font-size: 0.95rem;
      letter-spacing: 0.4em;
      text-transform: uppercase;
      color: var(--accent);
      margin-bottom: 18px;
      display: inline-flex;
      align-items: center;
      gap: 12px;
    }

    .hero-kicker::before,
    .hero-kicker::after {
      content: "";
      height: 1px;
      width: 48px;
      background: var(--accent-soft);
    }

    .reservation-hero h1 {
      font-family: "Playfair Display", serif;
      font-size: clamp(2.4rem, 4vw, 3.3rem);
      margin: 0 0 20px;
      letter-spacing: 0.02em;
    }

    .reservation-hero p {
      margin: 0;
      font-size: clamp(1.05rem, 2.2vw, 1.2rem);
      color: var(--text-secondary);
    }

    .reservation-nav {
      position: sticky;
      top: 0;
      z-index: 999;
      display: flex;
      justify-content: center;
      gap: clamp(12px, 4vw, 48px);
      padding: 20px clamp(16px, 6vw, 48px);
      background: rgba(4, 9, 26, 0.85);
      backdrop-filter: blur(18px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.08);
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }

    .reservation-nav a {
      font-weight: 500;
      font-size: 0.95rem;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      position: relative;
      padding-bottom: 6px;
      color: var(--text-secondary);
      transition: color 0.2s ease;
      flex: 0 0 auto;
      white-space: nowrap;
    }

    .reservation-nav::-webkit-scrollbar {
      display: none;
    }

    .reservation-nav a::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: 0;
      width: 100%;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--accent), transparent);
      transform: scaleX(0);
      transform-origin: center;
      transition: transform 0.25s ease;
    }

    .reservation-nav a:hover,
    .reservation-nav a:focus-visible {
      color: #ffffff;
    }

    .reservation-nav a:hover::after,
    .reservation-nav a:focus-visible::after,
    .reservation-nav a[aria-current="true"]::after {
      transform: scaleX(1);
    }

    .section-intro {
      background: linear-gradient(180deg, rgba(9, 14, 32, 0.9), rgba(5, 10, 24, 0.95));
      text-align: center;
    }

    .section-intro h2 {
      font-family: "Playfair Display", serif;
      font-size: clamp(2rem, 3.6vw, 2.8rem);
      margin-bottom: 20px;
    }

    .section-intro p {
      max-width: 820px;
      margin: 0 auto;
      color: var(--text-secondary);
      font-size: clamp(1rem, 2vw, 1.15rem);
    }

    .booking-layout {
      display: grid;
      grid-template-columns: minmax(0, 1.3fr) minmax(280px, 360px);
      gap: clamp(32px, 6vw, 60px);
      max-width: 1180px;
      margin: 0 auto;
      padding: 0 clamp(20px, 5vw, 40px) var(--section-spacing);
    }

    .stage-list {
      display: flex;
      flex-direction: column;
      gap: clamp(24px, 4vw, 36px);
    }

    html, body {
      scroll-behavior: smooth;
    }
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Réserver un Stage - Tennis Impact</title>
<link href="style.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display&amp;family=Poppins:wght@300;400;600&amp;display=swap" rel="stylesheet"/>
<style>
:root {
  --page-background: #060b1f;
  --accent: #fdd835;
  --nav-height: 68px;
  --card-radius: 22px;
  --container-width: 1180px;
  --text-color: #0d0d1f;
  --site-header-height: 0px;
  --site-header-height: 84px;
}

*, *::before, *::after {
  box-sizing: border-box;
}

body {
  font-family: 'Poppins', sans-serif;
  background-color: var(--page-background);
  color: #fff;
  margin: 0;
  line-height: 1.6;
  min-height: 100vh;
}

main {
  display: block;
}

a {
  color: inherit;
}

.hero-reservation {
  position: relative;
  width: 100%;
  min-height: clamp(420px, 70vh, 620px);
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  background-image: var(--hero-image);
  background-size: cover;
  background-position: center;
  padding: clamp(48px, 10vw, 72px) clamp(20px, 6vw, 48px);
}

.hero-reservation::before {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, rgba(4, 9, 24, 0.82), rgba(6, 14, 34, 0.6));
}

.hero-reservation .hero-content {
  position: relative;
  max-width: 760px;
  background: rgba(8, 16, 38, 0.78);
  border-radius: 24px;
  padding: clamp(28px, 7vw, 54px);
  box-shadow: 0 30px 60px rgba(0, 0, 0, 0.45);
  backdrop-filter: blur(3px);
}

.hero-reservation h1 {
  font-size: clamp(2.1rem, 4vw, 3rem);
  margin: 0 0 14px;
  font-family: 'Playfair Display', serif;
  color: #fff;
}

.hero-reservation h2 {
  font-size: clamp(1.2rem, 2.6vw, 1.7rem);
  font-weight: 400;
  margin: 0 0 18px;
  color: rgba(255, 255, 255, 0.92);
}

.hero-reservation p {
  margin: 0;
  font-size: clamp(1rem, 2.2vw, 1.15rem);
  color: rgba(255, 255, 255, 0.85);
}

nav.stages-nav {
  position: sticky;
  top: var(--site-header-height);
  top: 0;
  z-index: 1000;
  background: rgba(255, 255, 255, 0.97);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid rgba(13, 29, 58, 0.12);
  padding: 14px clamp(20px, 6vw, 52px);
  display: flex;
  flex-wrap: wrap;
  gap: clamp(12px, 3vw, 36px);
  justify-content: center;
  align-items: center;
  min-height: var(--nav-height);
}

nav.stages-nav a {
  color: #031b3a;
  text-decoration: none;
  font-weight: 600;
  font-size: clamp(0.95rem, 1vw + 0.75rem, 1.05rem);
  position: relative;
  padding: 6px 0;
  transition: color 0.2s ease;
}

nav.stages-nav a::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -6px;
  width: 100%;
  height: 2px;
  background: var(--accent);
  transform: scaleX(0);
  transform-origin: left;
  transition: transform 0.2s ease;
}

nav.stages-nav a:hover,
nav.stages-nav a:focus-visible {
  color: #000e2c;
}

nav.stages-nav a:hover::after,
nav.stages-nav a:focus-visible::after {
  transform: scaleX(1);
}

nav.stages-nav a.external-link::after {
  display: none;
}

nav.stages-nav a.external-link {
  padding: 6px 14px;
  border: 1px solid rgba(3, 27, 58, 0.14);
  border-radius: 999px;
  transition: background 0.2s ease, color 0.2s ease, border-color 0.2s ease;
}

nav.stages-nav a.external-link:hover,
nav.stages-nav a.external-link:focus-visible {
  background: rgba(3, 27, 58, 0.06);
  border-color: rgba(3, 27, 58, 0.3);
}

@media (max-width: 420px) {
  :root {
    --site-header-height: 0px;
    --site-header-height: 74px;
  }
}

.intro-section {
  width: 100%;
  background-color: #ffffff;
  color: #12203f;
  padding: clamp(64px, 12vw, 120px) clamp(20px, 6vw, 40px);
  position: relative;
  text-align: center;
}

.intro-section h2 {
  font-size: clamp(2rem, 4vw, 2.6rem);
  margin-bottom: 18px;
  font-family: 'Playfair Display', serif;
}

.intro-section h3 {
  font-size: clamp(1.3rem, 3vw, 1.8rem);
  margin-bottom: 24px;
  color: #b28d00;
  letter-spacing: 0.5px;
}

.intro-section p {
  max-width: 860px;
  margin: 0 auto;
  font-size: clamp(1rem, 2.1vw, 1.2rem);
  color: #2b365a;
  line-height: 1.8;
}

.intro-section .wave-divider {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  line-height: 0;
  overflow: hidden;
}

.container {
  display: grid;
  grid-template-columns: minmax(0, 1.7fr) minmax(260px, 1fr);
  gap: clamp(28px, 5vw, 56px);
  align-items: flex-start;
  max-width: var(--container-width);
  margin: 0 auto;
  padding: clamp(48px, 8vw, 96px) clamp(20px, 6vw, 40px);
  box-sizing: border-box;
}

.stages {
  display: flex;
  flex-direction: column;
  gap: clamp(24px, 4vw, 36px);
  padding-right: clamp(0px, 1.5vw, 20px);
  border-right: 1px solid rgba(255, 255, 255, 0.08);
}

.stage-card {
  display: flex;
  flex-wrap: wrap;
  background: #ffffff;
  color: var(--text-color);
  border-radius: var(--card-radius);
  overflow: hidden;
  box-shadow: 0 18px 40px rgba(0, 0, 0, 0.18);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.stage-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 22px 48px rgba(0, 0, 0, 0.22);
}

.stage-card img {
  flex: 0 0 clamp(220px, 32vw, 320px);
  width: clamp(220px, 32vw, 320px);
  height: 100%;
  min-height: 220px;
  object-fit: cover;
}

.stage-card .content {
  flex: 1 1 320px;
  padding: clamp(22px, 5vw, 32px);
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.stage-card h3 {
  font-family: 'Playfair Display', serif;
  font-size: clamp(1.4rem, 3vw, 1.7rem);
  margin: 0;
  color: #061335;
}

.stage-card p {
  margin: 0;
  color: #1f2f54;
}

.stage-card .price {
  font-weight: 700;
  color: #b28d00;
  font-size: 1.1rem;
}

.stage-card ul {
  margin: 0;
  padding-left: 18px;
  color: #273863;
}

.stage-card button {
  align-self: flex-start;
  background: linear-gradient(135deg, #001f3f, #0d0d1f);
  color: #fff;
  border: none;
  padding: 12px 22px;
  border-radius: 12px;
  cursor: pointer;
  font-weight: 600;
  letter-spacing: 0.2px;
  transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
}

.stage-card button:hover,
.stage-card button:focus-visible {
  transform: translateY(-1px);
  box-shadow: 0 12px 24px rgba(13, 27, 58, 0.25);
  outline: none;
}

.cart {
  position: sticky;
  top: calc(var(--nav-height) + 24px);
  align-self: flex-start;
  background: #111733;
  border-radius: 26px;
  padding: clamp(26px, 5vw, 34px);
  box-shadow: 0 24px 50px rgba(8, 15, 40, 0.45);
  color: #fff;
  min-width: 0;
}

.cart h2 {
  margin-top: 0;
  margin-bottom: 24px;
  color: var(--accent);
  font-family: 'Playfair Display', serif;
  font-size: clamp(1.6rem, 2.5vw, 1.9rem);
}

.cart-item {
  background: rgba(255, 255, 255, 0.04);
  margin-bottom: 16px;
  padding: 16px;
  border-radius: 14px;
  border: 1px solid rgba(255, 255, 255, 0.08);
}

.cart-item span {
  display: block;
  font-size: 0.95rem;
}

.cart button {
  width: 100%;
  background: var(--accent);
  color: #0d0d1f;
  font-weight: 700;
  padding: 15px;
  border: none;
  border-radius: 14px;
  cursor: pointer;
  margin-top: 24px;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.cart button:hover,
.cart button:focus-visible {
  transform: translateY(-1px);
  box-shadow: 0 16px 24px rgba(253, 216, 53, 0.35);
  outline: none;
}

    body {
      margin: 0;
      font-family: "Poppins", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: var(--page-background);
      color: var(--text-primary);
      line-height: 1.6;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    img {
      max-width: 100%;
      display: block;
    }

    section {
      padding: var(--section-spacing) clamp(20px, 8vw, 80px);
      position: relative;
    }

    section:target {
      scroll-margin-top: calc(var(--nav-height) + 24px);
    }

    .reservation-hero {
      position: relative;
      min-height: clamp(420px, 65vh, 560px);
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: clamp(48px, 12vw, 96px) clamp(20px, 6vw, 72px);
      background: linear-gradient(135deg, rgba(5, 10, 26, 0.6), rgba(5, 10, 26, 0.4)), url("assets/photos/3.png") center/cover;
      overflow: hidden;
    }

    .reservation-hero::before,
    .reservation-hero::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(7, 15, 36, 0.92), rgba(8, 18, 46, 0.75));
      mix-blend-mode: multiply;
      pointer-events: none;
    }

    .reservation-hero::after {
      background: radial-gradient(circle at 20% 20%, rgba(245, 196, 81, 0.25), transparent 55%),
        radial-gradient(circle at 80% 30%, rgba(74, 115, 255, 0.18), transparent 60%);
      opacity: 0.8;
    }

    .reservation-hero > div {
      position: relative;
      z-index: 1;
      max-width: 820px;
      background: linear-gradient(160deg, rgba(12, 22, 52, 0.86), rgba(6, 12, 30, 0.78));
      border-radius: 28px;
      padding: clamp(32px, 6vw, 56px);
      box-shadow: 0 30px 80px rgba(0, 0, 0, 0.45);
      backdrop-filter: blur(6px);
    }

    .hero-kicker {
      font-size: 0.95rem;
      letter-spacing: 0.4em;
      text-transform: uppercase;
      color: var(--accent);
      margin-bottom: 18px;
      display: inline-flex;
      align-items: center;
      gap: 12px;
    }

    .hero-kicker::before,
    .hero-kicker::after {
      content: "";
      height: 1px;
      width: 48px;
      background: var(--accent-soft);
    }

    .reservation-hero h1 {
      font-family: "Playfair Display", serif;
      font-size: clamp(2.4rem, 4vw, 3.3rem);
      margin: 0 0 20px;
      letter-spacing: 0.02em;
    }

    .reservation-hero p {
      margin: 0;
      font-size: clamp(1.05rem, 2.2vw, 1.2rem);
      color: var(--text-secondary);
    }

    .reservation-nav {
      position: sticky;
      top: 0;
      z-index: 999;
      display: flex;
      justify-content: center;
      gap: clamp(12px, 4vw, 48px);
      padding: 20px clamp(16px, 6vw, 48px);
      background: rgba(4, 9, 26, 0.85);
      backdrop-filter: blur(18px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.08);
    }

    .reservation-nav a {
      font-weight: 500;
      font-size: 0.95rem;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      position: relative;
      padding-bottom: 6px;
      color: var(--text-secondary);
      transition: color 0.2s ease;
    }

    .reservation-nav a::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: 0;
      width: 100%;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--accent), transparent);
      transform: scaleX(0);
      transform-origin: center;
      transition: transform 0.25s ease;
    }

    .reservation-nav a:hover,
    .reservation-nav a:focus-visible {
      color: #ffffff;
    }

    .reservation-nav a:hover::after,
    .reservation-nav a:focus-visible::after,
    .reservation-nav a[aria-current="true"]::after {
      transform: scaleX(1);
    }

    .section-intro {
      background: linear-gradient(180deg, rgba(9, 14, 32, 0.9), rgba(5, 10, 24, 0.95));
      text-align: center;
    }

    .section-intro h2 {
      font-family: "Playfair Display", serif;
      font-size: clamp(2rem, 3.6vw, 2.8rem);
      margin-bottom: 20px;
    }

    .section-intro p {
      max-width: 820px;
      margin: 0 auto;
      color: var(--text-secondary);
      font-size: clamp(1rem, 2vw, 1.15rem);
    }

    .booking-layout {
      display: grid;
      grid-template-columns: minmax(0, 1.3fr) minmax(280px, 360px);
      gap: clamp(32px, 6vw, 60px);
      max-width: 1180px;
      margin: 0 auto;
      padding: 0 clamp(20px, 5vw, 40px) var(--section-spacing);
    }

    .stage-list {
      display: flex;
      flex-direction: column;
      gap: clamp(24px, 4vw, 36px);
    }

    .stage-card {
      display: grid;
      grid-template-columns: minmax(220px, 320px) minmax(0, 1fr);
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.98), rgba(243, 243, 248, 0.94));
      color: #111321;
      border-radius: 28px;
      overflow: hidden;
      box-shadow: 0 26px 60px rgba(8, 10, 30, 0.18);
      transition: transform 0.25s ease, box-shadow 0.25s ease;
    .container {
      display: grid;
      grid-template-columns: 2fr 1fr;
      align-items: start;
      gap: 40px;
      min-height: 100vh;
      padding: 60px 40px;
      box-sizing: border-box;
    }
    .stage-card {
      display: flex;
      flex-direction: row;
      align-items: flex-start;
      background: white;
      color: black;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(0,0,0,0.15);
      margin-bottom: 30px;
      max-width: 100%;
    }

    .stage-card:hover {
      transform: translateY(-6px);
      box-shadow: 0 32px 68px rgba(8, 12, 34, 0.24);
    }

    .stage-card figure {
      position: relative;
      height: 100%;
    }

    .stage-card img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .stage-card figcaption {
      position: absolute;
      left: 18px;
      bottom: 18px;
      background: rgba(5, 10, 26, 0.85);
      color: #ffffff;
      padding: 8px 16px;
      border-radius: 999px;
      font-size: 0.85rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    .stage-card__body {
      padding: clamp(24px, 4.5vw, 40px);
      display: flex;
      flex-direction: column;
      gap: 18px;
    }

    .stage-card__header {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      align-items: center;
    }

    .stage-card__header h3 {
      font-family: "Playfair Display", serif;
      font-size: clamp(1.45rem, 3vw, 1.85rem);
      margin: 0;
      color: #050a1c;
      width: 300px;
      height: auto;
      object-fit: cover;
    }
    .stage-card .content {
      padding: 20px;
      flex: 1;
    }

    .stage-card__tag {
      padding: 6px 14px;
      border-radius: 999px;
      background: rgba(5, 10, 26, 0.08);
      font-size: 0.85rem;
      font-weight: 600;
      letter-spacing: 0.05em;
      text-transform: uppercase;
    }

    .stage-card__dates {
      margin: 0;
      font-weight: 600;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      color: #1c2f58;
      font-size: 0.85rem;
    }

    .stage-card__price {
      margin: 0;
      font-weight: 700;
      font-size: 1.1rem;
      color: #b58a07;
    }

    .stage-card__price span {
      font-size: 0.85rem;
      font-weight: 500;
      color: #4c556e;
      margin-left: 6px;
    }

    .stage-card__highlights {
      margin: 0;
      padding-left: 18px;
      color: #303855;
      font-size: 0.95rem;
    }

    .stage-card__actions {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin-top: auto;
    }

    .button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      border-radius: 16px;
      font-weight: 600;
      letter-spacing: 0.04em;
      padding: 12px 22px;
      font-size: 0.95rem;
      cursor: pointer;
      border: none;
      transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease, color 0.2s ease;
    }

    .button--primary {
      background: linear-gradient(135deg, #0b1c46, #050b1f);
      color: #ffffff;
      box-shadow: 0 16px 30px rgba(5, 11, 31, 0.24);
    }

    .button--primary:hover,
    .button--primary:focus-visible {
      transform: translateY(-2px);
      box-shadow: 0 24px 38px rgba(5, 11, 31, 0.35);
    }

    .button--ghost {
      background: rgba(5, 11, 31, 0.08);
      color: #0b1c46;
      border: 1px solid rgba(5, 11, 31, 0.12);
    }

    .button--ghost:hover,
    .button--ghost:focus-visible {
      background: rgba(5, 11, 31, 0.16);
    }

    .booking-summary {
      position: sticky;
      top: calc(var(--nav-height) + 24px);
      align-self: start;
      background: linear-gradient(180deg, rgba(14, 22, 48, 0.96), rgba(6, 10, 26, 0.98));
      border-radius: 28px;
      padding: clamp(28px, 5vw, 36px);
      box-shadow: 0 30px 70px rgba(0, 0, 0, 0.35);
      border: 1px solid rgba(245, 196, 81, 0.18);
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .booking-summary h2 {
      margin: 0;
      font-family: "Playfair Display", serif;
      font-size: 1.6rem;
    }

    .booking-summary__empty {
      margin: 0;
      color: var(--text-secondary);
      font-size: 0.95rem;
    }

    .booking-summary__selection {
      display: grid;
      gap: 10px;
      background: rgba(5, 9, 24, 0.6);
      border-radius: 18px;
      padding: 16px 18px;
      border: 1px solid rgba(245, 196, 81, 0.18);
    }

    .booking-summary__selection h3 {
      margin: 0;
      font-size: 1rem;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      color: var(--accent);
    }

    .booking-summary__selection p {
      margin: 0;
      font-size: 0.95rem;
      color: var(--text-secondary);
    }

    .booking-summary__badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 14px;
      background: rgba(245, 196, 81, 0.14);
      border-radius: 999px;
      font-size: 0.8rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--accent);
    }

    .booking-summary__note {
      margin: 0;
      font-size: 0.85rem;
      color: rgba(255, 255, 255, 0.6);
    }

    .section-title {
      font-family: "Playfair Display", serif;
      font-size: clamp(2rem, 3vw, 2.6rem);
      margin-bottom: 24px;
      letter-spacing: 0.02em;
    }

    .split-layout {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: clamp(24px, 5vw, 48px);
      align-items: center;
    }

    .split-layout p {
      color: var(--text-secondary);
      margin-bottom: 18px;
    }

    .pill-list {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 18px;
      padding: 0;
      list-style: none;
    }

    .pill-list li {
      padding: 10px 18px;
      border-radius: 999px;
      background: rgba(245, 196, 81, 0.12);
      color: var(--accent);
      font-size: 0.9rem;
      letter-spacing: 0.04em;
    }

    .options-section {
      background: linear-gradient(180deg, rgba(12, 19, 42, 0.92), rgba(6, 11, 28, 0.98));
    }

    .options-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: clamp(20px, 4vw, 32px);
    }

    .option-card {
      background: rgba(5, 10, 24, 0.75);
      border: 1px solid rgba(245, 196, 81, 0.14);
      border-radius: 22px;
      padding: 24px;
      display: grid;
      gap: 12px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.22);
    }

    .option-card h3 {
      margin: 0;
      font-size: 1.1rem;
      color: var(--accent);
      letter-spacing: 0.04em;
      text-transform: uppercase;
    }

    .option-card p {
      margin: 0;
      color: var(--text-secondary);
      font-size: 0.95rem;
    }

    .accommodations {
      background: #f5f6fb;
      color: #111321;
    }

    .accommodations .section-title {
      color: #050b1f;
    }

    .accommodation-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: clamp(20px, 4vw, 32px);
    }

    .accommodation-card {
      background: #ffffff;
      border-radius: 24px;
      overflow: hidden;
      box-shadow: 0 18px 40px rgba(12, 18, 38, 0.15);
      display: flex;
      flex-direction: column;
    }

    .accommodation-card__body {
      padding: 24px;
      display: flex;
      flex-direction: column;
      gap: 12px;
      flex: 1;
    }

    .accommodation-card h3 {
      margin: 0;
      font-size: 1.2rem;
      color: #07102a;
    }

    .accommodation-card p {
      margin: 0;
      color: #3a4463;
      font-size: 0.95rem;
    }

    .faq {
      background: linear-gradient(180deg, rgba(5, 10, 24, 0.94), rgba(5, 10, 24, 0.98));
    }

    .faq-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 18px;
    }

    details {
      background: rgba(5, 9, 24, 0.75);
      border-radius: 18px;
      padding: 18px 22px;
      border: 1px solid rgba(245, 196, 81, 0.12);
    }

    summary {
      cursor: pointer;
      font-weight: 600;
      letter-spacing: 0.03em;
      margin-top: 15px;
    }
    .cart {
      position: -webkit-sticky;
      position: sticky;
      top: 40px;
      align-self: start;
      background: #12122a;
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 4px 20px rgba(255, 215, 0, 0.2);
      min-width: 300px;
      color: white;
    }
    .cart h2 {
      color: #fdd835;
      font-family: 'Playfair Display', serif;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 16px 48px rgba(6, 16, 40, 0.45);
    }

    .btn:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    .btn--primary {
      --btn-bg: linear-gradient(135deg, var(--accent) 0%, var(--accent-strong) 100%);
      --btn-border: transparent;
      --btn-color: #041021;
      box-shadow: 0 14px 42px rgba(245, 196, 81, 0.32);
    }

    .btn--ghost {
      --btn-bg: rgba(255, 255, 255, 0.06);
    }

    .hero-benefits {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 22px;
      text-align: left;
    }

    .hero-benefit {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 18px 22px;
      border-radius: 20px;
      background: rgba(8, 20, 46, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.08);
    }

    .hero-benefit span {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 36px;
      height: 36px;
      border-radius: 10px;
      background: rgba(245, 196, 81, 0.18);
      color: var(--accent);
      font-size: 1.05rem;
      flex-shrink: 0;
    }

    .hero-note {
      margin-top: clamp(24px, 3vw, 34px);
      color: rgba(235, 240, 255, 0.64);
      font-size: 0.94rem;
    }

    .reservation-nav {
      position: sticky;
      top: 0;
      z-index: 50;
      background: rgba(4, 10, 24, 0.82);
      backdrop-filter: blur(14px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.06);
    }

    .reservation-nav ul {
      list-style: none;
      display: flex;
      gap: 12px;
      margin: 0;
      padding: 16px clamp(18px, 6vw, 48px);
      overflow-x: auto;
      scrollbar-width: none;
    }

    .reservation-nav ul::-webkit-scrollbar {
      display: none;
    }

    .reservation-nav a {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 10px 18px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.06);
      color: rgba(236, 240, 255, 0.75);
      border: 1px solid transparent;
      white-space: nowrap;
      font-size: 0.95rem;
      transition: background 0.25s ease, color 0.25s ease, border-color 0.25s ease;
    }

    .reservation-nav a[aria-current="true"],
    .reservation-nav a:hover {
      background: rgba(245, 196, 81, 0.18);
      color: var(--accent);
      border-color: rgba(245, 196, 81, 0.4);
    }

    .stage-layout {
      display: grid;
      gap: clamp(32px, 4vw, 48px);
    }

    @media (min-width: 1080px) {
      .stage-layout {
        grid-template-columns: minmax(0, 1fr) 360px;
        align-items: start;
      }
    }

    .stage-list {
      display: grid;
      gap: clamp(28px, 3vw, 34px);
    }

    .stage-card {
      background: var(--bg-surface);
      border-radius: 28px;
      border: 1px solid var(--border-soft);
      padding: clamp(26px, 4vw, 36px);
      display: grid;
      gap: 24px;
      box-shadow: var(--shadow-soft);
    }

    .stage-card__header {
      display: grid;
      gap: 10px;
    }

    .stage-card__tagline {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      font-size: 0.82rem;
      letter-spacing: 0.36em;
      text-transform: uppercase;
      color: var(--accent);
    }

    .stage-card__tagline::before,
    .stage-card__tagline::after {
      content: "";
      display: block;
      height: 1px;
      width: 34px;
      background: var(--accent-soft);
    }

    .stage-card__title {
      font-family: "Playfair Display", serif;
      font-size: clamp(1.8rem, 2.4vw, 2.4rem);
      margin: 0;
    }

    .stage-card__audience {
      margin: 0;
      color: var(--accent);
      font-weight: 600;
    }

    .stage-card__description {
      margin: 0;
      color: var(--text-secondary);
    }

    .stage-card__highlights {
      list-style: none;
      margin: 0;
      padding: 0;
      display: grid;
      gap: 12px;
    }

    .stage-card__highlights li {
      position: relative;
      padding-left: 26px;
      color: rgba(236, 240, 255, 0.82);
      font-size: 0.96rem;
    }

    .stage-card__highlights li::before {
      content: "★";
      position: absolute;
      left: 0;
      top: 0;
      color: var(--accent);
      font-size: 0.9rem;
    }

    .stage-card__sessions {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 22px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 20px;
      display: grid;
      gap: 16px;
    }

    .stage-card__sessions label {
      font-weight: 600;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .stage-card__sessions select {
      width: 100%;
      margin-top: 10px;
      padding: 12px 14px;
      border-radius: 16px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: rgba(7, 16, 38, 0.6);
      color: var(--text-primary);
      font-size: 1rem;
    }

    .stage-card__sessions select:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    .stage-card__session-info {
      display: grid;
      gap: 6px;
    summary::-webkit-details-marker {
      display: none;
    }

    summary::after {
      content: "+";
      float: right;
      font-size: 1.2rem;
      transition: transform 0.25s ease;
    }

    details[open] summary::after {
      transform: rotate(45deg);
    }

    details p {
      margin: 12px 0 0;
      color: var(--text-secondary);
      font-size: 0.95rem;
    }

    .stage-card__session-info strong {
      color: var(--text-primary);
      font-weight: 600;
    }

    .stage-card__actions {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      gap: 14px;
    }

    .stage-card__price {
      display: grid;
      gap: 4px;
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    .stage-card__price strong {
      font-size: 1.2rem;
      color: var(--text-primary);
    }

    .stage-summary {
      background: rgba(6, 14, 34, 0.82);
      border-radius: 28px;
      border: 1px solid var(--border-soft);
      padding: clamp(24px, 3vw, 32px);
      display: grid;
      gap: 22px;
      position: sticky;
      top: calc(var(--nav-height) + 24px);
      box-shadow: var(--shadow-soft);
    }

    .stage-summary h3 {
      margin: 0;
      font-family: "Playfair Display", serif;
      font-size: clamp(1.4rem, 2.1vw, 1.9rem);
    }

    .cart-empty {
      margin: 0;
      color: var(--text-secondary);
      text-align: center;
      border: 1px dashed rgba(255, 255, 255, 0.12);
      border-radius: 18px;
      padding: 18px;
      background: rgba(255, 255, 255, 0.05);
    }

    .cart-items {
    .cta-final {
      text-align: center;
      background: linear-gradient(180deg, rgba(12, 20, 46, 0.92), rgba(7, 12, 32, 0.92));
      padding-bottom: clamp(60px, 12vw, 96px);
    }

    .cta-final p {
      max-width: 680px;
      margin: 0 auto 24px;
      color: var(--text-secondary);
    }

    .modal {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      padding: clamp(24px, 6vw, 48px);
      background: rgba(3, 6, 18, 0.78);
      backdrop-filter: blur(6px);
      z-index: 1200;
    }

    .modal.is-visible {
      display: flex;
    }

    .modal__dialog {
      position: relative;
      max-width: 640px;
      width: min(92vw, 640px);
      background: #ffffff;
      color: #101530;
      border-radius: 24px;
      padding: clamp(28px, 5vw, 40px);
      box-shadow: 0 40px 90px rgba(0, 0, 0, 0.35);
      display: grid;
      gap: 18px;
    }

    .cart-item {
      display: grid;
      gap: 12px;
      padding: 18px;
      border-radius: 20px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      background: rgba(255, 255, 255, 0.06);
    }

    .cart-item__header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 12px;
    }

    .cart-item__title {
      margin: 0;
      font-weight: 600;
    }

    .cart-item__meta {
      margin: 0;
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    .cart-remove {
      background: none;
      border: none;
      color: rgba(236, 240, 255, 0.68);
      cursor: pointer;
      padding: 4px;
      font-size: 0.85rem;
    }

    .cart-remove:hover {
      color: var(--accent);
    }

    .cart-options {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .cart-chip {
      position: relative;
    }

    .cart-chip input {
      position: absolute;
      inset: 0;
      opacity: 0;
      cursor: pointer;
    }

    .cart-chip span {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 14px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: rgba(255, 255, 255, 0.06);
      font-size: 0.85rem;
      transition: background 0.2s ease, border-color 0.2s ease, color 0.2s ease;
    }

    .cart-chip input:checked + span {
      background: rgba(245, 196, 81, 0.22);
      border-color: rgba(245, 196, 81, 0.45);
      color: var(--accent);
    }

    .cart-item__total {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 0.95rem;
      color: var(--text-secondary);
    }

    .cart-item__total strong {
      color: var(--text-primary);
      font-size: 1.05rem;
    }

    .cart-total {
      border-top: 1px solid rgba(255, 255, 255, 0.12);
      padding-top: 18px;
      display: grid;
      gap: 10px;
    }

    .cart-total__row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: var(--text-secondary);
    }

    .cart-total__amount {
      font-size: 1.4rem;
      font-weight: 600;
      color: var(--text-primary);
    }

    .cart-note {
      margin: 0;
      color: rgba(236, 240, 255, 0.68);
      font-size: 0.85rem;
    }

    .calendar-grid {
      display: grid;
      gap: clamp(24px, 3vw, 32px);
    }

    .calendar-month {
      border-radius: 28px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 24px;
      display: grid;
      gap: 18px;
    }

    .calendar-month h3 {
      margin: 0;
      font-family: "Playfair Display", serif;
      font-size: 1.6rem;
    }

    .calendar-entry {
      display: grid;
      gap: 6px;
      padding: 18px;
      border-radius: 18px;
      background: rgba(8, 20, 46, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.08);
    }

    .calendar-entry__actions {
      display: flex;
      justify-content: flex-start;
    }

    .calendar-legend {
      margin-top: clamp(22px, 3vw, 32px);
      color: rgba(236, 240, 255, 0.68);
      text-align: center;
      font-size: 0.95rem;
    }

    .calendar-entry__header {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
    }

    .calendar-entry__dates {
      font-weight: 600;
      color: var(--accent);
    }

    .calendar-entry__meta {
      margin: 0;
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    .features-grid {
      display: grid;
      gap: clamp(20px, 3vw, 32px);
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    }

    .feature-card {
      padding: 24px;
      border-radius: 24px;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.08);
      display: grid;
      gap: 12px;
    }

    .feature-card h3 {
      margin: 0;
      font-size: 1.2rem;
    }

    .feature-card p {
      margin: 0;
      color: var(--text-secondary);
    }

    .locations-grid {
      display: grid;
      gap: clamp(20px, 3vw, 32px);
    }

    @media (min-width: 860px) {
      .locations-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }
    }

    .location-card {
      padding: 26px;
      border-radius: 24px;
      background: rgba(8, 20, 46, 0.62);
      border: 1px solid rgba(255, 255, 255, 0.08);
      display: grid;
      gap: 12px;
    }

    .location-card h3 {
      margin: 0;
      font-size: 1.25rem;
    }

    .location-card ul {
      margin: 0;
      padding-left: 20px;
      color: var(--text-secondary);
    }

    .options-grid {
      display: grid;
      gap: clamp(24px, 4vw, 40px);
    }

    @media (min-width: 960px) {
      .options-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    .option-block {
      padding: 26px;
      border-radius: 24px;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.08);
      display: grid;
      gap: 12px;
    }

    .option-block h3 {
      margin: 0;
      font-size: 1.2rem;
    }

    .option-block p {
      margin: 0;
      color: var(--text-secondary);
    }

    .faq-list {
      display: grid;
      gap: 16px;
    }

    .faq-list details {
      border-radius: 20px;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 18px 22px;
    }

    .faq-list summary {
      cursor: pointer;
      font-weight: 600;
      list-style: none;
    }

    .faq-list summary::marker,
    .faq-list summary::-webkit-details-marker {
      display: none;
    }

    .faq-list details p {
      margin: 14px 0 0;
      color: var(--text-secondary);
    }

    .reservation-form {
      display: grid;
      gap: clamp(24px, 3vw, 36px);
      padding: clamp(26px, 4vw, 36px);
      border-radius: 28px;
      background: rgba(6, 14, 34, 0.84);
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: var(--shadow-soft);
    }

    .form-grid {
      display: grid;
      gap: 18px;
    }

    @media (min-width: 860px) {
      .form-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    .form-control {
      display: grid;
      gap: 8px;
    }

    .form-control label {
      font-weight: 600;
    }

    .form-control input,
    .form-control select,
    .form-control textarea {
      width: 100%;
      padding: 14px 16px;
      border-radius: 16px;
      border: 1px solid rgba(255, 255, 255, 0.14);
      background: rgba(8, 18, 44, 0.6);
      color: var(--text-primary);
      font-size: 1rem;
    }

    .form-control textarea {
      min-height: 140px;
      resize: vertical;
    }

    .form-control input:focus-visible,
    .form-control select:focus-visible,
    .form-control textarea:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    .option-selector {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .option-selector label {
      position: relative;
    }

    .option-selector input {
      position: absolute;
      inset: 0;
      opacity: 0;
    }

    .option-selector span {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 18px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.14);
      background: rgba(255, 255, 255, 0.06);
      font-size: 0.92rem;
    }

    .option-selector input:checked + span {
      background: rgba(245, 196, 81, 0.22);
      border-color: rgba(245, 196, 81, 0.45);
      color: var(--accent);
    }

    .form-selection {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 20px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 18px;
      display: grid;
      gap: 14px;
    }

    .form-selection__item {
      display: grid;
      gap: 4px;
      font-size: 0.95rem;
    }

    .form-selection__empty {
      margin: 0;
      color: var(--text-secondary);
    }

    .form-selection__total {
      margin-top: 6px;
      font-size: 1.05rem;
      color: var(--accent);
    }

    .form-actions {
      display: flex;
      flex-direction: column;
      gap: 12px;
      align-items: flex-start;
    }

    .form-feedback {
      margin: 0;
      font-size: 0.95rem;
      color: var(--accent);
    }

    .reservation-footer {
      text-align: center;
      padding: 48px 20px;
      color: rgba(222, 231, 255, 0.68);
      font-size: 0.9rem;
    }

    .reservation-toast {
      position: fixed;
      bottom: 24px;
      left: 50%;
      right: auto;
      background: rgba(6, 14, 34, 0.9);
      border-radius: 18px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 14px 18px;
      color: var(--text-primary);
      font-size: 0.95rem;
      box-shadow: 0 18px 46px rgba(2, 8, 24, 0.55);
      opacity: 0;
      transform: translate(-50%, 12px);
      transition: opacity 0.3s ease, transform 0.3s ease;
      pointer-events: none;
      z-index: 200;
    }

    .reservation-toast.is-visible {
      opacity: 1;
      transform: translate(-50%, 0);
    }

    @media (max-width: 720px) {
      .hero-content {
        padding: 32px 22px;
      }

      .reservation-nav {
        top: auto;
      }

      .stage-card__actions {
        flex-direction: column;
        align-items: stretch;
      }

      .btn {
        width: 100%;
      }

      .stage-summary {
        position: relative;
        top: 0;
      }

      .reservation-form {
        padding: 26px 20px;
      }

      .reservation-toast {
        max-width: calc(100% - 32px);
      }
    }
  </style>
</head>
<body class="reservation-page">
  <header class="reservation-hero" id="top">
    <div class="hero-content">
      <span class="hero-kicker">Tennis Impact Academy</span>
      <h1 class="hero-title">Réservez votre stage premium</h1>
      <p class="hero-subtitle">
        Choisissez votre programme idéal, vos dates et vos options pour vivre une semaine d'entraînement haute
        intensité aux côtés de notre équipe élite. Nous orchestrons l'accueil, les repas, l'hébergement et le suivi
        personnalisé dès votre demande.
      </p>
      <div class="hero-cta">
        <a class="btn btn--primary" href="#stages">Découvrir les stages</a>
        <a class="btn btn--ghost" href="tel:+33607080910">Parler à un conseiller</a>
      </div>
      <div class="hero-benefits">
        <div class="hero-benefit">
          <span aria-hidden="true">★</span>
          <div>
            <strong>Coaching sur-mesure</strong>
            <p>Bilans individuels, analyse vidéo quotidienne et ratio de 4 joueurs par coach pour accélérer les
              progrès.</p>
          </div>
        </div>
        <div class="hero-benefit">
          <span aria-hidden="true">⏱</span>
          <div>
            <strong>Planning optimisé</strong>
            <p>Deux entraînements tennis par jour, préparation physique ciblée et ateliers mentaux pour performer en
              compétition.</p>
          </div>
        </div>
        <div class="hero-benefit">
          <span aria-hidden="true">✨</span>
          <div>
            <strong>Expérience premium</strong>
            <p>Hospitalité 4 étoiles, chef privé, conciergerie transport et soirées signatures au sein du domaine
              Impact.</p>
          </div>
        </div>
      </div>
      <p class="hero-note">Réservations sur-mesure pour joueurs et joueuses de 8 à 18 ans ainsi que programmes adultes.</p>
    </div>
  </header>

  <nav class="reservation-nav" aria-label="Navigation du parcours">
    <ul>
      <li><a href="#stages">Stages</a></li>
      <li><a href="#calendrier">Calendrier</a></li>
      <li><a href="#methodologie">Méthodologie</a></li>
      <li><a href="#lieux">Lieux</a></li>
      <li><a href="#options">Options</a></li>
      <li><a href="#faq">FAQ</a></li>
      <li><a href="#reservation">Réserver</a></li>
    </ul>
  </nav>

  <main>
    <section id="stages" class="reservation-section reservation-section--surface">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Les stages signature</span>
          <h2>Choisissez le programme adapté à votre niveau</h2>
          <p>Nos directeurs techniques ont conçu trois parcours complémentaires pour répondre aux objectifs de chaque
            joueur : performance, progression ou immersion adulte. Sélectionnez vos dates, personnalisez les options et
            constituez votre séjour idéal.</p>
        </div>

        <div class="stage-layout">
          <div class="stage-list" data-stage-list></div>

          <aside class="stage-summary" aria-label="Panier de réservation">
            <h3>Votre sélection</h3>
            <p class="cart-empty" data-cart-empty>Ajoutez un stage pour constituer votre séjour personnalisé.</p>
            <div class="cart-items" data-cart-items></div>
            <div class="cart-total">
              <div class="cart-total__row">
                <span>Total estimé</span>
                <span class="cart-total__amount" data-cart-total>0 €</span>
              </div>
              <p class="cart-note">Les options hébergement et transport sont ajustables jusqu’à la validation finale.
              </p>
              <button type="button" class="btn btn--primary" data-scroll-to-form disabled>Finaliser ma demande</button>
            </div>
          </aside>
        </div>
      </div>
    </section>

    <section id="calendrier" class="reservation-section reservation-section--deep">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Calendrier 2024</span>
          <h2>Planifiez votre semaine idéale</h2>
          <p>Chaque semaine de stage est limitée pour préserver la qualité d’entraînement. Consultez les disponibilités
            en temps réel et ajoutez la session de votre choix à votre panier.</p>
        </div>

        <div class="calendar-grid" data-calendar></div>
        <p class="calendar-legend">Les départs sont garantis dès 6 participants confirmés. Nous vous recontactons sous
          24&nbsp;h pour valider l’hébergement et le transport.</p>
      </div>
    </section>

    <section id="methodologie" class="reservation-section reservation-section--surface">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Notre méthode</span>
          <h2>Un accompagnement complet sur et en dehors du court</h2>
          <p>La Tennis Impact Academy s’appuie sur une équipe pluridisciplinaire : coaches experts FFT, préparateurs
            physiques, ostéopathes et staff hospitalité. Chaque joueur repart avec un plan de progression détaillé.</p>
        </div>

        <div class="features-grid">
          <article class="feature-card">
            <h3>Bilan initial individualisé</h3>
            <p>Avant la première balle, nous réalisons un entretien vidéo et un test de mobilité afin de calibrer le
              contenu technique, physique et mental de la semaine.</p>
          </article>
          <article class="feature-card">
            <h3>Coaching haute performance</h3>
            <p>2h30 de tennis le matin, ateliers tactiques l’après-midi, matchs dirigés et feedback vidéo quotidien avec
              votre référent de stage.</p>
          </article>
          <article class="feature-card">
            <h3>Suivi bien-être et récupération</h3>
            <p>Préparation physique fonctionnelle, cryothérapie, séances d’étirements guidés et cuisine sportive
              personnalisée par notre chef.</p>
          </article>
          <article class="feature-card">
            <h3>Restitution premium</h3>
            <p>Remise d’un dossier digital : statistiques match, vidéos commentées, plan d’entraînement sur 6 semaines et
              recommandations nutritionnelles.</p>
          </article>
        </div>
      </div>
    </section>

    <section id="lieux" class="reservation-section reservation-section--deep">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Nos destinations</span>
          <h2>Des cadres d’exception pour progresser</h2>
          <p>Nous sélectionnons des sites premium avec infrastructures indoor/outdoor, espaces bien-être et hébergements
            haut de gamme pour offrir confort et intensité à chaque joueur.</p>
        </div>

        <div class="locations-grid">
          <article class="location-card">
            <h3>Domaine Impact – Bordeaux</h3>
            <p>Centre d’entraînement principal au cœur d’un parc arboré. 6 courts extérieurs, 3 courts couverts, salle de
              préparation physique, espace récupération et villa privative.</p>
            <ul>
              <li>Hébergement suites juniors &amp; penthouse</li>
              <li>Chef privé &amp; nutrition sportive</li>
              <li>Accès navette gare Bordeaux Saint-Jean</li>
            </ul>
          </article>
          <article class="location-card">
            <h3>Grand Hôtel de Biarritz</h3>
            <p>Vue océan, courts en terre battue et programme surf/condition physique complémentaire pour varier les
              sollicitations.</p>
            <ul>
              <li>Programme premium adultes &amp; familles</li>
              <li>Hébergement ***** &amp; spa marin</li>
              <li>Transferts aéroport Biarritz inclus</li>
            </ul>
          </article>
          <article class="location-card">
            <h3>Hostens Forest Lodge</h3>
            <p>Immersion nature et stage résidentiel pour les 10-14 ans : courts GreenSet, lac privatif, activités
              outdoor et accompagnement 24h/24.</p>
            <ul>
              <li>Encadrement pédagogique dédié</li>
              <li>Chalets premium 4 lits</li>
              <li>Transport collectif depuis Bordeaux</li>
            </ul>
          </article>
        </div>
      </div>
    </section>

    <section id="options" class="reservation-section reservation-section--surface">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Options &amp; services</span>
          <h2>Personnalisez votre séjour</h2>
          <p>Hébergement grand confort, navettes dédiées, séances individuelles supplémentaires… nos conseillers ajustent
            chaque détail selon vos besoins.</p>
        </div>

        <div class="options-grid">
          <article class="option-block">
            <h3>Hébergement premium</h3>
            <p>Suites partagées ou individuelles, encadrement nocturne, room service sportif et animations privées. À
              partir de 290&nbsp;€ la semaine.</p>
          </article>
          <article class="option-block">
            <h3>Transport personnalisé</h3>
            <p>Navettes gare/aéroport, chauffeur privé depuis votre domicile ou organisation du transport collectif
              depuis les principales villes.</p>
          </article>
          <article class="option-block">
            <h3>Coaching additionnel</h3>
            <p>Séances individuelles en plus du programme collectif, préparation mentale, match analysis ou hitting avec
              sparring partenaire.</p>
          </article>
          <article class="option-block">
            <h3>Conciergerie famille</h3>
            <p>Réservations hôtels &amp; restaurants partenaires, activités touristiques, courts &amp; coachs privatisables pour
              les accompagnants.</p>
          </article>
    .modal__header {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .modal__title {
      margin: 0;
      font-family: "Playfair Display", serif;
      font-size: 1.8rem;
      color: #050b1f;
    }

    .modal__stage-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      font-size: 0.9rem;
      color: #3b4662;
    }

    .modal__close {
      position: absolute;
      top: 20px;
      right: 24px;
      border: none;
      background: rgba(15, 22, 46, 0.1);
      color: #050b1f;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      font-size: 1.1rem;
      cursor: pointer;
    }

    .reservation-form {
      display: grid;
      gap: 16px;
    }

    .form-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 16px;
    }

    label {
      font-weight: 600;
      font-size: 0.95rem;
      color: #0c183a;
      display: grid;
      gap: 8px;
    }

    input,
    select,
    textarea {
      width: 100%;
      padding: 12px 14px;
      border-radius: 12px;
      border: 1px solid rgba(12, 24, 58, 0.18);
      font-family: inherit;
      font-size: 0.95rem;
      color: #0c183a;
      background: rgba(12, 24, 58, 0.04);
      transition: border-color 0.2s ease, box-shadow 0.2s ease;
    }

    input:focus,
    select:focus,
    textarea:focus {
      outline: none;
      border-color: var(--accent-strong);
      box-shadow: 0 0 0 3px rgba(245, 196, 81, 0.22);
    }

    textarea {
      resize: vertical;
      min-height: 96px;
    }

    .modal__footer {
      display: flex;
      flex-direction: column;
      gap: 12px;
      font-size: 0.9rem;
      color: #3b4662;
    }

    .toast {
      position: fixed;
      bottom: 32px;
      right: 32px;
      background: rgba(6, 12, 30, 0.92);
      color: #ffffff;
      padding: 16px 22px;
      border-radius: 16px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      opacity: 0;
      pointer-events: none;
      transform: translateY(12px);
      transition: opacity 0.3s ease, transform 0.3s ease;
      z-index: 1300;
      font-size: 0.95rem;
    }

    .toast.is-visible {
      opacity: 1;
      transform: translateY(0);
    }

    .accommodation-modal__media {
      border-radius: 18px;
      overflow: hidden;
      max-height: 280px;
    }

    .accommodation-modal__list {
      margin: 0;
      padding-left: 18px;
      color: #3b4662;
    }

    @media (max-width: 1140px) {
      section {
        padding: clamp(48px, 10vw, 96px) clamp(20px, 6vw, 60px);
      }

      .booking-layout {
        max-width: 960px;
      }
    }

    @media (max-width: 1024px) {
      .stage-card {
        grid-template-columns: minmax(0, 1fr);
      }

      .stage-card figure {
        height: clamp(220px, 45vw, 320px);
      }

      .booking-layout {
        gap: clamp(24px, 5vw, 40px);
      }
    }

    @media (max-width: 960px) {
      .reservation-nav {
        flex-wrap: wrap;
        gap: 18px;
        justify-content: flex-start;
        padding-inline: clamp(16px, 6vw, 36px);
      }

      .booking-layout {
        grid-template-columns: minmax(0, 1fr);
        max-width: 720px;
      }

      .booking-summary {
        position: static;
        border-radius: 24px;
        box-shadow: 0 18px 36px rgba(0, 0, 0, 0.32);
      }
    }

    @media (max-width: 640px) {
      :root {
        --nav-height: 64px;
      }

      section {
        padding: clamp(42px, 18vw, 72px) clamp(16px, 6vw, 32px);
      }

      .reservation-hero > div {
        padding: clamp(24px, 8vw, 36px);
      }

      .reservation-hero {
        min-height: clamp(360px, 60vh, 440px);
      }

      .reservation-hero h1 {
        font-size: clamp(2.1rem, 8vw, 2.6rem);
      }

      .reservation-hero p {
        font-size: clamp(1rem, 4vw, 1.1rem);
      }

      .stage-card__actions {
        flex-direction: column;
        align-items: stretch;
      }

      .button {
        width: 100%;
      }

      .reservation-nav a {
        font-size: 0.85rem;
      }

      .booking-summary {
        padding: 24px;
      }

      .toast {
        right: 16px;
        left: 16px;
        bottom: 20px;
      }

      .modal__dialog {
        width: min(94vw, 520px);
        padding: clamp(24px, 8vw, 32px);
      }

      .modal__close {
        top: 16px;
        right: 18px;
      }
    }

    @media (max-width: 420px) {
      section {
        padding-block: clamp(36px, 18vw, 60px);
      }

      .hero-kicker {
        letter-spacing: 0.32em;
        font-size: 0.85rem;
      }

      .stage-card__body {
        padding: clamp(20px, 7vw, 32px);
      }

      .stage-card__highlights {
        font-size: 0.9rem;
        padding-left: 16px;
      }

      .reservation-nav {
        padding-block: 16px;
        gap: 14px;
      }

      .reservation-nav a {
        font-size: 0.8rem;
      }

      .booking-summary h2 {
        font-size: 1.4rem;
      }

      .pill-list {
        gap: 8px;
      }

      .toast {
        font-size: 0.9rem;
        border-radius: 14px;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
    }
  </style>
</head>
<body>
  <header class="reservation-hero">
    <div>
      <span class="hero-kicker">Tennis Impact Academy</span>
      <h1>Réservez votre stage premium</h1>
      <p>
        Des programmes d’entraînement haute intensité, encadrés par notre équipe élite. Choisissez votre formule, ajoutez vos
        options et laissez-nous orchestrer une semaine d’exception pour votre enfant.
      .reservation-nav {
        justify-content: flex-start;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
    }
  </style>
</head>
<body>
  <header class="reservation-hero">
    <div>
      <span class="hero-kicker">Tennis Impact Academy</span>
      <h1>Réservez votre stage premium</h1>
      <p>
        Des programmes d’entraînement haute intensité, encadrés par notre équipe élite. Choisissez votre formule, ajoutez vos
        options et laissez-nous orchestrer une semaine d’exception pour votre enfant.
      margin-top: 20px;
    }
  
.premium-form {
  background: #ffffff;
  border: 2px solid var(--accent);
  box-shadow: 0 0 40px rgba(255, 215, 0, 0.25);
  border-radius: 22px;
  padding: clamp(32px, 6vw, 44px);
  color: var(--text-color);
}

.premium-form h2 {
  font-family: 'Playfair Display', serif;
  font-size: clamp(1.6rem, 3vw, 1.9rem);
  color: var(--text-color);
  margin-top: 0;
}

.premium-form input,
.premium-form select {
  width: 100%;
  margin-bottom: 15px;
  padding: 12px;
  border-radius: 12px;
  border: 1px solid #c4c7d4;
  font-size: 1rem;
}

.premium-form button[type='submit'] {
  background-color: #0d0d1f;
  color: var(--accent);
  font-weight: 700;
  padding: 12px 22px;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.premium-form button[type='submit']:hover,
.premium-form button[type='submit']:focus-visible {
  transform: translateY(-1px);
  box-shadow: 0 12px 24px rgba(13, 13, 31, 0.25);
  outline: none;
}

}

.premium-form button[type='submit']:hover,
.premium-form button[type='submit']:focus-visible {
  transform: translateY(-1px);
  box-shadow: 0 12px 24px rgba(13, 13, 31, 0.25);
  outline: none;
}

.premium-form button[type='button'] {
  background-color: #bbb;
  color: white;
  margin-left: 10px;
  padding: 12px 22px;
  border: none;
  border-radius: 12px;
  cursor: pointer;
}

span[id='stages'],
span[id='methodologie'],
span[id='options'],
span[id='faq'],
span[id='nos-hebergements'] {
  position: relative;
  display: block;
  height: 0;
  width: 0;
}

}

[id='stages'],
[id='methodologie'],
[id='options'],
[id='faq'],
[id='nos-hebergements'] {
  scroll-margin-top: calc(var(--nav-height) + 28px);
}

@media (max-width: 1200px) {
  .container {
    grid-template-columns: 1fr;
  }

  .stages {
    border-right: none;
    padding-right: 0;
  }

  .cart {
    position: static;
    width: 100%;
    max-width: 540px;
    margin: 0 auto;
  }
}

@media (max-width: 920px) {
  .stage-card {
    flex-direction: column;
  }

  .stage-card img {
    width: 100%;
    flex-basis: auto;
    height: clamp(220px, 50vw, 340px);
  }

  nav.stages-nav {
    justify-content: flex-start;
  }
}

@media (max-width: 680px) {
  .container {
    padding: clamp(36px, 9vw, 52px) 20px;
  }

  nav.stages-nav {
    gap: 16px;
  }

  .cart {
    border-radius: 20px;
  }

  .stage-card {
    border-radius: 20px;
  }

  .stage-card button {
    width: 100%;
    text-align: center;
  }
}

@media (max-width: 520px) {
  nav.stages-nav {
    padding: 12px 18px;
  }

  .hero-reservation .hero-content {
    padding: 24px;
  }

  .intro-section {
    padding: 56px 18px 96px;
  }
}

}

@media (max-width: 1200px) {
  .container {
    grid-template-columns: 1fr;
  }

}

@media (max-width: 1200px) {
  .container {
    grid-template-columns: 1fr;
  }

}

@media (max-width: 1200px) {
  .container {
    grid-template-columns: 1fr;
  }

  .stages {
    border-right: none;
    padding-right: 0;
  }

  .cart {
    position: static;
    width: 100%;
    max-width: 540px;
    margin: 0 auto;
  }
}

@media (max-width: 920px) {
  .stage-card {
    flex-direction: column;
  }

  .stage-card img {
    width: 100%;
    flex-basis: auto;
    height: clamp(220px, 50vw, 340px);
  }

  nav.stages-nav {
    justify-content: flex-start;
  }
}

@media (max-width: 680px) {
  .container {
    padding: clamp(36px, 9vw, 52px) 20px;
  }

  nav.stages-nav {
    gap: 16px;
  }

  .cart {
    border-radius: 20px;
  }

  .stage-card {
    border-radius: 20px;
  }

  .stage-card button {
    width: 100%;
    text-align: center;
  }
}

@media (max-width: 520px) {
  nav.stages-nav {
    padding: 12px 18px;
  }

  .hero-reservation .hero-content {
    padding: 24px;
  }

  .intro-section {
    padding: 56px 18px 96px;
  }
}

}

@media (max-width: 1200px) {
  .container {
    grid-template-columns: 1fr;
  }

  .stages {
    border-right: none;
    padding-right: 0;
  }

  .cart {
    position: static;
    width: 100%;
    max-width: 540px;
    margin: 0 auto;
  }
}

@media (max-width: 920px) {
  .stage-card {
    flex-direction: column;
  }

  .stage-card img {
    width: 100%;
    flex-basis: auto;
    height: clamp(220px, 50vw, 340px);
  }

  nav.stages-nav {
    justify-content: flex-start;
  }
}

@media (max-width: 680px) {
  .container {
    padding: clamp(36px, 9vw, 52px) 20px;
  }

  nav.stages-nav {
    gap: 16px;
  }

  .cart {
    border-radius: 20px;
  }

  .stage-card {
    border-radius: 20px;
  }

  .stage-card button {
    width: 100%;
    text-align: center;
  }
}

@media (max-width: 520px) {
  nav.stages-nav {
    padding: 12px 18px;
  }

  .hero-reservation .hero-content {
    padding: 24px;
  }

  .intro-section {
    padding: 56px 18px 96px;
  }
}

}

@media (max-width: 920px) {
  .stage-card {
    flex-direction: column;
  }

  .stage-card img {
    width: 100%;
    flex-basis: auto;
    height: clamp(220px, 50vw, 340px);
  }

  nav.stages-nav {
    justify-content: flex-start;
  }
}

@media (max-width: 680px) {
  .container {
    padding: clamp(36px, 9vw, 52px) 20px;
  }

  nav.stages-nav {
    gap: 16px;
  }

  .cart {
    border-radius: 20px;
  }

  .stage-card {
    border-radius: 20px;
  }

  .stage-card button {
    width: 100%;
    text-align: center;
  }
}

@media (max-width: 520px) {
  nav.stages-nav {
    padding: 12px 18px;
  }

  .hero-reservation .hero-content {
    padding: 24px;
  }

  .intro-section {
    padding: 56px 18px 96px;
  }
}

}

[id='stages'],
[id='methodologie'],
[id='options'],
[id='faq'],
[id='nos-hebergements'] {
  scroll-margin-top: calc(var(--nav-height) + 28px);
}

@media (max-width: 1200px) {
  .container {
    grid-template-columns: 1fr;
  }

  .stages {
    border-right: none;
    padding-right: 0;
  }

  .cart {
    position: static;
    width: 100%;
    max-width: 540px;
    margin: 0 auto;
  }
}

@media (max-width: 920px) {
  .stage-card {
    flex-direction: column;
  }

  .stage-card img {
    width: 100%;
    flex-basis: auto;
    height: clamp(220px, 50vw, 340px);
  }

  nav.stages-nav {
    justify-content: flex-start;
  }
}

@media (max-width: 680px) {
  .container {
    padding: clamp(36px, 9vw, 52px) 20px;
  }

  nav.stages-nav {
    gap: 16px;
  }

  .cart {
    border-radius: 20px;
  }

  .stage-card {
    border-radius: 20px;
  }

  .stage-card button {
    width: 100%;
    text-align: center;
  }
}

@media (max-width: 520px) {
  nav.stages-nav {
    padding: 12px 18px;
  }

  .hero-reservation .hero-content {
    padding: 24px;
  }

  .intro-section {
    padding: 56px 18px 96px;
  }
}

}

@media (max-width: 1200px) {
  .container {
    grid-template-columns: 1fr;
  }

  .stages {
    border-right: none;
    padding-right: 0;
  }

  .cart {
    position: static;
    width: 100%;
    max-width: 540px;
    margin: 0 auto;
  }
}

@media (max-width: 920px) {
  .stage-card {
    flex-direction: column;
  }

  .stage-card img {
    width: 100%;
    flex-basis: auto;
    height: clamp(220px, 50vw, 340px);
  }

  nav.stages-nav {
    justify-content: flex-start;
  }
}

@media (max-width: 680px) {
  .container {
    padding: clamp(36px, 9vw, 52px) 20px;
  }

  nav.stages-nav {
    gap: 16px;
  }

  .cart {
    border-radius: 20px;
  }

  .stage-card {
    border-radius: 20px;
  }

  .stage-card button {
    width: 100%;
    text-align: center;
  }
}

@media (max-width: 520px) {
  nav.stages-nav {
    padding: 12px 18px;
  }

  .hero-reservation .hero-content {
    padding: 24px;
  }

  .intro-section {
    padding: 56px 18px 96px;
  }
}

}

@media (max-width: 920px) {
  .stage-card {
    flex-direction: column;
  }

  .stage-card img {
    width: 100%;
    flex-basis: auto;
    height: clamp(220px, 50vw, 340px);
  }

  nav.stages-nav {
    justify-content: flex-start;
  }
}

@media (max-width: 680px) {
  .container {
    padding: clamp(36px, 9vw, 52px) 20px;
  }

  nav.stages-nav {
    gap: 16px;
  }

  .cart {
    border-radius: 20px;
  }

  .stage-card {
    border-radius: 20px;
  }

  .stage-card button {
    width: 100%;
    text-align: center;
  }
}

@media (max-width: 520px) {
  nav.stages-nav {
    padding: 12px 18px;
  }

  .hero-reservation .hero-content {
    padding: 24px;
  }

  .intro-section {
    padding: 56px 18px 96px;
  }
}
@keyframes fadeZoomIn {
  0% { opacity: 0; transform: scale(0.8) translate(-50%, -50%); }
  100% { opacity: 1; transform: scale(1) translate(-50%, -50%); }
}
#form-popup {
  animation: fadeZoomIn 0.4s ease-out;
}

    nav.stages-nav {
      position: sticky;
      top: 0;
      z-index: 1000;
      background: white;
      border-bottom: 2px solid #eee;
      padding: 12px 20px;
      display: flex;
      justify-content: center;
      gap: 30px;
      font-weight: bold;
      flex-wrap: wrap;
    }

    nav.stages-nav a {
      color: #001f3f;
      text-decoration: none;
      padding: 8px 0;
    }

    @media (max-width: 1200px) {
      .container {
        grid-template-columns: 1fr;
        min-height: auto;
      }

      .cart {
        position: static;
        margin: 0 auto;
        max-width: 540px;
        width: 100%;
      }

      .stages {
        padding-right: 0;
        border-right: none;
      }
    }

    @media (max-width: 992px) {
      .stage-card {
        flex-direction: column;
      }

      .stage-card img {
        width: 100%;
      }

      .container {
        padding: 40px 20px;
      }
    }

    @media (max-width: 768px) {
      section[style*="padding: 100px"] {
        padding: 60px 20px 90px !important;
      }

      nav.stages-nav {
        gap: 16px;
      }

      .stage-card {
        margin-left: auto;
        margin-right: auto;
      }

      .premium-form {
        padding: 25px;
      }
    }

    @media (max-width: 576px) {
      .container {
        padding: 30px 15px;
        gap: 24px;
      }

      .stage-card {
        box-shadow: 0 3px 12px rgba(0,0,0,0.12);
      }

      nav.stages-nav {
        justify-content: flex-start;
      }

      nav.stages-nav a {
        font-size: 0.95rem;
      }

      section[style*="height: 100vh"] {
        height: auto !important;
        min-height: 70vh;
        padding: 80px 20px;
      }

      section[style*="height: 100vh"] > div {
        padding: 30px 20px !important;
      }
    }

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
</style>
<script>
function openForm(stageName) {
  const popup = document.getElementById("form-popup");
  const input = popup.querySelector("input[name='stage'], select[name='stage']");
  if (input) input.value = stageName;
  popup.style.display = "block";
}

function closeForm() {
  document.getElementById("form-popup").style.display = "none";
}

// Simulation d'envoi avec fermeture automatique
document.addEventListener("DOMContentLoaded", function () {
  const form = document.querySelector("#form-popup form");
  if (form) {
    form.addEventListener("submit", function (e) {
      e.preventDefault();
      console.log("Formulaire soumis. Simulation EmailJS.");
      // Remplace ce bloc par EmailJS.send(...) plus tard
      setTimeout(() => {
        alert("Formulaire envoyé !");
        closeForm();
      }, 1000);
    });
  }
});
</script>

<style>
.popup {
  display: none;
  position: fixed;
  z-index: 9999;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.7);
  overflow-y: auto;
}
.popup-content {
  background: #fff;
  margin: 5% auto;
  padding: 30px;
  border-radius: 16px;
  max-width: 800px;
  position: relative;
  font-family: 'Poppins', sans-serif;
  box-shadow: 0 0 20px rgba(0,0,0,0.4);
}
.popup-content h2 {
  margin-top: 0;
  font-size: 1.8em;
  text-align: center;
  border-bottom: 1px solid #ddd;
  padding-bottom: 10px;
}
.popup-images img {
  width: 100%;
  border-radius: 12px;
  margin-bottom: 15px;
  max-height: 300px;
  object-fit: cover;
}
.popup-text {
  font-size: 1em;
  color: #222;
  line-height: 1.6;
}
.popup-text ul {
  padding-left: 20px;
  list-style-type: disc;
}
.popup .close {
  position: absolute;
  top: 10px;
  right: 20px;
  font-size: 28px;
  color: #555;
  cursor: pointer;
}
</style>

</style></head>
<body>
<header class="navbar" id="top">
  <div class="navbar__inner container">
    <a class="brand" href="index.html" aria-label="Retour à l'accueil">
      <img src="assets/logo/tennis-impact-logo.svg" alt="Logo Tennis Impact"/>
      <span>Tennis Impact</span>
    </a>
    <button class="nav-toggle" aria-expanded="false" aria-controls="site-nav">
      <span></span>
      <span></span>
      <span></span>
    </button>
    <nav class="nav-links" id="site-nav">
      <a href="index.html#notre-academie">Notre Académie</a>
      <a href="index.html#stage-jeunes">Stages Jeunes</a>
      <a href="index.html#lecon-individuelle">Leçons individuelles</a>
      <a href="index.html#faq">FAQ</a>
      <a href="index.html#galerie">Galerie</a>
      <a href="reserver.html#stages">Réserver un stage</a>
    </nav>
    <div class="nav-actions">
      <a class="btn btn-gold" href="espace_coach.html">Espace Coach</a>
    </div>
  </div>
</header>
<section class="hero-reservation" style="--hero-image: url('assets/photos/3.png');">
  <div class="hero-content">
    <h1>Réservez votre stage</h1>
    <h2>Choisissez vos dates et options d’hébergement</h2>
    <p>Académie Tennis Impact</p>
  </div>
  <span id="options"></span>
</section>
<nav class="stages-nav">
  <a href="#stages">Stages</a>
  <a href="#methodologie">Méthodologie</a>
  <a href="#nos-hebergements">Nos Hébergements</a>
  <a href="#options">Options</a>
  <a href="#faq">FAQ</a>
  <a class="external-link" href="CONTRAT APPORTEUR TYPE.pdf" rel="noopener" target="_blank">Contrat apporteur d’affaires</a>
  <a class="external-link" href="espace_coach.html">Espace Coach</a>
  <a class="external-link" href="CONTRAT APPORTEUR TYPE.pdf" rel="noopener" target="_blank">Contrat apporteur d’affaires</a>
<a href="#stages">Stages</a>
<a href="#methodologie">Méthodologie</a>
<a href="reserver.html#nos-hebergements">Nos Hébergements</a>
<a href="#options">Options</a>
<a href="#faq">FAQ</a>
</nav>
<main>
  <section class="intro-section">
    <div style="max-width: 1000px; margin: auto; text-align: center;">
      <span id="stages"></span>
      <h2>Des stages tennis jeunes au cœur de la Côte d’Azur</h2>
      <h3>OFFREZ À VOTRE ENFANT L’EXCELLENCE TENNIS IMPACT</h3>
      <p>
        Chaque année, Tennis Impact accueille de nombreux jeunes joueurs venus de toute la France pour vivre une expérience unique alliant sport de haut niveau, développement personnel et plaisir du jeu.<br/><br/>
        Nos stages de tennis pour jeunes sont conçus pour s’adapter à tous les profils : du joueur loisir au compétiteur ambitieux. Dans un environnement structuré, dynamique et bienveillant, votre enfant progresse à son rythme tout en découvrant les exigences du haut niveau.
      </p>
    </div>
    <!-- Vague de séparation corrigée -->
    <div class="wave-divider">
      <svg preserveAspectRatio="none" style="display: block; width: 100%; height: 70px;" viewBox="0 0 500 50">
        <path d="M0,30 C150,80 350,-10 500,30 L500,00 L0,0 Z" style="fill:#001f3f;"></path>
      </svg>
    </div>
  </section>
  <div class="container">
<div class="stages">
<div class="stage-card">
<img alt="Stage INTENSIF" src="assets/photos/1.png"/>
<div class="content">
<h3>Stage INTENSIF</h3>
<p>Journée entière • 23 juin - 28 juin</p>
<p class="price">1 600,00 € <span style="font-weight: normal;">*Sans hébergement</span></p>
<ul>
<li>2 sessions de tennis en groupe par jour</li><li>3h d'activité physique</li><li>Rapport individuel</li><li>Repas du midi</li>
</ul>
<button onclick="openForm('Stage INTENSIF')">Ajouter ce stage</button>
</div>
</div>
<div class="stage-card">
<img alt="Stage COMPÉTITION" src="assets/photos/2.png"/>
<div class="content">
<h3>Stage COMPÉTITION</h3>
<p>Journée entière • 23 juin - 05 juil.</p>
<p class="price">4 200,00 € <span style="font-weight: normal;">*Sans hébergement</span></p>
<ul>
<li>2 sessions de tennis</li><li>Tournoi UTR inclus</li><li>Préparation mentale</li><li>Rapport individuel</li>
</ul>
<button onclick="openForm('Stage COMPÉTITION')">Ajouter ce stage</button>
</div>
</div>
<div class="stage-card">
<img alt="Stage DEMI-JOURNÉE" src="assets/photos/3.png"/>
<div class="content">
<h3>Stage DEMI-JOURNÉE</h3>
<p>Demi journée • 23 juin - 28 juin</p>
<p class="price">1 050,00 € <span style="font-weight: normal;">*Sans hébergement</span></p>
<ul>
<li>1 session de tennis</li><li>Rapport individuel</li><li>Matinée uniquement</li>
</ul>
<button onclick="openForm('Stage DEMI-JOURNÉE')">Ajouter ce stage</button>
</div>
</div>
<div class="stage-card">
<img alt="Stage INTENSIF + Français" src="assets/photos/4.png"/>
<div class="content">
<h3>Stage INTENSIF + Français</h3>
<p>Journée entière • 30 juin - 05 juil.</p>
<p class="price">1 750,00 € <span style="font-weight: normal;">*Sans hébergement</span></p>
<ul>
<li>Tennis + Français</li><li>1h30 de physique/jour</li><li>Repas du midi</li>
</ul>
<button onclick="openForm('Stage INTENSIF + Français')">Ajouter ce stage</button>
</div>
</div>
<div class="stage-card">
<img alt="Stage TENNIS &amp; GOLF" src="assets/photos/5.png"/>
<div class="content">
<h3>Stage TENNIS &amp; GOLF</h3>
<p>Journée entière • 30 juin - 05 juil.</p>
<p class="price">1 700,00 € <span style="font-weight: normal;">*Sans hébergement</span></p>
<ul>
<li>Tennis le matin</li><li>Golf l’après-midi</li><li>Repas du midi</li>
</ul>
<button onclick="openForm('Stage TENNIS &amp; GOLF')">Ajouter ce stage</button>
</div>
</div>
<div class="stage-card">
<img alt="Stage NIGHT SESSIONS" src="assets/photos/6.png"/>
<div class="content">
<h3>Stage NIGHT SESSIONS</h3>
<p>Soir • 30 juin - 04 juil.</p>
<p class="price">900,00 € <span style="font-weight: normal;">*Sans hébergement</span></p>
<ul>
<li>Sessions du soir</li><li>Cardio tennis</li><li>Welcome pack</li>
</ul>
<button onclick="openForm('Stage NIGHT SESSIONS')">Ajouter ce stage</button>
</div>
</div>
</div>
</div>
</div>
</div>
  </div>
  <div class="cart">
<h2>Mon Panier</h2>
<div class="cart-item">
<span><strong>Stage INTENSIF</strong></span>
<span>23 juin - 28 juin</span>
<span>1 600,00 €</span>
</div>
<button onclick="openForm('Panier')">Valider l’inscription</button>
  </div>
  </div>
</main>
<div id="form-popup" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 40px; border-radius: 20px; z-index: 1000; max-width: 800px; width: 90%; max-height: 90vh; overflow-y: auto; font-family: Poppins, sans-serif;">
<div style="display: flex; justify-content: space-between; align-items: center;">
<h2 style="margin-top: 0; color: #0d0d1f;">Inscription au Stage</h2>
<button onclick="closeForm()" style="background-color: #bbb; padding: 5px 10px; border: none; border-radius: 8px;">X</button>
</div>
<form>
<div class="form-grid">
<label for="lieu">
     Lieu du stage
    </label>
<select id="lieu" name="lieu">
<option value="Paris">
      Paris
     </option>
<option value="Colmar">
      Colmar
     </option>
</select>
<label for="type_stage">
     Type de stage
    </label>
<select id="type_stage" name="type_stage">
<option value="Intensif">
      Intensif
     </option>
<option value="Demi-journée">
      Demi-journée
     </option>
<option value="Compétition">
      Compétition
     </option>
</select>
<div class="form-field">
<label for="prenom">
      Prénom
     </label>
</div>
<div class="form-field">
<input id="prenom" name="prenom" required="" type="text"/>
</div>
<div class="form-field">
<label for="nom">
      Nom
     </label>
</div>
<div class="form-field">
<input id="nom" name="nom" required="" type="text"/>
</div>
<div class="form-field">
<label for="niveau">
      Niveau FFT
     </label>
</div>
<div class="form-field">
<select id="niveau" name="niveau">
<option value="">
       -- Sélectionnez --
      </option>
<option>
       Blanc
      </option>
<option>
       Violet
      </option>
<option>
       Rouge
      </option>
<option>
       Orange
      </option>
<option>
       Vert
      </option>
<option>
       Jaune
      </option>
<option>
       40
      </option>
<option>
       30/5
      </option>
<option>
       30/4
      </option>
<option>
       30/3
      </option>
<option>
       30/2
      </option>
<option>
       30/1
      </option>
<option>
       30
      </option>
<option>
       15/5
      </option>
<option>
       15/4
      </option>
<option>
       15/3
      </option>
<option>
       15/2
      </option>
<option>
       15/1
      </option>
<option>
       15
      </option>
<option>
       -2/6
      </option>
<option>
       -4/6
      </option>
<option>
       -15
      </option>
</select>
</div>
<div class="form-field">
<label for="date">
      Semaine de Stage
     </label>
</div>
<div class="form-field">
<input id="date" name="date" required="" type="week"/>
</div>
<div class="form-field">
<label for="hebergement">
      Souhaitez-vous l’hébergement ?
     </label>
</div>
<div class="form-field">
<select id="nos-hebergements" name="hebergement">
<option value="">
       -- Sélectionnez --
      </option>
<option>
       Oui
      </option>
<option>
       Non
      </option>
</select>
</div>
</div>
<button type="submit">
    Valider l'inscription
   </button>
</form>
</div>
<script>
function openForm(stageName) {
  const popup = document.getElementById("form-popup");
  const input = popup.querySelector("input[name='stage'], select[name='stage']");
  if (input) input.value = stageName;
  popup.style.display = "block";
}

function closeForm() {
  document.getElementById("form-popup").style.display = "none";
}

// Simulation d'envoi avec fermeture automatique
document.addEventListener("DOMContentLoaded", function () {
  const form = document.querySelector("#form-popup form");
  if (form) {
    form.addEventListener("submit", function (e) {
      e.preventDefault();
      console.log("Formulaire soumis. Simulation EmailJS.");
      // Remplace ce bloc par EmailJS.send(...) plus tard
      setTimeout(() => {
        alert("Formulaire envoyé !");
        closeForm();
      }, 1000);
    });
  }
});
</script>
<section class="methodologie" id="methodologie" style="background:#ffffff; color:#111; padding: 80px 20px; margin-top: 80px;">
<div data-aos="fade-up" style="max-width: 1200px; margin: auto; display: flex; flex-wrap: wrap; align-items: center; gap: 40px;">
<div style="flex: 1 1 500px;">
<span id="methodologie"></span><h2 style="font-size: 2em; margin-bottom: 20px; color: #000;">Notre Méthodologie</h2>
<p style="margin-bottom: 20px;">
        À Tennis Impact, nous croyons qu’il n’existe pas de méthode unique. Chaque joueur est unique et mérite une approche personnalisée, en accord avec sa personnalité, ses besoins et ses objectifs. 
        C’est pourquoi notre méthodologie repose sur cinq piliers fondamentaux :
      </p>
    </div>
  </header>

  <nav class="reservation-nav" aria-label="Navigation rapide">
    <a href="#stages">Stages</a>
    <a href="#methodologie">Méthodologie</a>
    <a href="#options">Options</a>
    <a href="#hebergements">Hébergements</a>
    <a href="#faq">FAQ</a>
  </nav>

  <main>
    <section id="stages" class="section-intro">
      <h2>Une sélection limitée de stages signatures</h2>
      <p>
        Chaque programme est calibré pour un groupe restreint de joueurs afin de garantir un coaching individualisé, un suivi
        quotidien et des retours précis sur la performance.
      </p>
    </section>

    <section class="booking-layout" aria-labelledby="titre-stages">
      <h2 id="titre-stages" class="visually-hidden">Liste des stages disponibles</h2>
      <div class="stage-list">
        <article class="stage-card" data-stage="Stage INTENSIF" data-dates="23 juin → 28 juin" data-format="Journée entière" data-price="1 600 €">
          <figure>
            <img src="assets/photos/1.png" alt="Entraînement intensif au centre Tennis Impact" loading="lazy" />
            <figcaption>8 places restantes</figcaption>
          </figure>
          <div class="stage-card__body">
            <div class="stage-card__header">
              <h3>Stage INTENSIF</h3>
              <span class="stage-card__tag">U12 - U18</span>
            </div>
            <p class="stage-card__dates">Journée entière • 23 juin - 28 juin</p>
            <p class="stage-card__price">1 600 € <span>Sans hébergement</span></p>
            <ul class="stage-card__highlights">
              <li>2 entraînements tennis quotidiens + 1h30 de physique</li>
              <li>Analyse vidéo personnalisée chaque soir</li>
              <li>Bilan individuel &amp; plan de progression</li>
              <li>Déjeuners gourmets inclus</li>
            </ul>
            <div class="stage-card__actions">
              <button type="button" class="button button--primary" data-open-reservation>Réserver ce stage</button>
              <button type="button" class="button button--ghost" data-summary-only>Ajouter au récapitulatif</button>
            </div>
          </div>
        </article>

        <article class="stage-card" data-stage="Stage COMPÉTITION" data-dates="23 juin → 5 juillet" data-format="Journée entière" data-price="4 200 €">
          <figure>
            <img src="assets/photos/2.png" alt="Jeunes joueurs en match de compétition" loading="lazy" />
            <figcaption>Coaching FFT &amp; UTR</figcaption>
          </figure>
          <div class="stage-card__body">
            <div class="stage-card__header">
              <h3>Stage COMPÉTITION</h3>
              <span class="stage-card__tag">Classement FFT</span>
            </div>
            <p class="stage-card__dates">Journée entière • 23 juin - 5 juillet</p>
            <p class="stage-card__price">4 200 € <span>Sans hébergement</span></p>
            <ul class="stage-card__highlights">
              <li>Tournoi UTR intégré &amp; coaching tactique quotidien</li>
              <li>Préparation mentale et routines d’élite</li>
              <li>Préparateur physique &amp; récupération active</li>
              <li>Rapport de performance complet</li>
            </ul>
            <div class="stage-card__actions">
              <button type="button" class="button button--primary" data-open-reservation>Réserver ce stage</button>
              <button type="button" class="button button--ghost" data-summary-only>Ajouter au récapitulatif</button>
            </div>
          </div>
        </article>

        <article class="stage-card" data-stage="Stage DEMI-JOURNÉE" data-dates="23 juin → 28 juin" data-format="Matinée" data-price="1 050 €">
          <figure>
            <img src="assets/photos/3.png" alt="Stage demi-journée au lever du soleil" loading="lazy" />
            <figcaption>Idéal découverte</figcaption>
          </figure>
          <div class="stage-card__body">
            <div class="stage-card__header">
              <h3>Stage DEMI-JOURNÉE</h3>
              <span class="stage-card__tag">U10 - U15</span>
            </div>
            <p class="stage-card__dates">Matinée • 23 juin - 28 juin</p>
            <p class="stage-card__price">1 050 € <span>Sans hébergement</span></p>
            <ul class="stage-card__highlights">
              <li>1 session technique premium / jour</li>
              <li>Suivi individuel avec carnet de bord</li>
              <li>Groupes affinés par âge et objectifs</li>
            </ul>
            <div class="stage-card__actions">
              <button type="button" class="button button--primary" data-open-reservation>Réserver ce stage</button>
              <button type="button" class="button button--ghost" data-summary-only>Ajouter au récapitulatif</button>
            </div>
          </div>
        </article>

        <article class="stage-card" data-stage="Stage INTENSIF + FRANÇAIS" data-dates="30 juin → 5 juillet" data-format="Journée entière" data-price="1 750 €">
          <figure>
            <img src="assets/photos/4.png" alt="Cours intensif de tennis et français" loading="lazy" />
            <figcaption>Académie bilingue</figcaption>
          </figure>
          <div class="stage-card__body">
            <div class="stage-card__header">
              <h3>Stage INTENSIF + Français</h3>
              <span class="stage-card__tag">Programme bilingue</span>
            </div>
            <p class="stage-card__dates">Journée entière • 30 juin - 5 juillet</p>
            <p class="stage-card__price">1 750 € <span>Sans hébergement</span></p>
            <ul class="stage-card__highlights">
              <li>Tennis haute intensité le matin</li>
              <li>Ateliers linguistiques immersifs</li>
              <li>Encadrement natif &amp; professeur certifié</li>
            </ul>
            <div class="stage-card__actions">
              <button type="button" class="button button--primary" data-open-reservation>Réserver ce stage</button>
              <button type="button" class="button button--ghost" data-summary-only>Ajouter au récapitulatif</button>
            </div>
          </div>
        </article>

        <article class="stage-card" data-stage="Stage NIGHT SESSIONS" data-dates="30 juin → 4 juillet" data-format="Soirée" data-price="900 €">
          <figure>
            <img src="assets/photos/6.png" alt="Session nocturne de tennis sous les projecteurs" loading="lazy" />
            <figcaption>Ambiance night tour</figcaption>
          </figure>
          <div class="stage-card__body">
            <div class="stage-card__header">
              <h3>Stage NIGHT SESSIONS</h3>
              <span class="stage-card__tag">After work</span>
            </div>
            <p class="stage-card__dates">Soirée • 30 juin - 4 juillet</p>
            <p class="stage-card__price">900 € <span>Sans hébergement</span></p>
            <ul class="stage-card__highlights">
              <li>Sessions éclairées &amp; ambiance tournois</li>
              <li>Cardio tennis &amp; matchs coachés</li>
              <li>Club house premium &amp; networking</li>
            </ul>
            <div class="stage-card__actions">
              <button type="button" class="button button--primary" data-open-reservation>Réserver ce stage</button>
              <button type="button" class="button button--ghost" data-summary-only>Ajouter au récapitulatif</button>
            </div>
          </div>
        </article>
      </div>

      <aside class="booking-summary" aria-labelledby="resume-reservation">
        <h2 id="resume-reservation">Votre réservation</h2>
        <p class="booking-summary__empty" data-summary-empty>
          Sélectionnez un stage pour pré-remplir votre dossier premium et être recontacté en priorité par notre équipe admissions.
        </p>
        <div class="booking-summary__selection" data-summary-selection hidden>
          <h3>Stage sélectionné</h3>
          <span class="booking-summary__badge" data-summary-format>Journée entière</span>
          <p><strong data-summary-name></strong></p>
          <p data-summary-dates></p>
          <p data-summary-price></p>
        </div>
        <button type="button" class="button button--primary" data-summary-cta disabled>Compléter ma demande</button>
        <p class="booking-summary__note">Réponse sous 24h ouvrées • Paiement sécurisé après validation du dossier</p>
      </aside>
    </section>

    <section id="methodologie">
      <div class="split-layout">
        <div>
          <h2 class="section-title">Notre méthodologie Haute Performance</h2>
          <p>
            Nous combinons coaching technique, préparation mentale et développement physique dans un parcours personnalisé pour
            chaque joueur. Notre staff FFT &amp; ATP construit la semaine autour de bilans quotidiens et de séances calibrées selon
            les objectifs individuels.
          </p>
          <p>
            Chaque soir, un débrief vidéo et un plan d’actions sont envoyés aux familles pour suivre la progression et préparer la
            journée suivante.
          </p>
          <ul class="pill-list">
            <li>Diagnostic 360°</li>
            <li>Analyse vidéo</li>
            <li>Prépa mentale</li>
            <li>Routines recovery</li>
            <li>Feedback quotidien</li>
          </ul>
        </div>
        <div>
          <img src="assets/photos/6.png" alt="Coaching sur le court avec analyse vidéo" loading="lazy" style="border-radius: 24px; box-shadow: 0 24px 60px rgba(0,0,0,0.4);" />
        </div>
      </div>
    </section>

    <section id="faq" class="reservation-section reservation-section--deep">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">FAQ</span>
          <h2>Vos questions les plus fréquentes</h2>
          <p>Un chargé de relation famille vous accompagne avant, pendant et après le stage. Voici les réponses aux
            questions qui reviennent le plus souvent.</p>
        </div>

        <div class="faq-list">
          <details>
            <summary>Quel niveau est requis pour participer ?</summary>
            <p>Nos stages accueillent les joueurs classés de NC à -2/6. Chaque session est organisée par groupe homogène
              (maximum 4 joueurs par coach). Un entretien préalable permet d’orienter vers le programme adapté.</p>
          </details>
          <details>
            <summary>Comment se déroule l’hébergement ?</summary>
            <p>Les jeunes résident dans nos suites sécurisées ou chalets premium, encadrés 24h/24. Les adultes peuvent
              opter pour nos hôtels partenaires ou une formule sans hébergement.</p>
          </details>
          <details>
            <summary>Peut-on venir en famille ?</summary>
            <p>Oui ! Des packs famille sont disponibles avec accès spa, séances de tennis privatisées et activités
              touristiques. Indiquez-le dans votre demande pour que nous préparions un devis dédié.</p>
          </details>
          <details>
            <summary>Quel est le processus de réservation ?</summary>
            <p>Ajoutez votre stage et vos options, complétez le formulaire, puis un conseiller vous contacte sous 24&nbsp;h
              pour confirmer les disponibilités, valider les options et envoyer le contrat électronique.</p>
          </details>
        </div>
      </div>
    </section>

    <section id="reservation" class="reservation-section reservation-section--surface">
      <div class="container">
        <div class="section-intro">
          <span class="section-eyebrow">Réservation</span>
          <h2>Finalisez votre demande personnalisée</h2>
          <p>Indiquez-nous vos coordonnées et les informations sur le participant. Un conseiller vous rappellera sous
            24&nbsp;h pour valider l’ensemble de votre séjour.</p>
        </div>

        <form class="reservation-form" data-reservation-form>
          <div class="form-selection" data-form-selection>
            <p class="form-selection__empty">Votre panier est vide. Ajoutez un stage pour générer votre devis
              personnalisé.</p>
          </div>

          <div class="form-grid">
            <div class="form-control">
              <label for="responsable-name">Nom et prénom du responsable</label>
              <input type="text" id="responsable-name" name="responsable" autocomplete="name" required />
            </div>
            <div class="form-control">
              <label for="responsable-email">Adresse e-mail</label>
              <input type="email" id="responsable-email" name="email" autocomplete="email" required />
            </div>
            <div class="form-control">
              <label for="responsable-phone">Téléphone</label>
              <input type="tel" id="responsable-phone" name="telephone" autocomplete="tel" required />
            </div>
            <div class="form-control">
              <label for="participant-name">Participant principal</label>
              <input type="text" id="participant-name" name="participant" autocomplete="given-name" required />
            </div>
            <div class="form-control">
              <label for="participant-birth">Date de naissance</label>
              <input type="date" id="participant-birth" name="naissance" required />
            </div>
            <div class="form-control">
              <label for="participant-level">Niveau actuel</label>
              <select id="participant-level" name="niveau" required>
                <option value="" disabled selected>Choisissez une option</option>
                <option value="initiation">Initiation / Galaxie</option>
                <option value="perfectionnement">Perfectionnement (classement 30/5 à 15/4)</option>
                <option value="competition">Compétition (15/3 à 2/6)</option>
                <option value="haut-niveau">Haut niveau (-2/6 et plus)</option>
              </select>
            </div>
            <div class="form-control">
              <label>Option hébergement</label>
              <div class="option-selector" role="group" aria-label="Choix de l'hébergement">
                <label>
                  <input type="radio" name="hebergement" value="Avec hébergement" checked />
                  <span>Avec hébergement</span>
                </label>
                <label>
                  <input type="radio" name="hebergement" value="Sans hébergement" />
                  <span>Sans hébergement</span>
                </label>
              </div>
            </div>
            <div class="form-control">
              <label>Option transport</label>
              <div class="option-selector" role="group" aria-label="Choix du transport">
                <label>
                  <input type="radio" name="transport" value="Avec transport" checked />
                  <span>Avec transport</span>
                </label>
                <label>
                  <input type="radio" name="transport" value="Sans transport" />
                  <span>Sans transport</span>
                </label>
              </div>
            </div>
            <div class="form-control">
              <label for="message">Précisions complémentaires</label>
              <textarea id="message" name="message" placeholder="Allergies, attentes spécifiques, préférences horaires..."></textarea>
            </div>
          </div>

          <div class="form-actions">
            <button type="submit" class="btn btn--primary" data-submit-button disabled>Envoyer ma demande personnalisée</button>
            <p class="form-feedback" role="status" aria-live="polite" data-form-feedback></p>
          </div>

          <div data-hidden-inputs></div>
        </form>
      </div>
    </section>
  </main>

  <footer class="reservation-footer">
    Besoin d’une assistance immédiate ? Contactez notre conciergerie :
    <a href="tel:+33607080910">+33 6 07 08 09 10</a> •
    <a href="mailto:contact@tennisimpact.fr">contact@tennisimpact.fr</a>
  </footer>

  <div class="reservation-toast" role="status" aria-live="polite" data-toast></div>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const stageCatalog = [
        {
          id: 'performance-ados',
          title: 'Stage Intensif Performance',
          tagline: 'Préparation match & coaching mental',
          audience: '12-17 ans • Niveau compétition',
          description:
            'Programme signature pour joueurs classés 15/3 à -2/6 : coaching intensif, suivi mental et préparation physique quotidienne.',
          price: 890,
          lodgingPrice: 320,
          transportPrice: 110,
          highlights: [
            '2 séances tennis quotidiennes + ateliers tactiques en situation de match',
            'Analyse vidéo HD, plan tactique personnalisé et entretien mental',
            'Accès cryothérapie, ostéopathie et cuisine sportive dédiée'
          ],
          sessions: [
            {
              start: '2024-06-24',
              end: '2024-06-29',
              location: 'Domaine Impact – Bordeaux',
              status: 'Places limitées (5)',
              spots: 5
            },
            {
              start: '2024-07-08',
              end: '2024-07-13',
              location: 'Domaine Impact – Bordeaux',
              status: 'Dernières places',
              spots: 4
            },
            {
              start: '2024-08-05',
              end: '2024-08-10',
              location: 'Grand Hôtel de Biarritz',
              status: 'Nouvelles disponibilités',
              spots: 6
            }
          ]
        },
        {
          id: 'progression-jeunes',
          title: 'Stage Évolution Jeunes',
          tagline: 'Progression technique & confiance',
          audience: '9-13 ans • Classement NC à 30/3',
          description:
            'Une semaine structurée et ludique pour consolider les fondamentaux, gagner en régularité et développer la confiance en match.',
          price: 690,
          lodgingPrice: 280,
          transportPrice: 95,
          highlights: [
            'Séances spécifiques par thèmes : services, retours, jeu de jambes',
            'Ateliers tactiques en petit groupe et matchs coachés chaque après-midi',
            'Activités outdoor, veillées encadrées et accompagnement 24h/24'
          ],
          sessions: [
            {
              start: '2024-07-01',
              end: '2024-07-06',
              location: 'Hostens Forest Lodge',
              status: 'Places disponibles (9)',
              spots: 9
            },
            {
              start: '2024-07-22',
              end: '2024-07-27',
              location: 'Hostens Forest Lodge',
              status: 'Nouvelles ouvertures',
              spots: 8
            },
            {
              start: '2024-08-19',
              end: '2024-08-24',
              location: 'Domaine Impact – Bordeaux',
              status: 'Stage confirmé',
              spots: 7
            }
          ]
        },
        {
          id: 'experience-adultes',
          title: 'Stage Expérience Adultes',
          tagline: 'Immersion prestige & coaching illimité',
          audience: 'Adultes classés 30/1 à 15/1',
          description:
            'Une immersion luxe à Biarritz : coaching en très petit groupe, séances individuelles quotidiennes et expériences bien-être.',
          price: 640,
          lodgingPrice: 420,
          transportPrice: 140,
          highlights: [
            '3h de tennis quotidien + hitting avec sparring partenaire',
            'Accès spa marin, yoga de récupération et dîners gastronomiques',
            'Conciergerie dédiée pour conjoints et accompagnants'
          ],
          sessions: [
            {
              start: '2024-06-17',
              end: '2024-06-21',
              location: 'Grand Hôtel de Biarritz',
              status: 'Derniers suites disponibles',
              spots: 3
            },
            {
              start: '2024-07-29',
              end: '2024-08-02',
              location: 'Grand Hôtel de Biarritz',
              status: 'Places disponibles (6)',
              spots: 6
            }
          ]
        }
      ];

      const stageList = document.querySelector('[data-stage-list]');
      const cartEmpty = document.querySelector('[data-cart-empty]');
      const cartItems = document.querySelector('[data-cart-items]');
      const cartTotal = document.querySelector('[data-cart-total]');
      const finalizeButton = document.querySelector('[data-scroll-to-form]');
      const submitButton = document.querySelector('[data-submit-button]');
      const formSelection = document.querySelector('[data-form-selection]');
      const hiddenInputs = document.querySelector('[data-hidden-inputs]');
      const form = document.querySelector('[data-reservation-form]');
      const formFeedback = document.querySelector('[data-form-feedback]');
      const calendarContainer = document.querySelector('[data-calendar]');
      const toast = document.querySelector('[data-toast]');
      const navLinks = Array.from(document.querySelectorAll('.reservation-nav a'));
      const currencyFormatter = new Intl.NumberFormat('fr-FR', {
        style: 'currency',
        currency: 'EUR',
        maximumFractionDigits: 0
      });

      let cart = [];
      let toastTimeout;

      function formatCurrency(value) {
        return currencyFormatter.format(value);
      }

      function formatDateRange(start, end) {
        const startDate = new Date(start);
        const endDate = new Date(end);
        const sameMonth = startDate.getMonth() === endDate.getMonth();
        const options = { day: 'numeric', month: 'long' };
        const startLabel = startDate.toLocaleDateString('fr-FR', options);
        const endLabel = endDate.toLocaleDateString('fr-FR', options);
        return sameMonth ? `${startDate.getDate()} – ${endLabel}` : `${startLabel} – ${endLabel}`;
      }

      function formatMonthLabel(dateString) {
        const label = new Date(dateString).toLocaleDateString('fr-FR', { month: 'long', year: 'numeric' });
        return label.charAt(0).toUpperCase() + label.slice(1);
      }

      function showToast(message) {
        if (!toast) return;
        toast.textContent = message;
        toast.classList.add('is-visible');
        clearTimeout(toastTimeout);
        toastTimeout = setTimeout(() => {
          toast.classList.remove('is-visible');
        }, 3400);
      }

      function renderStages() {
        if (!stageList) return;
        stageList.innerHTML = '';

        stageCatalog.forEach((stage) => {
          const card = document.createElement('article');
          card.className = 'stage-card';
          card.innerHTML = `
            <header class="stage-card__header">
              <span class="stage-card__tagline">${stage.tagline}</span>
              <h3 class="stage-card__title">${stage.title}</h3>
              <p class="stage-card__audience">${stage.audience}</p>
              <p class="stage-card__description">${stage.description}</p>
            </header>
            <ul class="stage-card__highlights">
              ${stage.highlights.map((item) => `<li>${item}</li>`).join('')}
            </ul>
            <div class="stage-card__sessions">
              <label for="${stage.id}-session">Prochaines sessions</label>
              <select id="${stage.id}-session" data-session-select>
                ${stage.sessions
                  .map(
                    (session, index) =>
                      `<option value="${index}">${formatDateRange(session.start, session.end)} • ${session.location}</option>`
                  )
                  .join('')}
              </select>
              <div class="stage-card__session-info" data-session-info></div>
            </div>
            <div class="stage-card__actions">
              <div class="stage-card__price">
                <span>Programme 6 jours</span>
                <strong>${formatCurrency(stage.price)}</strong>
                <small>Options hébergement dès ${formatCurrency(stage.lodgingPrice)}</small>
              </div>
              <button type="button" class="btn btn--primary" data-add-stage data-stage-id="${stage.id}">
                Ajouter au panier
              </button>
            </div>
          `;

          const select = card.querySelector('[data-session-select]');
          const info = card.querySelector('[data-session-info]');
          const button = card.querySelector('[data-add-stage]');

          function updateInfo(index) {
            const session = stage.sessions[index];
            if (!session) return;
            info.innerHTML = `
              <span><strong>${formatDateRange(session.start, session.end)}</strong></span>
              <span>${session.location}</span>
              <span>${session.status}</span>
            `;
            button.dataset.sessionIndex = String(index);
          }

          updateInfo(Number(select.value) || 0);

          select.addEventListener('change', (event) => {
            updateInfo(Number(event.target.value));
          });

          button.addEventListener('click', () => {
            const sessionIndex = Number(button.dataset.sessionIndex || 0);
            addToCart(stage.id, sessionIndex);
          });

          stageList.appendChild(card);
        });
      }

      function addToCart(stageId, sessionIndex) {
        const key = `${stageId}-${sessionIndex}`;
        if (cart.some((item) => item.key === key)) {
          showToast('Cette session est déjà dans votre sélection.');
          return;
        }
        cart.push({ key, stageId, sessionIndex, lodging: false, transport: false });
        renderCart();
        showToast('Stage ajouté à votre sélection.');
      }

      function removeFromCart(key) {
        cart = cart.filter((item) => item.key !== key);
        renderCart();
        showToast('Stage retiré de votre sélection.');
      }

      function calculateItemTotal(item) {
        const stage = stageCatalog.find((stage) => stage.id === item.stageId);
        if (!stage) return 0;
        let total = stage.price;
        if (item.lodging) total += stage.lodgingPrice;
        if (item.transport) total += stage.transportPrice;
        return total;
      }

      function calculateTotal() {
        return cart.reduce((sum, item) => sum + calculateItemTotal(item), 0);
      }

      }

      function formatDateRange(start, end) {
        const startDate = new Date(start);
        const endDate = new Date(end);
        const sameMonth = startDate.getMonth() === endDate.getMonth();
        const options = { day: 'numeric', month: 'long' };
        const startLabel = startDate.toLocaleDateString('fr-FR', options);
        const endLabel = endDate.toLocaleDateString('fr-FR', options);
        return sameMonth ? `${startDate.getDate()} – ${endLabel}` : `${startLabel} – ${endLabel}`;
      }

      function formatMonthLabel(dateString) {
        const label = new Date(dateString).toLocaleDateString('fr-FR', { month: 'long', year: 'numeric' });
        return label.charAt(0).toUpperCase() + label.slice(1);
    <section id="options" class="options-section">
      <h2 class="section-title" style="text-align: center;">Options premium &amp; services sur mesure</h2>
      <p style="text-align: center; max-width: 780px; margin: 0 auto 36px; color: var(--text-secondary);">
        Renforcez l’expérience avec nos services complémentaires pensés pour les familles exigeantes. Chaque option peut être
        ajoutée après votre prise de contact.
      </p>
      <div class="options-grid">
        <article class="option-card">
          <h3>Conciergerie famille</h3>
          <p>Transport privé, réservations d’hôtels partenaires et activités détente pour les accompagnants.</p>
        </article>
        <article class="option-card">
          <h3>Coaching mental</h3>
          <p>Sessions individuelles avec notre préparateur mental certifié pour installer des routines durables.</p>
        </article>
        <article class="option-card">
          <h3>Suivi nutrition</h3>
          <p>Plan alimentaire personnalisé, bilan body-scan et livret de recommandations pour la saison.</p>
        </article>
        <article class="option-card">
          <h3>Analyse biomécanique</h3>
          <p>Capture haute vitesse, mesures de puissance et rapport détaillé réalisé par notre staff performance.</p>
        </article>
      </div>
    </section>

    <section id="hebergements" class="accommodations">
      <h2 class="section-title" style="text-align: center;">Hébergements partenaires</h2>
      <p style="text-align: center; max-width: 780px; margin: 0 auto 40px; color: #3a4463;">
        Des résidences haut de gamme sélectionnées pour leur confort, leur sécurité et leur proximité immédiate avec nos courts.
        Nos équipes accompagnent votre choix en fonction du profil du joueur et de la période.
      </p>
      <div class="accommodation-grid">
        <article class="accommodation-card">
          <img src="assets/photos/1.png" alt="Lac et forêt d'Hostens" loading="lazy" />
          <div class="accommodation-card__body">
            <h3>Hostens – Immersion nature</h3>
            <p>Chalets premium au cœur de la réserve naturelle. Lac privé, salles de briefing et restauration healthy.</p>
            <button type="button" class="button button--primary" data-open-accommodation="hostens">Découvrir le programme</button>
          </div>
        </article>
        <article class="accommodation-card">
          <img src="assets/photos/2.png" alt="CREPS de Poitiers" loading="lazy" />
          <div class="accommodation-card__body">
            <h3>Poitiers – CREPS &amp; Futuroscope</h3>
            <p>Infrastructure nationale d’entraînement avec sortie exclusive au parc du Futuroscope.</p>
            <button type="button" class="button button--primary" data-open-accommodation="poitiers">Découvrir le programme</button>
          </div>
        </article>
        <article class="accommodation-card">
          <img src="assets/photos/3.png" alt="CREPS d'Aix-en-Provence" loading="lazy" />
          <div class="accommodation-card__body">
            <h3>Aix-en-Provence – Intensif</h3>
            <p>Cadre provençal avec accès direct aux courts couverts, zone cryothérapie et suivi médical.</p>
            <button type="button" class="button button--primary" data-open-accommodation="aix">Découvrir le programme</button>
          </div>
        </article>
        <article class="accommodation-card">
          <img src="assets/photos/5.png" alt="Club de tennis en bord de mer" loading="lazy" />
          <div class="accommodation-card__body">
            <h3>Cabourg – Tournée de tournois</h3>
            <p>Participation à une série de tournois FFT avec accompagnement tactique et récupération en thalasso.</p>
            <button type="button" class="button button--primary" data-open-accommodation="cabourg">Découvrir le programme</button>
          </div>
        </article>
      </div>
    </section>

    <section id="faq" class="faq">
      <h2 class="section-title" style="text-align: center;">Questions fréquentes</h2>
      <div class="faq-grid">
        <details>
          <summary>Quel est le niveau requis pour participer ?</summary>
          <p>Nos stages couvrent du joueur club motivé au compétiteur classé. Nous organisons un appel de qualification afin de placer chaque joueur dans le groupe qui lui garantit le plus de progression.</p>
        </details>
        <details>
          <summary>Comment se déroule la prise en charge ?</summary>
          <p>Une fois votre dossier validé, un conseiller dédié vous accompagne sur le transport, l’hébergement et la préparation de la semaine. Vous recevez un carnet de route complet 10 jours avant le début du stage.</p>
        </details>
        <details>
          <summary>Peut-on ajouter des options après la réservation ?</summary>
          <p>Oui, les options premium peuvent être ajoutées jusqu’à 7 jours avant le début du stage, sous réserve de disponibilité des intervenants spécialisés.</p>
        </details>
        <details>
          <summary>Quel est le processus de paiement ?</summary>
          <p>Le règlement se fait en deux temps : un acompte pour réserver la place, puis le solde une fois l’ensemble des prestations confirmées. Paiement sécurisé et échelonnable.</p>
        </details>
      </div>
    </section>

    <section class="cta-final">
      <h2 class="section-title">Besoin d’un conseil personnalisé ?</h2>
      <p>Notre cellule admissions revient vers vous sous 24h pour ajuster le programme à votre projet sportif et familial.</p>
      <button type="button" class="button button--primary" data-summary-cta-secondary>Parler à un conseiller</button>
    </section>
  </main>

  <div class="modal" id="reservation-modal" role="dialog" aria-modal="true" aria-labelledby="reservation-title">
    <div class="modal__dialog">
      <button type="button" class="modal__close" data-close-modal aria-label="Fermer la fenêtre">×</button>
      <header class="modal__header">
        <span class="booking-summary__badge" data-modal-format>Stage premium</span>
        <h2 class="modal__title" id="reservation-title">Compléter ma demande</h2>
        <div class="modal__stage-meta">
          <strong data-modal-stage>Stage INTENSIF</strong>
          <span data-modal-dates>23 juin → 28 juin</span>
          <span data-modal-price>1 600 €</span>
        </div>
      </header>
      <form class="reservation-form" id="reservation-form">
        <input type="hidden" name="stage" data-modal-input-stage />
        <div class="form-grid">
          <label>
            Prénom du participant
            <input type="text" name="prenom" autocomplete="given-name" required />
          </label>
          <label>
            Nom du participant
            <input type="text" name="nom" autocomplete="family-name" required />
          </label>
          <label>
            Date de naissance
            <input type="date" name="naissance" required />
          </label>
          <label>
            Classement ou niveau
            <select name="niveau" required>
              <option value="">Sélectionner</option>
              <option>Débutant structuré</option>
              <option>Intermédiaire compétition</option>
              <option>Classé FFT</option>
              <option>Projet international</option>
            </select>
          </label>
        </div>
        <div class="form-grid">
          <label>
            Email de contact
            <input type="email" name="email" autocomplete="email" required />
          </label>
          <label>
            Téléphone
            <input type="tel" name="telephone" autocomplete="tel" required />
          </label>
          <label>
            Hébergement souhaité
            <select name="hebergement" required>
              <option value="">Sélectionner</option>
              <option>Avec hébergement</option>
              <option>Sans hébergement</option>
              <option>Solution famille</option>
            </select>
          </label>
          <label>
            Options premium
            <select name="options">
              <option value="">À définir plus tard</option>
              <option>Coaching mental</option>
              <option>Suivi nutrition</option>
              <option>Conciergerie famille</option>
              <option>Analyse biomécanique</option>
            </select>
          </label>
        </div>
        <label>
          Message ou attentes particulières
          <textarea name="message" placeholder="Précisez vos objectifs, contraintes ou demandes spécifiques"></textarea>
        </label>
        <div class="modal__footer">
          <button type="submit" class="button button--primary">Envoyer ma demande</button>
          <small>Nous revenons vers vous sous 24h avec un devis détaillé et les prochaines étapes.</small>
        </div>
      </form>
    </div>
  </div>

  <div class="modal" id="accommodation-modal" role="dialog" aria-modal="true" aria-labelledby="accommodation-title">
    <div class="modal__dialog">
      <button type="button" class="modal__close" data-close-modal aria-label="Fermer la fenêtre">×</button>
      <header class="modal__header">
        <h2 class="modal__title" id="accommodation-title">Hébergement premium</h2>
        <p class="modal__stage-meta" data-accommodation-intro></p>
      </header>
      <div class="accommodation-modal__media">
        <img src="assets/photos/1.png" alt="Hébergement partenaire" data-accommodation-image />
      </div>
      <p data-accommodation-description></p>
      <h3 style="margin: 0; font-size: 1.1rem; color: #050b1f;">Une journée type</h3>
      <ul class="accommodation-modal__list" data-accommodation-program></ul>
      <div class="modal__footer">
        <button type="button" class="button button--primary" data-accommodation-reserve>Je souhaite cet hébergement</button>
        <small>Indiquez votre préférence lors de l’envoi du dossier, nous la confirmerons selon les disponibilités.</small>
      </div>
    </div>
  </div>

  <div class="toast" role="status" aria-live="polite" data-toast></div>

  <style>
    .visually-hidden {
      position: absolute !important;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      border: 0;
    }
  </style>

  <script>
    (function () {
      const reservationModal = document.getElementById("reservation-modal");
      const accommodationModal = document.getElementById("accommodation-modal");
      const toast = document.querySelector("[data-toast]");
      const summaryEmpty = document.querySelector("[data-summary-empty]");
      const summarySelection = document.querySelector("[data-summary-selection]");
      const summaryName = document.querySelector("[data-summary-name]");
      const summaryDates = document.querySelector("[data-summary-dates]");
      const summaryPrice = document.querySelector("[data-summary-price]");
      const summaryFormat = document.querySelector("[data-summary-format]");
      const summaryCTA = document.querySelector("[data-summary-cta]");
      const summaryCTASecondary = document.querySelector("[data-summary-cta-secondary]");
      const modalStage = document.querySelector("[data-modal-stage]");
      const modalDates = document.querySelector("[data-modal-dates]");
      const modalPrice = document.querySelector("[data-modal-price]");
      const modalFormat = document.querySelector("[data-modal-format]");
      const modalInputStage = document.querySelector("[data-modal-input-stage]");
      const reservationForm = document.getElementById("reservation-form");
      const accommodationTitle = document.getElementById("accommodation-title");
      const accommodationIntro = document.querySelector("[data-accommodation-intro]");
      const accommodationImage = document.querySelector("[data-accommodation-image]");
      const accommodationDescription = document.querySelector("[data-accommodation-description]");
      const accommodationProgram = document.querySelector("[data-accommodation-program]");
      const accommodationReserve = document.querySelector("[data-accommodation-reserve]");

      let selectedStage = null;

      const accommodations = {
        hostens: {
          title: "Hostens – Immersion nature",
          intro: "Chalets premium au cœur de la réserve naturelle, 40 minutes de Bordeaux",
          description:
            "Cadre forestier, lac privé et infrastructures sportives à moins de 5 minutes à pied. Idéal pour les groupes recherchant un environnement ressourçant entre deux sessions.",
          image: "assets/photos/1.png",
          program: [
            "7h30 – Réveil musculaire au bord du lac",
            "9h00 – Tennis intensif et ateliers tactiques",
            "12h30 – Déjeuner healthy & repos encadré",
            "14h30 – Multisport : paddle, VTT, lac",
            "20h00 – Soirée briefing et animations premium"
          ]
        },
        poitiers: {
          title: "Poitiers – CREPS & Futuroscope",
          intro: "Résidence sportive d’état avec sortie exclusive au parc du Futuroscope",
          description:
            "Chambres rénovées, salle vidéo et pôle médical sur place. Une journée signature est consacrée au Futuroscope avec accès prioritaire aux attractions.",
          image: "assets/photos/2.png",
          program: [
            "7h00 – Préparation physique indoor",
            "9h30 – Ateliers tactiques & matchs UTR",
            "12h30 – Déjeuner au restaurant du CREPS",
            "15h00 – Sortie Futuroscope encadrée",
            "19h30 – Debrief collectif avec staff"
          ]
        },
        aix: {
          title: "Aix-en-Provence – Intensif",
          intro: "Résidence provençale à deux pas des courts couverts et de la cryothérapie",
          description:
            "Ambiance soleil & performance : terrains extérieurs et indoor, salle de musculation haut de gamme et espace bien-être pour optimiser la récupération.",
          image: "assets/photos/3.png",
          program: [
            "7h30 – Activation & mobilité",
            "9h00 – Tennis intensif filmé",
            "12h00 – Déjeuner méditerranéen",
            "14h00 – Cryothérapie & préparation mentale",
            "17h30 – Matchs dirigés au coucher du soleil"
          ]
        },
        cabourg: {
          title: "Cabourg – Tournée de tournois",
          intro: "Résidence bord de mer avec programme de tournois FFT accompagnés",
          description:
            "Logement premium face mer, navettes privées vers les clubs partenaires et accès quotidien à l’espace thalasso pour favoriser la récupération.",
          image: "assets/photos/5.png",
          program: [
            "8h00 – Footing plage & routine mobilité",
            "10h00 – Match officiel FFT avec coaching",
            "14h00 – Analyse tactique individuelle",
            "16h30 – Récupération thalasso & cryo",
            "20h00 – Dîner gastronomique & briefing"
          ]
        }
      };

      function updateSummary(stage) {
        selectedStage = stage;
        if (summaryEmpty) {
          summaryEmpty.hidden = true;
          summaryEmpty.setAttribute("hidden", "");
        }
        if (summarySelection) {
          summarySelection.hidden = false;
          summarySelection.removeAttribute("hidden");
        }
        if (summaryName) summaryName.textContent = stage.name;
        if (summaryDates) summaryDates.textContent = stage.dates;
        if (summaryPrice) summaryPrice.textContent = stage.price;
        if (summaryFormat) summaryFormat.textContent = stage.format;
        if (summaryCTA) summaryCTA.disabled = false;
      }

      function openReservationModal() {
        if (!selectedStage) return;
        modalStage.textContent = selectedStage.name;
        modalDates.textContent = selectedStage.dates;
        modalPrice.textContent = selectedStage.price;
        modalFormat.textContent = selectedStage.format;
        modalInputStage.value = selectedStage.name;
        reservationModal.classList.add("is-visible");
        document.body.style.overflow = "hidden";
      }

      function closeModal(modal) {
        if (!modal) return;
        modal.classList.remove("is-visible");
        document.body.style.overflow = "";
      }

      function showToast(message) {
        if (!toast) return;
        toast.textContent = message;
        toast.classList.add("is-visible");
        setTimeout(() => toast.classList.remove("is-visible"), 3200);
      }

      document.querySelectorAll("[data-open-reservation]").forEach((button) => {
        button.addEventListener("click", () => {
          const card = button.closest("[data-stage]");
          if (!card) return;
          updateSummary({
            name: card.dataset.stage,
            dates: card.dataset.dates,
            format: card.dataset.format,
            price: card.dataset.price
          });
          openReservationModal();
        });
      });

      document.querySelectorAll("[data-summary-only]").forEach((button) => {
        button.addEventListener("click", () => {
          const card = button.closest("[data-stage]");
          if (!card) return;
          updateSummary({
            name: card.dataset.stage,
            dates: card.dataset.dates,
            format: card.dataset.format,
            price: card.dataset.price
          });
          showToast("Stage ajouté au récapitulatif. Cliquez sur « Compléter ma demande » pour finaliser.");
        });
      });

      if (summaryCTA) {
        summaryCTA.addEventListener("click", () => {
          if (!selectedStage) {
            showToast("Sélectionnez d’abord un stage pour compléter votre dossier.");
            return;
          }
          openReservationModal();
        });
      }

</div>


<script>
(function(){
  function adjust() {
    var hash = window.location.hash;
    if(!hash) return;
    var el = document.querySelector(hash);
    if(!el) return;
    var header = document.querySelector('header, .site-header, nav.navbar, .navbar, .stages-nav');
    var offset = 0;
    if (header) { offset = header.getBoundingClientRect().height || 0; }
    var y = el.getBoundingClientRect().top + window.pageYOffset - (offset + 16);
    window.scrollTo({top: y, behavior: 'instant'});
  }
  window.addEventListener('load', adjust);
  window.addEventListener('hashchange', function(){ setTimeout(adjust, 0); });
  // handle direct clicks with default prevented by some scripts
  document.addEventListener('click', function(e){
    var a = e.target.closest('a[href*="#nos-hebergements"]');
    if(a){
      e.preventDefault();
      history.pushState(null, '', a.getAttribute('href').split('#')[0] + '#nos-hebergements');
      adjust();
    }
  }, true);
})();
</script>


<script>
(function(){
  function headerOffset(){
    var sel = ['header','.site-header','.navbar','.stages-nav','nav','.topbar'];
    for (var i=0;i<sel.length;i++){
      var el = document.querySelector(sel[i]);
      if(el){ var h = el.getBoundingClientRect().height; if(h>0) return Math.round(h)+16; }
    }
    return 140;
  }
  function scrollToAnchorNosHebergements(){
    var el = document.querySelector('#nos-hebergements') || document.getElementById('nos-hebergements');
    if(!el) return;
    var off = headerOffset();
    document.documentElement.style.setProperty('--header-offset', off+'px');
    var target = el;
    // If next heading is immediately after anchor, prefer heading
    var next = el.nextElementSibling;
    if(next && /^H[1-6]$/.test(next.tagName)) target = next;
    var y = target.getBoundingClientRect().top + window.pageYOffset - off;
    window.scrollTo({top:y, behavior:'instant'});
  }
  function wantNosHash(){
    return (location.hash || '').toLowerCase().indexOf('nos-hebergements') !== -1;
  }
  window.addEventListener('load', function(){
    if(wantNosHash()) { setTimeout(scrollToAnchorNosHebergements, 0); }
  });
  window.addEventListener('hashchange', function(){
    if(wantNosHash()) { setTimeout(scrollToAnchorNosHebergements, 0); }
  });
  document.addEventListener('click', function(e){
    var a = e.target.closest('a[href*="#nos-hebergements"]');
    if(a){
      e.preventDefault();
      if(a.getAttribute('href').indexOf('#')===0){
        history.pushState(null,'','#nos-hebergements');
      }else{
        var base = a.getAttribute('href').split('#')[0];
        history.pushState(null,'', base+'#nos-hebergements');
      }
      scrollToAnchorNosHebergements();
    }
  </style>

  <script>
    (function () {
      const reservationModal = document.getElementById("reservation-modal");
      const accommodationModal = document.getElementById("accommodation-modal");
      const toast = document.querySelector("[data-toast]");
      const summaryEmpty = document.querySelector("[data-summary-empty]");
      const summarySelection = document.querySelector("[data-summary-selection]");
      const summaryName = document.querySelector("[data-summary-name]");
      const summaryDates = document.querySelector("[data-summary-dates]");
      const summaryPrice = document.querySelector("[data-summary-price]");
      const summaryFormat = document.querySelector("[data-summary-format]");
      const summaryCTA = document.querySelector("[data-summary-cta]");
      const summaryCTASecondary = document.querySelector("[data-summary-cta-secondary]");
      const modalStage = document.querySelector("[data-modal-stage]");
      const modalDates = document.querySelector("[data-modal-dates]");
      const modalPrice = document.querySelector("[data-modal-price]");
      const modalFormat = document.querySelector("[data-modal-format]");
      const modalInputStage = document.querySelector("[data-modal-input-stage]");
      const reservationForm = document.getElementById("reservation-form");
      const accommodationTitle = document.getElementById("accommodation-title");
      const accommodationIntro = document.querySelector("[data-accommodation-intro]");
      const accommodationImage = document.querySelector("[data-accommodation-image]");
      const accommodationDescription = document.querySelector("[data-accommodation-description]");
      const accommodationProgram = document.querySelector("[data-accommodation-program]");
      const accommodationReserve = document.querySelector("[data-accommodation-reserve]");

      let selectedStage = null;

      const accommodations = {
        hostens: {
          title: "Hostens – Immersion nature",
          intro: "Chalets premium au cœur de la réserve naturelle, 40 minutes de Bordeaux",
          description:
            "Cadre forestier, lac privé et infrastructures sportives à moins de 5 minutes à pied. Idéal pour les groupes recherchant un environnement ressourçant entre deux sessions.",
          image: "assets/photos/1.png",
          program: [
            "7h30 – Réveil musculaire au bord du lac",
            "9h00 – Tennis intensif et ateliers tactiques",
            "12h30 – Déjeuner healthy & repos encadré",
            "14h30 – Multisport : paddle, VTT, lac",
            "20h00 – Soirée briefing et animations premium"
          ]
        },
        poitiers: {
          title: "Poitiers – CREPS & Futuroscope",
          intro: "Résidence sportive d’état avec sortie exclusive au parc du Futuroscope",
          description:
            "Chambres rénovées, salle vidéo et pôle médical sur place. Une journée signature est consacrée au Futuroscope avec accès prioritaire aux attractions.",
          image: "assets/photos/2.png",
          program: [
            "7h00 – Préparation physique indoor",
            "9h30 – Ateliers tactiques & matchs UTR",
            "12h30 – Déjeuner au restaurant du CREPS",
            "15h00 – Sortie Futuroscope encadrée",
            "19h30 – Debrief collectif avec staff"
          ]
        },
        aix: {
          title: "Aix-en-Provence – Intensif",
          intro: "Résidence provençale à deux pas des courts couverts et de la cryothérapie",
          description:
            "Ambiance soleil & performance : terrains extérieurs et indoor, salle de musculation haut de gamme et espace bien-être pour optimiser la récupération.",
          image: "assets/photos/3.png",
          program: [
            "7h30 – Activation & mobilité",
            "9h00 – Tennis intensif filmé",
            "12h00 – Déjeuner méditerranéen",
            "14h00 – Cryothérapie & préparation mentale",
            "17h30 – Matchs dirigés au coucher du soleil"
          ]
        },
        cabourg: {
          title: "Cabourg – Tournée de tournois",
          intro: "Résidence bord de mer avec programme de tournois FFT accompagnés",
          description:
            "Logement premium face mer, navettes privées vers les clubs partenaires et accès quotidien à l’espace thalasso pour favoriser la récupération.",
          image: "assets/photos/5.png",
          program: [
            "8h00 – Footing plage & routine mobilité",
            "10h00 – Match officiel FFT avec coaching",
            "14h00 – Analyse tactique individuelle",
            "16h30 – Récupération thalasso & cryo",
            "20h00 – Dîner gastronomique & briefing"
          ]
        }
      };

      function updateSummary(stage) {
        selectedStage = stage;
        if (summaryEmpty) {
          summaryEmpty.hidden = true;
          summaryEmpty.setAttribute("hidden", "");
        }
        if (summarySelection) {
          summarySelection.hidden = false;
          summarySelection.removeAttribute("hidden");
        }
        if (summaryName) summaryName.textContent = stage.name;
        if (summaryDates) summaryDates.textContent = stage.dates;
        if (summaryPrice) summaryPrice.textContent = stage.price;
        if (summaryFormat) summaryFormat.textContent = stage.format;
        if (summaryCTA) summaryCTA.disabled = false;
      }

      function openReservationModal() {
        if (!selectedStage) return;
        modalStage.textContent = selectedStage.name;
        modalDates.textContent = selectedStage.dates;
        modalPrice.textContent = selectedStage.price;
        modalFormat.textContent = selectedStage.format;
        modalInputStage.value = selectedStage.name;
        reservationModal.classList.add("is-visible");
        document.body.style.overflow = "hidden";
      }

      function closeModal(modal) {
        if (!modal) return;
        modal.classList.remove("is-visible");
        document.body.style.overflow = "";
      }

      function showToast(message) {
        if (!toast) return;
        toast.textContent = message;
        toast.classList.add('is-visible');
        clearTimeout(toastTimeout);
        toastTimeout = setTimeout(() => {
          toast.classList.remove('is-visible');
        }, 3400);
      }

      function renderStages() {
        if (!stageList) return;
        stageList.innerHTML = '';

        stageCatalog.forEach((stage) => {
          const card = document.createElement('article');
          card.className = 'stage-card';
          card.innerHTML = `
            <header class="stage-card__header">
              <span class="stage-card__tagline">${stage.tagline}</span>
              <h3 class="stage-card__title">${stage.title}</h3>
              <p class="stage-card__audience">${stage.audience}</p>
              <p class="stage-card__description">${stage.description}</p>
            </header>
            <ul class="stage-card__highlights">
              ${stage.highlights.map((item) => `<li>${item}</li>`).join('')}
            </ul>
            <div class="stage-card__sessions">
              <label for="${stage.id}-session">Prochaines sessions</label>
              <select id="${stage.id}-session" data-session-select>
                ${stage.sessions
                  .map(
                    (session, index) =>
                      `<option value="${index}">${formatDateRange(session.start, session.end)} • ${session.location}</option>`
                  )
                  .join('')}
              </select>
              <div class="stage-card__session-info" data-session-info></div>
            </div>
            <div class="stage-card__actions">
              <div class="stage-card__price">
                <span>Programme 6 jours</span>
                <strong>${formatCurrency(stage.price)}</strong>
                <small>Options hébergement dès ${formatCurrency(stage.lodgingPrice)}</small>
              </div>
              <button type="button" class="btn btn--primary" data-add-stage data-stage-id="${stage.id}">
                Ajouter au panier
              </button>
            </div>
          `;

          const select = card.querySelector('[data-session-select]');
          const info = card.querySelector('[data-session-info]');
          const button = card.querySelector('[data-add-stage]');

          function updateInfo(index) {
            const session = stage.sessions[index];
            if (!session) return;
            info.innerHTML = `
              <span><strong>${formatDateRange(session.start, session.end)}</strong></span>
              <span>${session.location}</span>
              <span>${session.status}</span>
            `;
            button.dataset.sessionIndex = String(index);
          }

          updateInfo(Number(select.value) || 0);

          select.addEventListener('change', (event) => {
            updateInfo(Number(event.target.value));
          });

          button.addEventListener('click', () => {
            const sessionIndex = Number(button.dataset.sessionIndex || 0);
            addToCart(stage.id, sessionIndex);
          });

          stageList.appendChild(card);
        });
      }

      function addToCart(stageId, sessionIndex) {
        const key = `${stageId}-${sessionIndex}`;
        if (cart.some((item) => item.key === key)) {
          showToast('Cette session est déjà dans votre sélection.');
          return;
        }
        cart.push({ key, stageId, sessionIndex, lodging: false, transport: false });
        renderCart();
        showToast('Stage ajouté à votre sélection.');
      }

      function removeFromCart(key) {
        cart = cart.filter((item) => item.key !== key);
        renderCart();
        showToast('Stage retiré de votre sélection.');
      }

      function calculateItemTotal(item) {
        const stage = stageCatalog.find((stage) => stage.id === item.stageId);
        if (!stage) return 0;
        let total = stage.price;
        if (item.lodging) total += stage.lodgingPrice;
        if (item.transport) total += stage.transportPrice;
        return total;
      }

      function calculateTotal() {
        return cart.reduce((sum, item) => sum + calculateItemTotal(item), 0);
      }

      function updateCartOption(key, option, value) {
        const target = cart.find((item) => item.key === key);
        if (!target) return;
        target[option === 'lodging' ? 'lodging' : 'transport'] = value;
        renderCart();
      }

      function renderCart() {
        if (!cartItems || !cartEmpty) return;
        cartItems.innerHTML = '';
        cartEmpty.hidden = cart.length > 0;

        cart.forEach((item) => {
          const stage = stageCatalog.find((stage) => stage.id === item.stageId);
          if (!stage) return;
          const session = stage.sessions[item.sessionIndex];
          const article = document.createElement('article');
          article.className = 'cart-item';
          article.innerHTML = `
            <div class="cart-item__header">
              <div>
                <p class="cart-item__title">${stage.title}</p>
                <p class="cart-item__meta">${formatDateRange(session.start, session.end)} • ${session.location}</p>
              </div>
              <button type="button" class="cart-remove" data-remove title="Retirer le stage">Retirer</button>
            </div>
            <div class="cart-options">
              <label class="cart-chip">
                <input type="checkbox" data-option="lodging" ${item.lodging ? 'checked' : ''} />
                <span>Hébergement +${formatCurrency(stage.lodgingPrice)}</span>
              </label>
              <label class="cart-chip">
                <input type="checkbox" data-option="transport" ${item.transport ? 'checked' : ''} />
                <span>Transport +${formatCurrency(stage.transportPrice)}</span>
              </label>
            </div>
            <div class="cart-item__total">
              <span>Montant pour ce stage</span>
              <strong>${formatCurrency(calculateItemTotal(item))}</strong>
            </div>
          `;

          article.querySelectorAll('input[data-option]').forEach((input) => {
            input.addEventListener('change', (event) => {
              const option = event.target.dataset.option;
              updateCartOption(item.key, option, event.target.checked);
            });
          });

          const removeButton = article.querySelector('[data-remove]');
          removeButton.addEventListener('click', () => removeFromCart(item.key));

          cartItems.appendChild(article);
        });

        const total = calculateTotal();
        if (cartTotal) {
          cartTotal.textContent = formatCurrency(total);
        }

        if (finalizeButton) {
          finalizeButton.disabled = cart.length === 0;
          finalizeButton.setAttribute('aria-disabled', String(cart.length === 0));
        }

        if (submitButton) {
          submitButton.disabled = cart.length === 0;
        }

        updateFormSelection();
      }

      function updateFormSelection() {
        if (!formSelection || !hiddenInputs) return;
        hiddenInputs.innerHTML = '';

        if (!cart.length) {
          formSelection.innerHTML = '<p class="form-selection__empty">Votre panier est vide. Ajoutez un stage pour générer votre devis personnalisé.</p>';
          return;
        }

        const fragment = document.createDocumentFragment();
        cart.forEach((item) => {
          const stage = stageCatalog.find((stage) => stage.id === item.stageId);
          if (!stage) return;
          const session = stage.sessions[item.sessionIndex];
          const block = document.createElement('div');
          block.className = 'form-selection__item';
          block.innerHTML = `
            <strong>${stage.title}</strong>
            <span>${formatDateRange(session.start, session.end)} • ${session.location}</span>
            <span>Hébergement : ${item.lodging ? 'oui' : 'non'} • Transport : ${item.transport ? 'oui' : 'non'}</span>
          `;
          fragment.appendChild(block);

          const hidden = document.createElement('input');
          hidden.type = 'hidden';
          hidden.name = 'stages[]';
          hidden.value = `${stage.title} | ${formatDateRange(session.start, session.end)} | ${session.location} | Hébergement: ${item.lodging ? 'oui' : 'non'} | Transport: ${item.transport ? 'oui' : 'non'}`;
          hiddenInputs.appendChild(hidden);
        });

        const totalLine = document.createElement('div');
        totalLine.className = 'form-selection__total';
        totalLine.innerHTML = `<strong>Total estimé : ${formatCurrency(calculateTotal())}</strong>`;
        fragment.appendChild(totalLine);

        const totalHidden = document.createElement('input');
        totalHidden.type = 'hidden';
        totalHidden.name = 'total_estime';
        totalHidden.value = formatCurrency(calculateTotal());
        hiddenInputs.appendChild(totalHidden);

        formSelection.innerHTML = '';
        formSelection.appendChild(fragment);
      }

      function renderCalendar() {
        if (!calendarContainer) return;
        calendarContainer.innerHTML = '';

        const sessions = stageCatalog
          .flatMap((stage) =>
            stage.sessions.map((session, index) => ({
              stageId: stage.id,
              sessionIndex: index,
              stageTitle: stage.title,
              start: session.start,
              end: session.end,
              location: session.location,
              status: session.status,
              price: stage.price
            }))
          )
          .sort((a, b) => new Date(a.start) - new Date(b.start));

        let currentMonth = '';
        let monthBlock = null;

        sessions.forEach((item) => {
          const monthLabel = formatMonthLabel(item.start);
          if (monthLabel !== currentMonth) {
            currentMonth = monthLabel;
            monthBlock = document.createElement('article');
            monthBlock.className = 'calendar-month';
            monthBlock.innerHTML = `<h3>${monthLabel}</h3>`;
            calendarContainer.appendChild(monthBlock);
          }

          const entry = document.createElement('div');
          entry.className = 'calendar-entry';
          entry.innerHTML = `
            <div class="calendar-entry__header">
              <span class="calendar-entry__dates">${formatDateRange(item.start, item.end)}</span>
              <span>${formatCurrency(item.price)}</span>
            </div>
            <p class="calendar-entry__meta">${item.stageTitle} • ${item.location}</p>
            <p class="calendar-entry__meta">${item.status}</p>
            <div class="calendar-entry__actions">
              <button type="button" class="btn btn--ghost" data-calendar-add data-stage-id="${item.stageId}" data-session-index="${item.sessionIndex}">
                Ajouter au panier
              </button>
            </div>
          `;

          monthBlock.appendChild(entry);
        });
      }

      function setupCalendarActions() {
        if (!calendarContainer) return;
        calendarContainer.addEventListener('click', (event) => {
          const target = event.target.closest('[data-calendar-add]');
          if (!target) return;
          addToCart(target.dataset.stageId, Number(target.dataset.sessionIndex));
        });
      }

      function setupNavObserver() {
        if (!('IntersectionObserver' in window)) return;
        const sections = navLinks
          .map((link) => document.querySelector(link.getAttribute('href')))
          .filter((section) => section instanceof HTMLElement);

        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (!entry.isIntersecting) return;
              const id = `#${entry.target.id}`;
              const activeLink = navLinks.find((link) => link.getAttribute('href') === id);
              if (!activeLink) return;
              navLinks.forEach((link) => link.removeAttribute('aria-current'));
              activeLink.setAttribute('aria-current', 'true');
            });
          },
          {
            threshold: 0.45,
            rootMargin: '-30% 0px -40% 0px'
          }
        );

        sections.forEach((section) => observer.observe(section));
        navLinks[0]?.setAttribute('aria-current', 'true');
      }

      renderStages();
      renderCalendar();
      setupCalendarActions();
      renderCart();
      setupNavObserver();

      if (finalizeButton) {
        finalizeButton.addEventListener('click', () => {
          const reservationSection = document.querySelector('#reservation');
          if (reservationSection) {
            reservationSection.scrollIntoView({ behavior: 'smooth' });
          }
        });
      }

      if (form) {
        form.addEventListener('submit', (event) => {
          event.preventDefault();
          if (!cart.length) {
            showToast('Ajoutez un stage avant de finaliser.');
            if (formFeedback) {
              formFeedback.textContent = 'Veuillez sélectionner au moins un stage pour envoyer votre demande.';
            }
            return;
          }

          if (formFeedback) {
            formFeedback.textContent = 'Merci ! Votre demande a bien été transmise. Nous revenons vers vous sous 24 heures.';
          }
          showToast('Votre demande a bien été envoyée.');
          form.reset();
          cart = [];
          renderCart();
          setTimeout(() => {
            if (formFeedback) {
              formFeedback.textContent = '';
            }
          }, 5000);
        });
      }
    });
  </script>
</body>
</html>
</body>
</html>
</body>
</html>
        toast.classList.add("is-visible");
        setTimeout(() => toast.classList.remove("is-visible"), 3200);
      }

      document.querySelectorAll("[data-open-reservation]").forEach((button) => {
        button.addEventListener("click", () => {
          const card = button.closest("[data-stage]");
          if (!card) return;
          updateSummary({
            name: card.dataset.stage,
            dates: card.dataset.dates,
            format: card.dataset.format,
            price: card.dataset.price
          });
          openReservationModal();
        });
      });

      document.querySelectorAll("[data-summary-only]").forEach((button) => {
        button.addEventListener("click", () => {
          const card = button.closest("[data-stage]");
          if (!card) return;
          updateSummary({
            name: card.dataset.stage,
            dates: card.dataset.dates,
            format: card.dataset.format,
            price: card.dataset.price
          });
          showToast("Stage ajouté au récapitulatif. Cliquez sur « Compléter ma demande » pour finaliser.");
        });
      });

      if (summaryCTA) {
        summaryCTA.addEventListener("click", () => {
          if (!selectedStage) {
            showToast("Sélectionnez d’abord un stage pour compléter votre dossier.");
            return;
          }
          openReservationModal();
        });
      }

      if (summaryCTASecondary) {
        summaryCTASecondary.addEventListener("click", () => {
          if (!selectedStage) {
            showToast("Ajoutez votre stage favori afin que notre équipe vous rappelle en priorité.");
            return;
          }
          openReservationModal();
        });
      }

      reservationForm.addEventListener("submit", (event) => {
        event.preventDefault();
        closeModal(reservationModal);
        reservationForm.reset();
        showToast("Merci ! Notre équipe admissions revient vers vous sous 24h.");
      });

      document.querySelectorAll("[data-open-accommodation]").forEach((button) => {
        button.addEventListener("click", () => {
          const key = button.getAttribute("data-open-accommodation");
          const data = accommodations[key];
          if (!data) return;
          accommodationTitle.textContent = data.title;
          accommodationIntro.textContent = data.intro;
          accommodationDescription.textContent = data.description;
          accommodationImage.setAttribute("src", data.image);
          accommodationImage.setAttribute("alt", data.title);
          accommodationProgram.innerHTML = data.program.map((item) => `<li>${item}</li>`).join("");
          accommodationModal.classList.add("is-visible");
          document.body.style.overflow = "hidden";
          accommodationReserve.onclick = () => {
            closeModal(accommodationModal);
            showToast("Préférence hébergement ajoutée. Indiquez-la lors de votre envoi.");
          };
        });
      });

      document.querySelectorAll("[data-close-modal]").forEach((button) => {
        button.addEventListener("click", () => {
          closeModal(button.closest(".modal"));
        });
      });

      [reservationModal, accommodationModal].forEach((modal) => {
        modal.addEventListener("click", (event) => {
          if (event.target === modal) {
            closeModal(modal);
          }
        });
      });

      document.addEventListener("keydown", (event) => {
        if (event.key === "Escape") {
          closeModal(reservationModal);
          closeModal(accommodationModal);
        }
      });

      const navLinks = Array.from(document.querySelectorAll(".reservation-nav a[href^='#']"));
      const sections = navLinks
        .map((link) => document.querySelector(link.getAttribute("href")))
        .filter(Boolean);

      navLinks.forEach((link) => {
        link.addEventListener("click", () => {
          navLinks.forEach((l) => l.removeAttribute("aria-current"));
          link.setAttribute("aria-current", "true");
        });
      });

      if ("IntersectionObserver" in window) {
        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                const id = `#${entry.target.id}`;
                navLinks.forEach((link) => {
                  if (link.getAttribute("href") === id) {
                    link.setAttribute("aria-current", "true");
                  } else {
                    link.removeAttribute("aria-current");
                  }
                });
              }
            });
          },
          { rootMargin: "-45% 0px -45% 0px", threshold: 0.2 }
        );

        sections.forEach((section) => observer.observe(section));
      } else if (navLinks.length) {
        navLinks[0].setAttribute("aria-current", "true");
      }
    })();
  </script>
</body>
</html>
<style>
.popup-hebergement {
  display: none;
  position: fixed;
  top: 0; left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0,0,0,0.6);
  z-index: 9999;
  justify-content: center;
  align-items: center;
}
.popup-content {
  background: #fff;
  padding: 30px;
  border-radius: 15px;
  max-width: 600px;
  width: 90%;
  position: relative;
}
.popup-close {
  position: absolute;
  top: 10px;
  right: 20px;
  font-size: 24px;
  cursor: pointer;
}
</style>
<!-- POPUPS INDIVIDUELS PAR LIEU -->
<!-- POPUP HOSTENS -->
<div class="popup-overlay" id="popup-hostens" style="display:none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.75); z-index: 1000; justify-content: center; align-items: center;">
<div class="popup-content" style="background: white; max-width: 900px; width: 90%; border-radius: 15px; overflow: hidden; position: relative; animation: fadeIn 0.4s ease;">
<span onclick="closePopup('popup-hostens')" style="position: absolute; top: 15px; right: 20px; font-size: 24px; cursor: pointer;">×</span>
<div style="display: flex; flex-direction: column;">
<img alt="Hostens" src="assets/photos/1.png" style="width: 100%; height: 300px; object-fit: cover;"/>
<div style="padding: 30px;">
<h2 style="margin-top: 0;">Stage à Hostens</h2>
<p><strong>Un site naturel en pleine forêt pour une immersion sportive et reposante près de Bordeaux.</strong></p>
<p><em>Plus que 8 places disponibles</em></p>
<p style="font-size: 1.2em; font-weight: bold;">1600 € <span style="font-size: 0.8em; font-weight: normal;">*Prix sans hébergement</span></p>
<h3>Description</h3>
<p>Le site d’Hostens, situé dans une réserve naturelle, offre un cadre exceptionnel pour une pratique intensive du tennis. Les infrastructures sportives sont à proximité immédiate du centre d’hébergement, garantissant confort, sécurité et efficacité dans les déplacements.</p>
<h3>Une journée type :</h3>
<ul>
<li>7h30 : Réveil &amp; petit-déjeuner</li>
<li>9h00 - 12h00 : Entraînement tennis + préparation physique</li>
<li>12h30 : Déjeuner &amp; temps calme</li>
<li>14h30 - 17h00 : Tennis, matchs, coaching mental</li>
<li>18h00 : Activité détente (lac, forêt, vélo)</li>
<li>20h00 : Dîner &amp; briefing du lendemain</li>
</ul>
<h3>Prestations incluses :</h3>
<ul>
<li>Encadrement par coachs diplômés</li>
<li>Analyse vidéo &amp; coaching personnalisé</li>
<li>Accès aux infrastructures sportives</li>
<li>Maillot Tennis Impact offert</li>
</ul>
<button style="margin-top: 20px; padding: 12px 24px; background: #000; color: #fff; border: none; border-radius: 25px; font-size: 1em; cursor: pointer;">Ajouter ce stage</button>
</div>
</div>
</div>
</div>
<script>
function openPopup(id) {
  document.getElementById(id).style.display = "flex";
}
function closePopup(id) {
  document.getElementById(id).style.display = "none";
}
window.addEventListener('click', function(e) {
  const popup = document.getElementById('popup-hostens');
  if (e.target === popup) closePopup('popup-hostens');
});
</script>
<!-- POPUP FORMULAIRE -->
<div class="popup-overlay" id="popup-formulaire" style="display:none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.75); z-index: 10000; justify-content: center; align-items: center;">
<div class="popup-content" style="background: white; max-width: 600px; width: 90%; border-radius: 15px; overflow: hidden; position: relative; animation: fadeIn 0.4s ease; padding: 30px; font-family: Poppins, sans-serif;">
<span onclick="closePopup('popup-formulaire')" style="position: absolute; top: 15px; right: 20px; font-size: 24px; cursor: pointer;">×</span>
<h2 style="margin-top: 0; text-align:center;">Réserver mon stage</h2>
<form id="form-reservation">
<label>Prénom</label><br/>
<input name="prenom" required="" style="width:100%; padding:10px; margin-bottom:10px;" type="text"/><br/>
<label>Nom</label><br/>
<input name="nom" required="" style="width:100%; padding:10px; margin-bottom:10px;" type="text"/><br/>
<label>Âge</label><br/>
<input name="age" required="" style="width:100%; padding:10px; margin-bottom:10px;" type="number"/><br/>
<label>Email</label><br/>
<input name="email" required="" style="width:100%; padding:10px; margin-bottom:10px;" type="email"/><br/>
<label>Téléphone</label><br/>
<input name="tel" required="" style="width:100%; padding:10px; margin-bottom:10px;" type="tel"/><br/>
<label>Niveau</label><br/>
<select name="niveau" required="" style="width:100%; padding:10px; margin-bottom:10px;">
<option value="">Sélectionner</option>
<option>Débutant</option>
<option>Intermédiaire</option>
<option>Avancé</option>
<option>Classé FFT</option>
</select><br/>
<label>Nos Hébergements</label><br/>
<select name="hebergement" required="" style="width:100%; padding:10px; margin-bottom:20px;">
<option value="">Sélectionner</option>
<option>Avec hébergement</option>
<option>Sans hébergement</option>
</select><br/>
<button style="width:100%; padding:12px; background:#000; color:#fff; border:none; border-radius:25px; font-size:1em;" type="submit">Envoyer ma réservation</button>
</form>
</div>
</div>
<script>
function validerReservation() {
  document.getElementById('popup-formulaire').style.display = "flex";
}
</script>
<script>
  (function() {
    const navToggle = document.querySelector('.nav-toggle');
    const navLinks = document.getElementById('site-nav');
    const body = document.body;

    if (!navToggle || !navLinks) return;

    const toggleMenu = (open) => {
      const shouldOpen = open ?? !navToggle.classList.contains('is-open');
      navToggle.classList.toggle('is-open', shouldOpen);
      navToggle.setAttribute('aria-expanded', shouldOpen ? 'true' : 'false');
      navLinks.classList.toggle('open', shouldOpen);
      body.classList.toggle('menu-open', shouldOpen);
    };

    navToggle.addEventListener('click', () => toggleMenu());
    navLinks.querySelectorAll('a').forEach((link) => link.addEventListener('click', () => toggleMenu(false)));
    window.addEventListener('resize', () => {
      if (window.innerWidth > 860) toggleMenu(false);
    });
  })();
</script>
