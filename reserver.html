<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>RÃ©server votre stage - Impact Tennis</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Manrope:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        color-scheme: light;
        --page-bg: linear-gradient(180deg, #f5f7fb 0%, #ffffff 40%, #f6f2e7 100%);
        --surface: rgba(255, 255, 255, 0.92);
        --surface-strong: #ffffff;
        --text: #1d2433;
        --muted: rgba(29, 36, 51, 0.68);
        --brand: #c49a48;
        --brand-dark: #9d7933;
        --accent: #0f1b35;
        --border: rgba(15, 27, 53, 0.12);
        --shadow-lg: 0 40px 90px rgba(15, 27, 53, 0.16);
        --shadow-md: 0 24px 44px rgba(15, 27, 53, 0.12);
        --shadow-sm: 0 12px 24px rgba(15, 27, 53, 0.08);
        --radius-lg: 28px;
        --radius-md: 18px;
        --radius-sm: 12px;
        scroll-padding-top: 120px;
      }

      *,
      *::before,
      *::after {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        font-family: "Manrope", "Segoe UI", sans-serif;
        line-height: 1.6;
        background: var(--page-bg);
        color: var(--text);
      }

      img {
        max-width: 100%;
        display: block;
      }

      a {
        color: inherit;
        text-decoration: none;
      }

      .shell {
        width: min(1140px, 92vw);
        margin: 0 auto;
      }

      header.booking-header {
        position: sticky;
        top: 0;
        z-index: 100;
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(18px);
        border-bottom: 1px solid var(--border);
      }

      .booking-header__inner {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 20px;
        padding: 18px 0;
      }

      .brand {
        display: inline-flex;
        align-items: center;
        gap: 12px;
        font-family: "Playfair Display", serif;
        font-size: 1.15rem;
        letter-spacing: 0.14em;
        text-transform: uppercase;
        color: var(--accent);
        font-weight: 600;
      }

      .brand span {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: var(--brand);
        color: #fff;
        letter-spacing: normal;
      }

      .nav-toggle {
        display: none;
        padding: 10px 16px;
        border-radius: 999px;
        border: 1px solid var(--border);
        background: var(--surface);
        text-transform: uppercase;
        letter-spacing: 0.12em;
        font-weight: 600;
        color: var(--accent);
        cursor: pointer;
      }

      nav.primary-nav {
        display: flex;
        align-items: center;
        gap: 12px;
      }

      nav.primary-nav a {
        display: inline-flex;
        align-items: center;
        padding: 10px 18px;
        border-radius: 999px;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        font-size: 0.85rem;
        color: var(--muted);
        transition: background 0.3s ease, color 0.3s ease;
      }

      nav.primary-nav a:hover,
      nav.primary-nav a:focus {
        background: rgba(196, 154, 72, 0.16);
        color: var(--brand-dark);
        outline: none;
      }

      .cart-pill {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        padding: 12px 20px;
        border-radius: 999px;
        border: none;
        background: var(--accent);
        color: #fff;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        font-weight: 600;
        cursor: pointer;
        transition: transform 0.3s ease, box-shadow 0.3s ease, background 0.3s ease;
      }

      .cart-pill span {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 28px;
        height: 28px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.18);
        font-size: 0.85rem;
      }

      .cart-pill:hover,
      .cart-pill:focus {
        outline: none;
        transform: translateY(-1px);
        box-shadow: var(--shadow-sm);
        background: var(--brand-dark);
      }

      main {
        padding-bottom: 120px;
      }

      section {
        padding: 80px 0;
      }

      section:nth-of-type(odd) {
        background: transparent;
      }

      section:nth-of-type(even) {
        background: rgba(255, 255, 255, 0.6);
      }

      .hero {
        padding-top: 120px;
        padding-bottom: 90px;
      }

      .hero__inner {
        display: grid;
        grid-template-columns: repeat(12, 1fr);
        gap: 30px;
        align-items: center;
      }

      .hero__content {
        grid-column: span 7;
        background: var(--surface);
        border-radius: var(--radius-lg);
        padding: 48px;
        box-shadow: var(--shadow-md);
      }

      .hero__badge {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        padding: 8px 16px;
        border-radius: 999px;
        background: rgba(196, 154, 72, 0.14);
        color: var(--brand-dark);
        text-transform: uppercase;
        letter-spacing: 0.18em;
        font-size: 0.8rem;
        font-weight: 700;
        margin-bottom: 20px;
      }

      .hero__title {
        margin: 0 0 20px;
        font-family: "Playfair Display", serif;
        font-size: clamp(2.3rem, 3vw + 1rem, 4rem);
        line-height: 1.12;
        color: var(--accent);
      }

      .hero__lead {
        font-size: 1.05rem;
        color: var(--muted);
        margin-bottom: 28px;
      }

      .hero__actions {
        display: flex;
        flex-wrap: wrap;
        gap: 16px;
        align-items: center;
      }

      .btn-primary,
      .btn-outline {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 14px 26px;
        border-radius: 999px;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        font-weight: 600;
        font-size: 0.92rem;
        cursor: pointer;
        border: 1px solid transparent;
        transition: transform 0.3s ease, box-shadow 0.3s ease, background 0.3s ease, color 0.3s ease;
      }

      .btn-primary {
        background: var(--accent);
        color: #fff;
      }

      .btn-primary:hover,
      .btn-primary:focus {
        outline: none;
        transform: translateY(-1px);
        box-shadow: var(--shadow-sm);
        background: var(--brand-dark);
      }

      .btn-outline {
        background: transparent;
        border-color: var(--accent);
        color: var(--accent);
      }

      .btn-outline:hover,
      .btn-outline:focus {
        outline: none;
        transform: translateY(-1px);
        background: var(--accent);
        color: #fff;
      }

      .hero__visual {
        grid-column: span 5;
        border-radius: var(--radius-lg);
        overflow: hidden;
        position: relative;
        min-height: 420px;
        background: linear-gradient(140deg, #0f1b35 0%, #1f3359 100%), url("assets/illustrations/gallery-court.svg") center/cover;
        box-shadow: var(--shadow-lg);
      }

      .hero__visual::after {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(180deg, rgba(15, 27, 53, 0.1) 0%, rgba(15, 27, 53, 0.6) 100%);
      }

      .hero__visual-text {
        position: absolute;
        inset: auto 30px 30px 30px;
        color: #fff;
        z-index: 1;
        font-family: "Playfair Display", serif;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        font-size: 0.95rem;
      }

      .calendar {
        display: flex;
        flex-direction: column;
        gap: 26px;
      }

      .calendar h2 {
        margin: 0;
        font-family: "Playfair Display", serif;
        font-size: 2rem;
        color: var(--accent);
      }

      .calendar__weeks {
        display: flex;
        gap: 14px;
        overflow-x: auto;
        padding-bottom: 6px;
        scroll-snap-type: x mandatory;
      }

      .calendar__week {
        flex: 0 0 auto;
        min-width: 160px;
        padding: 16px 18px;
        border-radius: var(--radius-md);
        border: 1px solid var(--border);
        background: var(--surface);
        display: flex;
        flex-direction: column;
        gap: 6px;
        scroll-snap-align: center;
        cursor: pointer;
        transition: border 0.3s ease, box-shadow 0.3s ease, transform 0.3s ease, background 0.3s ease;
      }

      .calendar__week[aria-pressed="true"] {
        border-color: rgba(196, 154, 72, 0.45);
        background: rgba(196, 154, 72, 0.12);
        box-shadow: var(--shadow-sm);
        transform: translateY(-2px);
      }

      .calendar__week strong {
        font-size: 1rem;
        color: var(--accent);
      }

      .calendar__week span {
        font-size: 0.85rem;
        color: var(--muted);
      }

      .stages h2 {
        margin: 0 0 26px;
        font-family: "Playfair Display", serif;
        font-size: 2rem;
        color: var(--accent);
      }

      .stage-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 28px;
      }

      .stage-card {
        display: flex;
        flex-direction: column;
        gap: 18px;
        padding: 26px;
        border-radius: var(--radius-lg);
        background: var(--surface-strong);
        border: 1px solid var(--border);
        box-shadow: var(--shadow-sm);
      }

      .stage-card__header {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        gap: 16px;
      }

      .stage-card__title {
        font-family: "Playfair Display", serif;
        font-size: 1.4rem;
        margin: 0;
        color: var(--accent);
      }

      .stage-card__tag {
        padding: 8px 12px;
        border-radius: 999px;
        background: rgba(196, 154, 72, 0.16);
        color: var(--brand-dark);
        font-size: 0.78rem;
        letter-spacing: 0.12em;
        text-transform: uppercase;
        font-weight: 600;
      }

      .stage-card__meta {
        display: flex;
        flex-wrap: wrap;
        gap: 12px 16px;
        font-size: 0.92rem;
        color: var(--muted);
      }

      .stage-card__meta span {
        display: inline-flex;
        align-items: center;
        gap: 6px;
      }

      .stage-card__description {
        margin: 0;
        color: var(--muted);
      }

      .stage-card__price {
        font-size: 1.1rem;
        font-weight: 600;
        color: var(--accent);
      }

      .stage-card__actions {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        align-items: center;
      }

      .badge {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        min-width: 28px;
        padding: 0 10px;
        border-radius: 999px;
        background: var(--brand);
        color: #fff;
        font-size: 0.8rem;
        font-weight: 600;
      }

      .info-section h2 {
        margin: 0 0 18px;
        font-family: "Playfair Display", serif;
        font-size: 2rem;
        color: var(--accent);
      }

      .info-section__grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 28px;
      }

      .info-card {
        background: var(--surface);
        border-radius: var(--radius-md);
        padding: 26px;
        border: 1px solid var(--border);
        box-shadow: var(--shadow-sm);
      }

      .info-card h3 {
        margin: 0 0 12px;
        font-size: 1.1rem;
        color: var(--accent);
      }

      .info-card p,
      .info-card ul {
        margin: 0;
        color: var(--muted);
        font-size: 0.95rem;
      }

      .info-card ul {
        padding-left: 18px;
        display: grid;
        gap: 8px;
      }

      .faq-list {
        display: grid;
        gap: 16px;
      }

      .faq-item {
        background: var(--surface-strong);
        border-radius: var(--radius-md);
        border: 1px solid var(--border);
        padding: 22px 26px;
        box-shadow: var(--shadow-sm);
      }

      .faq-item h3 {
        margin: 0 0 10px;
        font-size: 1.05rem;
        color: var(--accent);
      }

      .faq-item p {
        margin: 0;
        color: var(--muted);
      }

      .floating-cart {
        position: fixed;
        bottom: 28px;
        right: 24px;
        z-index: 90;
        border: none;
        border-radius: 999px;
        background: var(--accent);
        color: #fff;
        padding: 14px 24px;
        font-weight: 600;
        letter-spacing: 0.06em;
        text-transform: uppercase;
        box-shadow: var(--shadow-md);
        display: none;
        gap: 10px;
        align-items: center;
        cursor: pointer;
      }

      .floating-cart span {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 26px;
        height: 26px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.18);
      }

      .modal,
      .cart-modal {
        position: fixed;
        inset: 0;
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 120;
      }

      .modal[aria-hidden="false"],
      .cart-modal[aria-hidden="false"] {
        display: flex;
      }

      .modal::before,
      .cart-modal::before {
        content: "";
        position: absolute;
        inset: 0;
        background: rgba(15, 27, 53, 0.6);
        backdrop-filter: blur(4px);
      }

      .modal__dialog,
      .cart-modal__dialog {
        position: relative;
        width: min(640px, 92vw);
        background: var(--surface-strong);
        border-radius: var(--radius-lg);
        padding: 38px;
        box-shadow: var(--shadow-lg);
        max-height: calc(100vh - 80px);
        overflow-y: auto;
      }

      .modal__header,
      .cart-modal__header {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        gap: 18px;
        margin-bottom: 24px;
      }

      .modal__header h2,
      .cart-modal__header h2 {
        margin: 0;
        font-family: "Playfair Display", serif;
        font-size: 1.6rem;
        color: var(--accent);
      }

      .modal__close,
      .cart-modal__close {
        border: none;
        background: rgba(15, 27, 53, 0.05);
        color: var(--accent);
        border-radius: 999px;
        padding: 10px 16px;
        cursor: pointer;
        font-weight: 600;
        letter-spacing: 0.1em;
        text-transform: uppercase;
      }

      .modal__close:hover,
      .modal__close:focus,
      .cart-modal__close:hover,
      .cart-modal__close:focus {
        outline: none;
        background: rgba(196, 154, 72, 0.14);
        color: var(--brand-dark);
      }

      .form-grid {
        display: grid;
        gap: 18px;
      }

      .form-field {
        display: flex;
        flex-direction: column;
        gap: 6px;
      }

      .form-field label {
        font-size: 0.85rem;
        text-transform: uppercase;
        letter-spacing: 0.12em;
        color: var(--muted);
      }

      .form-field input,
      .form-field select,
      .form-field textarea {
        border-radius: var(--radius-sm);
        border: 1px solid var(--border);
        padding: 12px 14px;
        font-family: inherit;
        font-size: 1rem;
        background: rgba(15, 27, 53, 0.04);
        color: var(--text);
      }

      .form-row {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
        gap: 18px;
      }

      .toggle-field {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 14px 18px;
        border-radius: var(--radius-sm);
        border: 1px solid var(--border);
        background: rgba(15, 27, 53, 0.04);
      }

      .toggle-field label {
        font-size: 0.9rem;
        color: var(--muted);
        text-transform: none;
        letter-spacing: normal;
      }

      .toggle-field input {
        width: 46px;
        height: 24px;
      }

      .modal__footer,
      .cart-modal__footer {
        margin-top: 24px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 16px;
      }

      .cart-list {
        display: grid;
        gap: 18px;
      }

      .cart-item {
        padding: 18px;
        border-radius: var(--radius-md);
        border: 1px solid var(--border);
        background: rgba(15, 27, 53, 0.04);
        display: grid;
        gap: 10px;
      }

      .cart-item__header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        gap: 12px;
      }

      .cart-item__title {
        margin: 0;
        font-weight: 600;
        color: var(--accent);
      }

      .cart-item__meta {
        display: flex;
        flex-wrap: wrap;
        gap: 10px 16px;
        color: var(--muted);
        font-size: 0.9rem;
      }

      .cart-item__price {
        font-weight: 600;
        color: var(--accent);
      }

      .cart-item__remove {
        border: none;
        background: transparent;
        color: var(--brand-dark);
        font-weight: 600;
        cursor: pointer;
      }

      .empty-state {
        text-align: center;
        padding: 40px 20px;
        color: var(--muted);
      }

      .toast {
        position: fixed;
        inset: 30px auto auto 50%;
        transform: translateX(-50%);
        background: var(--accent);
        color: #fff;
        padding: 14px 24px;
        border-radius: 999px;
        box-shadow: var(--shadow-md);
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease, transform 0.3s ease;
        z-index: 130;
      }

      .toast[data-visible="true"] {
        opacity: 1;
        transform: translate(-50%, 10px);
      }

      noscript {
        display: block;
        text-align: center;
        padding: 16px;
        background: #ffddc1;
        color: #5c2d00;
      }

      @media (max-width: 960px) {
        nav.primary-nav {
          position: absolute;
          inset: 68px 16px auto;
          background: var(--surface-strong);
          border-radius: var(--radius-md);
          box-shadow: var(--shadow-lg);
          padding: 18px;
          flex-direction: column;
          align-items: stretch;
          gap: 10px;
          border: 1px solid var(--border);
          opacity: 0;
          pointer-events: none;
          transform: translateY(-10px);
          transition: opacity 0.3s ease, transform 0.3s ease;
        }

        nav.primary-nav[data-open="true"] {
          opacity: 1;
          pointer-events: auto;
          transform: translateY(0);
        }

        nav.primary-nav a,
        nav.primary-nav .cart-pill {
          width: 100%;
          justify-content: center;
        }

        .nav-toggle {
          display: inline-flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
        }

        .hero__inner {
          grid-template-columns: 1fr;
        }

        .hero__content,
        .hero__visual {
          grid-column: span 12;
        }

        section {
          padding: 64px 0;
        }

        .floating-cart {
          display: inline-flex;
        }
      }

      @media (max-width: 680px) {
        :root {
          scroll-padding-top: 86px;
        }

        .booking-header__inner {
          padding: 14px 0;
        }

        .hero {
          padding-top: 96px;
          padding-bottom: 70px;
        }

        .hero__content {
          padding: 32px;
        }

        .calendar__week {
          min-width: 200px;
        }

        .stage-card {
          padding: 22px;
        }

        .modal__dialog,
        .cart-modal__dialog {
          padding: 28px;
        }

        .modal__footer,
        .cart-modal__footer {
          flex-direction: column;
          align-items: stretch;
        }

        .modal__footer .btn-primary,
        .cart-modal__footer .btn-primary,
        .cart-modal__footer .btn-outline {
          width: 100%;
          justify-content: center;
        }
      }
    </style>
  </head>
  <body>
    <noscript>Activez JavaScript pour profiter de la rÃ©servation interactive.</noscript>
    <header class="booking-header">
      <div class="shell">
        <div class="booking-header__inner">
          <a class="brand" href="index.html">
            <span>IT</span>
            Impact&nbsp;Tennis
          </a>
          <button class="nav-toggle" type="button" aria-expanded="false" aria-controls="primary-nav">
            Menu
          </button>
          <nav class="primary-nav" id="primary-nav" data-open="false">
            <a href="#calendrier">Calendrier</a>
            <a href="#stages">Stages</a>
            <a href="#methodologie">MÃ©thodologie</a>
            <a href="#lieux">Lieux</a>
            <a href="#options">Options</a>
            <a href="#faq">FAQ</a>
            <button class="cart-pill" type="button" data-open-cart>
              Voir le panier
              <span data-cart-count>0</span>
            </button>
          </nav>
        </div>
      </div>
    </header>
    <main>
      <section class="hero" id="top">
        <div class="shell">
          <div class="hero__inner">
            <div class="hero__content">
              <div class="hero__badge">RÃ©servation officielle</div>
              <h1 class="hero__title">RÃ©servez votre stage Impact Tennis avec une expÃ©rience premium</h1>
              <p class="hero__lead">
                Choisissez vos semaines dâentraÃ®nement, vos options dâhÃ©bergement ou de transport et finalisez votre demande en quelques clics.
                Notre panier intelligent consolide vos choix avant lâenvoi Ã  nos Ã©quipes.
              </p>
              <div class="hero__actions">
                <button class="btn-primary" type="button" data-scroll-to="calendrier">Explorer le calendrier</button>
                <button class="btn-outline" type="button" data-open-cart>Voir le panier</button>
              </div>
            </div>
            <div class="hero__visual">
              <div class="hero__visual-text">CrÃ©neaux confirmÃ©s â¢ Coaching expert â¢ Lieux dâexception</div>
            </div>
          </div>
        </div>
      </section>

      <section id="calendrier">
        <div class="shell calendar">
          <h2>Choisissez votre semaine de stage</h2>
          <p style="margin: 0; color: var(--muted);">
            SÃ©lectionnez une semaine pour afficher les stages disponibles. Le panier garde vos choix mÃªme si vous changez de semaine.
          </p>
          <div class="calendar__weeks" data-weeks></div>
        </div>
      </section>

      <section id="stages" class="stages">
        <div class="shell">
          <h2>Stages disponibles</h2>
          <div class="stage-grid" data-stage-grid></div>
          <div class="empty-state" data-empty-message hidden>Aucun stage nâest disponible pour cette semaine. SÃ©lectionnez une autre pÃ©riode.</div>
        </div>
      </section>

      <section id="methodologie" class="info-section">
        <div class="shell">
          <h2>MÃ©thodologie Impact Tennis</h2>
          <div class="info-section__grid">
            <article class="info-card">
              <h3>Coaching personnalisÃ©</h3>
              <p>
                Nos coachs certifiÃ©s Ã©laborent un programme individualisÃ© selon votre objectif (compÃ©tition, intensif ou remise en forme). Chaque journÃ©e alterne ateliers techniques, prÃ©paration mentale et sessions vidÃ©o.
              </p>
            </article>
            <article class="info-card">
              <h3>Suivi de la progression</h3>
              <p>
                Des bilans hebdomadaires vous sont remis pour suivre lâÃ©volution des joueurs. Vos retours sont intÃ©grÃ©s dÃ¨s le lendemain pour optimiser chaque sÃ©ance.
              </p>
            </article>
            <article class="info-card">
              <h3>Approche globale</h3>
              <p>
                PrÃ©paration physique, nutrition sportive et rÃ©cupÃ©ration sont intÃ©grÃ©es au stage pour garantir des progrÃ¨s durables, quel que soit le profil.
              </p>
            </article>
          </div>
        </div>
      </section>

      <section id="lieux" class="info-section">
        <div class="shell">
          <h2>Nos lieux dâexception</h2>
          <div class="info-section__grid">
            <article class="info-card">
              <h3>CREPS de Poitiers</h3>
              <ul>
                <li>Infrastructures indoor/outdoor derniÃ¨re gÃ©nÃ©ration</li>
                <li>HÃ©bergement sur site et restauration sportive</li>
                <li>AccÃ¨s Ã  la zone de rÃ©cupÃ©ration et Ã  la salle vidÃ©o</li>
              </ul>
            </article>
            <article class="info-card">
              <h3>CREPS de Toulouse</h3>
              <ul>
                <li>PÃ´les performance et terrain central Ã©clairÃ©</li>
                <li>Encadrement quotidien par nos experts Impact Tennis</li>
                <li>Navette dÃ©diÃ©e depuis la gare Matabiau</li>
              </ul>
            </article>
            <article class="info-card">
              <h3>CREPS dâAix-en-Provence</h3>
              <ul>
                <li>Cadre provenÃ§al privilÃ©giÃ© et pistes spÃ©cifiques Ã  la terre battue</li>
                <li>AccÃ¨s piscine, salle de musculation et rÃ©cupÃ©ration cryo</li>
                <li>Partenariats hÃ´teliers premium Ã  proximitÃ©</li>
              </ul>
            </article>
            <article class="info-card">
              <h3>Domaine des Landes Girondines</h3>
              <ul>
                <li>Site privatisÃ© avec hÃ©bergements haut de gamme</li>
                <li>Coaching personnalisÃ© en effectif rÃ©duit</li>
                <li>ActivitÃ©s outdoor et bien-Ãªtre en forÃªt landaise</li>
              </ul>
            </article>
            <article class="info-card">
              <h3>Cabourg</h3>
              <ul>
                <li>Club historique en bord de mer avec courts gazon synthÃ©tique</li>
                <li>Programme spÃ©cifique pour les familles et stages week-end</li>
                <li>AccÃ¨s au spa partenaire pour la rÃ©cupÃ©ration</li>
              </ul>
            </article>
          </div>
        </div>
      </section>

      <section id="options" class="info-section">
        <div class="shell">
          <h2>Options & services</h2>
          <div class="info-section__grid">
            <article class="info-card">
              <h3>HÃ©bergement</h3>
              <p>
                Chambres premium sur site ou partenaires 4â selon la destination. Petit-dÃ©jeuner et dÃ®ner inclus. SupplÃ©ment Ã  partir de 180 â¬ par joueur et par semaine.
              </p>
            </article>
            <article class="info-card">
              <h3>Transport</h3>
              <p>
                Navettes depuis les gares principales (Poitiers, Toulouse, Aix, Bordeaux, Caen). SupplÃ©ment Ã  partir de 70 â¬ par joueur pour lâaller-retour.
              </p>
            </article>
            <article class="info-card">
              <h3>Services premium</h3>
              <ul>
                <li>Analyse vidÃ©o individuelle</li>
                <li>AccÃ¨s ostÃ©opathie & cryothÃ©rapie</li>
                <li>Sessions spÃ©cifiques double ou service</li>
              </ul>
            </article>
          </div>
        </div>
      </section>

      <section id="faq" class="info-section">
        <div class="shell">
          <h2>Questions frÃ©quentes</h2>
          <div class="faq-list">
            <article class="faq-item">
              <h3>Comment finaliser ma rÃ©servation ?</h3>
              <p>
                Ajoutez vos stages au panier puis validez le formulaire. Nos Ã©quipes vous recontactent sous 24&nbsp;h pour confirmer les disponibilitÃ©s et procÃ©der au rÃ¨glement sÃ©curisÃ©.
              </p>
            </article>
            <article class="faq-item">
              <h3>Puis-je modifier mes options aprÃ¨s envoi ?</h3>
              <p>
                Oui, vous pourrez ajuster hÃ©bergement, transport ou nombre de joueurs lors de lâappel de confirmation avec notre Ã©quipe dÃ©diÃ©e.
              </p>
            </article>
            <article class="faq-item">
              <h3>Les stages sont-ils accessibles aux accompagnants ?</h3>
              <p>
                Des offres accompagnants sont proposÃ©es sur chaque site (coaching bien-Ãªtre, golf, mer). Indiquez-le dans le champ âMessageâ du formulaire et nous organiserons votre sÃ©jour.
              </p>
            </article>
          </div>
        </div>
      </section>
    </main>

    <button class="floating-cart" type="button" data-open-cart>
      Mon panier
      <span data-cart-count>0</span>
    </button>

    <div class="modal" aria-hidden="true" role="dialog" aria-modal="true" id="booking-modal">
      <div class="modal__dialog">
        <div class="modal__header">
          <h2>RÃ©server le stage</h2>
          <button class="modal__close" type="button" data-close-modal>Fermer</button>
        </div>
        <form class="form-grid" id="booking-form">
          <input type="hidden" name="stageId" />
          <input type="hidden" name="weekId" />
          <div class="form-field">
            <label>Stage sÃ©lectionnÃ©</label>
            <div id="selected-stage" style="font-weight: 600; color: var(--accent);"></div>
          </div>
          <div class="form-row">
            <div class="form-field">
              <label for="participant-count">Nombre de joueurs</label>
              <input id="participant-count" name="participants" type="number" min="1" max="4" value="1" required />
            </div>
            <div class="form-field">
              <label for="age-group">Profil des joueurs</label>
              <select id="age-group" name="ageGroup" required>
                <option value="Jeune">Jeune</option>
                <option value="Adulte">Adulte</option>
                <option value="Mixte">Mixte</option>
              </select>
            </div>
          </div>
          <div class="form-row">
            <div class="toggle-field">
              <label for="lodging-toggle">Avec hÃ©bergement</label>
              <input id="lodging-toggle" name="lodging" type="checkbox" />
            </div>
            <div class="toggle-field">
              <label for="transport-toggle">Avec transport</label>
              <input id="transport-toggle" name="transport" type="checkbox" />
            </div>
          </div>
          <div class="form-field">
            <label for="contact-name">Nom du responsable</label>
            <input id="contact-name" name="contactName" type="text" placeholder="Nom et prÃ©nom" required />
          </div>
          <div class="form-row">
            <div class="form-field">
              <label for="contact-email">E-mail</label>
              <input id="contact-email" name="contactEmail" type="email" placeholder="vous@exemple.fr" required />
            </div>
            <div class="form-field">
              <label for="contact-phone">TÃ©lÃ©phone</label>
              <input id="contact-phone" name="contactPhone" type="tel" placeholder="06 00 00 00 00" required />
            </div>
          </div>
          <div class="form-field">
            <label for="contact-message">Message</label>
            <textarea id="contact-message" name="message" rows="3" placeholder="PrÃ©cisez vos attentes, accompagnants, niveau..."></textarea>
          </div>
          <div class="modal__footer">
            <div>
              <div style="font-size: 0.9rem; color: var(--muted);">Montant estimÃ©</div>
              <div style="font-size: 1.4rem; font-weight: 700; color: var(--accent);" data-estimate>0 â¬</div>
            </div>
            <button class="btn-primary" type="submit">Ajouter au panier</button>
          </div>
        </form>
      </div>
    </div>

    <div class="cart-modal" aria-hidden="true" role="dialog" aria-modal="true" id="cart-modal">
      <div class="cart-modal__dialog">
        <div class="cart-modal__header">
          <h2>Panier intelligent</h2>
          <button class="cart-modal__close" type="button" data-close-cart>Fermer</button>
        </div>
        <div class="cart-list" data-cart-list></div>
        <div class="cart-modal__footer">
          <div>
            <div style="font-size: 0.9rem; color: var(--muted);">Total estimÃ©</div>
            <div style="font-size: 1.6rem; font-weight: 700; color: var(--accent);" data-cart-total>0 â¬</div>
          </div>
          <button class="btn-primary" type="button" data-validate>Envoyer ma demande</button>
          <button class="btn-outline" type="button" data-close-cart>Continuer ma sÃ©lection</button>
        </div>
      </div>
    </div>

    <div class="toast" role="status" aria-live="polite" data-toast>AjoutÃ© au panier</div>

    <script>
      const WEEKS = [
        {
          id: "2024-W27",
          label: "Semaine du 6 au 12 juillet",
          short: "6-12 juil.",
          highlight: "Stage jeunes & intensif",
        },
        {
          id: "2024-W28",
          label: "Semaine du 13 au 19 juillet",
          short: "13-19 juil.",
          highlight: "Stages compÃ©tition",
        },
        {
          id: "2024-W29",
          label: "Semaine du 20 au 26 juillet",
          short: "20-26 juil.",
          highlight: "Stages adultes",
        },
        {
          id: "2024-W30",
          label: "Semaine du 27 juillet au 2 aoÃ»t",
          short: "27 juil.-2 aoÃ»t",
          highlight: "Focus performance",
        },
        {
          id: "2024-W31",
          label: "Semaine du 3 au 9 aoÃ»t",
          short: "3-9 aoÃ»t",
          highlight: "Intensif + bien-Ãªtre",
        },
      ];

      const STAGES = [
        {
          id: "stage-intensif-jeune",
          title: "Stage INTENSIF Jeunes",
          tagline: "JournÃ©e entiÃ¨re",
          description:
            "Passez Ã  la vitesse supÃ©rieure avec une semaine intensive dÃ©diÃ©e aux jeunes compÃ©titeurs. 3h30 de tennis, 1h30 de prÃ©paration physique et suivi vidÃ©o quotidien.",
          basePrice: 890,
          location: "CREPS de Poitiers",
          focus: "Performance",
          level: "CompÃ©tition",
          weeks: ["2024-W27", "2024-W28", "2024-W29"],
        },
        {
          id: "stage-ados-sport-etudes",
          title: "Stage SPORT-ÃTUDES",
          tagline: "Semaine complÃ¨te",
          description:
            "Encadrement Ã©lite pour concilier scolaritÃ© et tennis. AccÃ¨s aux salles dâÃ©tude, prÃ©paration mentale et sparring partenaires chaque aprÃ¨s-midi.",
          basePrice: 1050,
          location: "CREPS de Toulouse",
          focus: "Programme Ã©lite",
          level: "15/2 Ã  0",
          weeks: ["2024-W27", "2024-W28", "2024-W30"],
        },
        {
          id: "stage-adulte-prestige",
          title: "Stage PRESTIGE Adultes",
          tagline: "Format premium",
          description:
            "Coaching personnalisÃ© en petits groupes, analyse vidÃ©o, accÃ¨s bien-Ãªtre et soirÃ©e signature. IdÃ©al pour progresser rapidement dans un cadre dâexception.",
          basePrice: 980,
          location: "Domaine des Landes Girondines",
          focus: "Coaching personnalisÃ©",
          level: "Adultes classÃ©s",
          weeks: ["2024-W28", "2024-W29", "2024-W31"],
        },
        {
          id: "stage-famille-cabourg",
          title: "Stage FAMILLE Cabourg",
          tagline: "Multi-profils",
          description:
            "Un programme pensÃ© pour les familles : entraÃ®nements adultes, ateliers jeunes, activitÃ©s plage et coaching commun en fin de journÃ©e.",
          basePrice: 760,
          location: "Cabourg",
          focus: "Famille",
          level: "Tous niveaux",
          weeks: ["2024-W29", "2024-W30", "2024-W31"],
        },
        {
          id: "stage-aix-haut-niveau",
          title: "Stage HAUT NIVEAU",
          tagline: "Immersion compÃ©tition",
          description:
            "Sessions sur terre battue avec staff dÃ©diÃ©, prÃ©paration mentale quotidienne, cryothÃ©rapie et rencontres avec nos joueurs partenaires.",
          basePrice: 1120,
          location: "CREPS dâAix-en-Provence",
          focus: "Haut niveau",
          level: "Joueurs classÃ©s -2/6 Ã  2/6",
          weeks: ["2024-W27", "2024-W30", "2024-W31"],
        },
      ];

      const state = {
        selectedWeek: WEEKS[0]?.id ?? null,
        cart: [],
      };

      const weekContainer = document.querySelector("[data-weeks]");
      const stageGrid = document.querySelector("[data-stage-grid]");
      const emptyMessage = document.querySelector("[data-empty-message]");
      const bookingModal = document.getElementById("booking-modal");
      const bookingForm = document.getElementById("booking-form");
      const selectedStageEl = document.getElementById("selected-stage");
      const estimateEl = document.querySelector("[data-estimate]");
      const cartModal = document.getElementById("cart-modal");
      const cartList = document.querySelector("[data-cart-list]");
      const cartTotalEl = document.querySelector("[data-cart-total]");
      const cartCountEls = document.querySelectorAll("[data-cart-count]");
      const toast = document.querySelector("[data-toast]");

      function formatCurrency(value) {
        return new Intl.NumberFormat("fr-FR", {
          style: "currency",
          currency: "EUR",
          minimumFractionDigits: 0,
        }).format(value);
      }

      function renderWeeks() {
        weekContainer.innerHTML = "";
        WEEKS.forEach((week) => {
          const button = document.createElement("button");
          button.className = "calendar__week";
          button.type = "button";
          button.setAttribute("aria-pressed", String(state.selectedWeek === week.id));
          button.dataset.weekId = week.id;
          button.innerHTML = `<strong>${week.short}</strong><span>${week.label}</span><span style="font-size:0.8rem;color:var(--brand-dark);">${week.highlight}</span>`;
          button.addEventListener("click", () => {
            state.selectedWeek = week.id;
            renderWeeks();
            renderStages();
          });
          weekContainer.appendChild(button);
        });
      }

      function renderStages() {
        stageGrid.innerHTML = "";
        const stages = STAGES.filter((stage) => stage.weeks.includes(state.selectedWeek));
        if (stages.length === 0) {
          emptyMessage.hidden = false;
          return;
        }
        emptyMessage.hidden = true;
        stages.forEach((stage) => {
          const card = document.createElement("article");
          card.className = "stage-card";
          card.innerHTML = `
            <div class="stage-card__header">
              <div>
                <h3 class="stage-card__title">${stage.title}</h3>
                <div class="stage-card__tag">${stage.tagline}</div>
              </div>
              <div class="badge">${stage.location}</div>
            </div>
            <div class="stage-card__meta">
              <span>ð¯ ${stage.focus}</span>
              <span>ð¾ ${stage.level}</span>
              <span>ð¶ ${formatCurrency(stage.basePrice)}</span>
            </div>
            <p class="stage-card__description">${stage.description}</p>
            <div class="stage-card__actions">
              <button class="btn-primary" type="button" data-stage="${stage.id}">RÃ©server cette semaine</button>
              <div class="stage-card__price">Ã partir de ${formatCurrency(stage.basePrice)}</div>
            </div>
          `;
          const btn = card.querySelector("[data-stage]");
          btn.addEventListener("click", () => openBookingModal(stage.id));
          stageGrid.appendChild(card);
        });
      }

      function openBookingModal(stageId) {
        const stage = STAGES.find((item) => item.id === stageId);
        const week = WEEKS.find((item) => item.id === state.selectedWeek);
        if (!stage || !week) return;

        bookingForm.stageId.value = stage.id;
        bookingForm.weekId.value = week.id;
        bookingForm.participants.value = 1;
        bookingForm.ageGroup.value = "Jeune";
        bookingForm.lodging.checked = false;
        bookingForm.transport.checked = false;
        bookingForm.contactName.value = "";
        bookingForm.contactEmail.value = "";
        bookingForm.contactPhone.value = "";
        bookingForm.message.value = "";
        selectedStageEl.textContent = `${stage.title} â¢ ${week.label}`;
        updateEstimate();
        bookingModal.setAttribute("aria-hidden", "false");
        document.body.style.overflow = "hidden";
        bookingForm.querySelector("#contact-name").focus();
      }

      function closeBookingModal() {
        bookingModal.setAttribute("aria-hidden", "true");
        document.body.style.overflow = "";
      }

      function openCartModal() {
        if (window.matchMedia("(max-width: 960px)").matches) {
          nav.dataset.open = "false";
          navToggle.setAttribute("aria-expanded", "false");
        }
        cartModal.setAttribute("aria-hidden", "false");
        document.body.style.overflow = "hidden";
        renderCart();
      }

      function closeCartModal() {
        cartModal.setAttribute("aria-hidden", "true");
        document.body.style.overflow = "";
      }

      function updateEstimate() {
        const stage = STAGES.find((item) => item.id === bookingForm.stageId.value);
        if (!stage) return;
        const participants = Number(bookingForm.participants.value) || 1;
        const lodging = bookingForm.lodging.checked ? 180 * participants : 0;
        const transport = bookingForm.transport.checked ? 70 * participants : 0;
        const estimate = stage.basePrice * participants + lodging + transport;
        estimateEl.textContent = formatCurrency(estimate);
      }

      function renderCart() {
        cartList.innerHTML = "";
        if (state.cart.length === 0) {
          const empty = document.createElement("div");
          empty.className = "empty-state";
          empty.textContent = "Votre panier est vide. Ajoutez un stage pour commencer.";
          cartList.appendChild(empty);
        } else {
          state.cart.forEach((item, index) => {
            const stage = STAGES.find((stage) => stage.id === item.stageId);
            const week = WEEKS.find((w) => w.id === item.weekId);
            const element = document.createElement("article");
            element.className = "cart-item";
            element.innerHTML = `
              <div class="cart-item__header">
                <h3 class="cart-item__title">${stage?.title ?? "Stage"}</h3>
                <button class="cart-item__remove" type="button" data-remove="${index}">Retirer</button>
              </div>
              <div class="cart-item__meta">
                <span>ð ${week?.label ?? "Semaine"}</span>
                <span>ð¥ ${item.participants} joueur(s) - ${item.ageGroup}</span>
                <span>${item.lodging ? "ð¨ HÃ©bergement inclus" : ""}</span>
                <span>${item.transport ? "ð Transport inclus" : ""}</span>
              </div>
              <div class="cart-item__price">${formatCurrency(item.total)}</div>
            `;
            element.querySelectorAll("span").forEach((span) => {
              if (!span.textContent.trim()) {
                span.remove();
              }
            });
            element.querySelector("[data-remove]").addEventListener("click", () => {
              state.cart.splice(index, 1);
              updateCartBadge();
              renderCart();
              showToast("Stage retirÃ© du panier");
            });
            cartList.appendChild(element);
          });
        }
        const total = state.cart.reduce((acc, item) => acc + item.total, 0);
        cartTotalEl.textContent = formatCurrency(total);
        updateCartBadge();
      }

      function updateCartBadge() {
        const totalItems = state.cart.length;
        cartCountEls.forEach((el) => {
          el.textContent = totalItems;
        });
      }

      function showToast(message) {
        toast.textContent = message;
        toast.dataset.visible = "true";
        setTimeout(() => {
          toast.dataset.visible = "false";
        }, 2600);
      }

      bookingForm.addEventListener("input", (event) => {
        if (["participants", "lodging", "transport"].includes(event.target.name)) {
          updateEstimate();
        }
      });

      bookingForm.addEventListener("submit", (event) => {
        event.preventDefault();
        const stage = STAGES.find((item) => item.id === bookingForm.stageId.value);
        const week = WEEKS.find((item) => item.id === bookingForm.weekId.value);
        if (!stage || !week) return;
        const participants = Number(bookingForm.participants.value) || 1;
        const lodging = bookingForm.lodging.checked;
        const transport = bookingForm.transport.checked;
        const total = stage.basePrice * participants + (lodging ? 180 * participants : 0) + (transport ? 70 * participants : 0);
        state.cart.push({
          stageId: stage.id,
          weekId: week.id,
          participants,
          ageGroup: bookingForm.ageGroup.value,
          lodging,
          transport,
          total,
          contact: {
            name: bookingForm.contactName.value,
            email: bookingForm.contactEmail.value,
            phone: bookingForm.contactPhone.value,
            message: bookingForm.message.value,
          },
        });
        updateCartBadge();
        closeBookingModal();
        showToast("Stage ajoutÃ© au panier");
        openCartModal();
      });

      document.querySelectorAll("[data-open-cart]").forEach((btn) => {
        btn.addEventListener("click", openCartModal);
      });

      document.querySelectorAll("[data-close-modal]").forEach((btn) => {
        btn.addEventListener("click", closeBookingModal);
      });

      document.querySelectorAll("[data-close-cart]").forEach((btn) => {
        btn.addEventListener("click", closeCartModal);
      });

      document.addEventListener("keydown", (event) => {
        if (event.key === "Escape") {
          if (bookingModal.getAttribute("aria-hidden") === "false") {
            closeBookingModal();
          }
          if (cartModal.getAttribute("aria-hidden") === "false") {
            closeCartModal();
          }
        }
      });

      document.querySelector("[data-validate]").addEventListener("click", () => {
        if (state.cart.length === 0) {
          showToast("Ajoutez un stage avant dâenvoyer votre demande");
          return;
        }
        state.cart = [];
        updateCartBadge();
        renderCart();
        showToast("Votre demande a bien Ã©tÃ© transmise !");
      });

      document.querySelectorAll("[data-scroll-to]").forEach((btn) => {
        btn.addEventListener("click", (event) => {
          const targetId = event.currentTarget.dataset.scrollTo;
          const target = document.getElementById(targetId);
          if (target) {
            target.scrollIntoView({ behavior: "smooth" });
          }
        });
      });

      const navToggle = document.querySelector(".nav-toggle");
      const nav = document.querySelector("nav.primary-nav");
      navToggle.addEventListener("click", () => {
        const isOpen = nav.dataset.open === "true";
        nav.dataset.open = String(!isOpen);
        navToggle.setAttribute("aria-expanded", String(!isOpen));
      });

      nav.querySelectorAll("a").forEach((link) => {
        link.addEventListener("click", () => {
          if (window.matchMedia("(max-width: 960px)").matches) {
            nav.dataset.open = "false";
            navToggle.setAttribute("aria-expanded", "false");
          }
        });
      });

      [bookingModal, cartModal].forEach((modalElement) => {
        modalElement.addEventListener("click", (event) => {
          if (event.target === modalElement) {
            if (modalElement === bookingModal) {
              closeBookingModal();
            } else {
              closeCartModal();
            }
          }
        });
      });

      renderWeeks();
      renderStages();
      renderCart();
    </script>
  </body>
</html>
